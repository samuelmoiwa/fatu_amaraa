const ln=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function e(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerpolicy&&(n.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?n.credentials="include":i.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(i){if(i.ep)return;i.ep=!0;const n=e(i);fetch(i.href,n)}};ln();var at="top",ct="bottom",ut="right",ot="left",ts="auto",pe=[at,ct,ut,ot],Kt="start",oe="end",tr="clippingParents",js="viewport",ie="popper",er="reference",Is=pe.reduce(function(a,t){return a.concat([t+"-"+Kt,t+"-"+oe])},[]),Us=[].concat(pe,[ts]).reduce(function(a,t){return a.concat([t,t+"-"+Kt,t+"-"+oe])},[]),sr="beforeRead",ir="read",rr="afterRead",nr="beforeMain",ar="main",or="afterMain",lr="beforeWrite",hr="write",cr="afterWrite",ur=[sr,ir,rr,nr,ar,or,lr,hr,cr];function Ot(a){return a?(a.nodeName||"").toLowerCase():null}function dt(a){if(a==null)return window;if(a.toString()!=="[object Window]"){var t=a.ownerDocument;return t&&t.defaultView||window}return a}function Xt(a){var t=dt(a).Element;return a instanceof t||a instanceof Element}function mt(a){var t=dt(a).HTMLElement;return a instanceof t||a instanceof HTMLElement}function zs(a){if(typeof ShadowRoot=="undefined")return!1;var t=dt(a).ShadowRoot;return a instanceof t||a instanceof ShadowRoot}function hn(a){var t=a.state;Object.keys(t.elements).forEach(function(e){var r=t.styles[e]||{},i=t.attributes[e]||{},n=t.elements[e];!mt(n)||!Ot(n)||(Object.assign(n.style,r),Object.keys(i).forEach(function(s){var o=i[s];o===!1?n.removeAttribute(s):n.setAttribute(s,o===!0?"":o)}))})}function cn(a){var t=a.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],n=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:e[r]),o=s.reduce(function(l,h){return l[h]="",l},{});!mt(i)||!Ot(i)||(Object.assign(i.style,o),Object.keys(n).forEach(function(l){i.removeAttribute(l)}))})}}var Bs={name:"applyStyles",enabled:!0,phase:"write",fn:hn,effect:cn,requires:["computeStyles"]};function St(a){return a.split("-")[0]}var Yt=Math.max,Ye=Math.min,le=Math.round;function Ns(){var a=navigator.userAgentData;return a!=null&&a.brands&&Array.isArray(a.brands)?a.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function dr(){return!/^((?!chrome|android).)*safari/i.test(Ns())}function he(a,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var r=a.getBoundingClientRect(),i=1,n=1;t&&mt(a)&&(i=a.offsetWidth>0&&le(r.width)/a.offsetWidth||1,n=a.offsetHeight>0&&le(r.height)/a.offsetHeight||1);var s=Xt(a)?dt(a):window,o=s.visualViewport,l=!dr()&&e,h=(r.left+(l&&o?o.offsetLeft:0))/i,c=(r.top+(l&&o?o.offsetTop:0))/n,u=r.width/i,f=r.height/n;return{width:u,height:f,top:c,right:h+u,bottom:c+f,left:h,x:h,y:c}}function Ws(a){var t=he(a),e=a.offsetWidth,r=a.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:a.offsetLeft,y:a.offsetTop,width:e,height:r}}function fr(a,t){var e=t.getRootNode&&t.getRootNode();if(a.contains(t))return!0;if(e&&zs(e)){var r=t;do{if(r&&a.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Mt(a){return dt(a).getComputedStyle(a)}function un(a){return["table","td","th"].indexOf(Ot(a))>=0}function Ut(a){return((Xt(a)?a.ownerDocument:a.document)||window.document).documentElement}function es(a){return Ot(a)==="html"?a:a.assignedSlot||a.parentNode||(zs(a)?a.host:null)||Ut(a)}function ai(a){return!mt(a)||Mt(a).position==="fixed"?null:a.offsetParent}function dn(a){var t=/firefox/i.test(Ns()),e=/Trident/i.test(Ns());if(e&&mt(a)){var r=Mt(a);if(r.position==="fixed")return null}var i=es(a);for(zs(i)&&(i=i.host);mt(i)&&["html","body"].indexOf(Ot(i))<0;){var n=Mt(i);if(n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].indexOf(n.willChange)!==-1||t&&n.willChange==="filter"||t&&n.filter&&n.filter!=="none")return i;i=i.parentNode}return null}function Pe(a){for(var t=dt(a),e=ai(a);e&&un(e)&&Mt(e).position==="static";)e=ai(e);return e&&(Ot(e)==="html"||Ot(e)==="body"&&Mt(e).position==="static")?t:e||dn(a)||t}function Hs(a){return["top","bottom"].indexOf(a)>=0?"x":"y"}function we(a,t,e){return Yt(a,Ye(t,e))}function fn(a,t,e){var r=we(a,t,e);return r>e?e:r}function pr(){return{top:0,right:0,bottom:0,left:0}}function gr(a){return Object.assign({},pr(),a)}function mr(a,t){return t.reduce(function(e,r){return e[r]=a,e},{})}var pn=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,gr(typeof t!="number"?t:mr(t,pe))};function gn(a){var t,e=a.state,r=a.name,i=a.options,n=e.elements.arrow,s=e.modifiersData.popperOffsets,o=St(e.placement),l=Hs(o),h=[ot,ut].indexOf(o)>=0,c=h?"height":"width";if(!(!n||!s)){var u=pn(i.padding,e),f=Ws(n),d=l==="y"?at:ot,p=l==="y"?ct:ut,m=e.rects.reference[c]+e.rects.reference[l]-s[l]-e.rects.popper[c],g=s[l]-e.rects.reference[l],v=Pe(n),_=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,E=m/2-g/2,b=u[d],T=_-f[c]-u[p],y=_/2-f[c]/2+E,A=we(b,y,T),P=l;e.modifiersData[r]=(t={},t[P]=A,t.centerOffset=A-y,t)}}function mn(a){var t=a.state,e=a.options,r=e.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||!fr(t.elements.popper,i)||(t.elements.arrow=i))}var vr={name:"arrow",enabled:!0,phase:"main",fn:gn,effect:mn,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ce(a){return a.split("-")[1]}var vn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _n(a,t){var e=a.x,r=a.y,i=t.devicePixelRatio||1;return{x:le(e*i)/i||0,y:le(r*i)/i||0}}function oi(a){var t,e=a.popper,r=a.popperRect,i=a.placement,n=a.variation,s=a.offsets,o=a.position,l=a.gpuAcceleration,h=a.adaptive,c=a.roundOffsets,u=a.isFixed,f=s.x,d=f===void 0?0:f,p=s.y,m=p===void 0?0:p,g=typeof c=="function"?c({x:d,y:m}):{x:d,y:m};d=g.x,m=g.y;var v=s.hasOwnProperty("x"),_=s.hasOwnProperty("y"),E=ot,b=at,T=window;if(h){var y=Pe(e),A="clientHeight",P="clientWidth";if(y===dt(e)&&(y=Ut(e),Mt(y).position!=="static"&&o==="absolute"&&(A="scrollHeight",P="scrollWidth")),y=y,i===at||(i===ot||i===ut)&&n===oe){b=ct;var w=u&&y===T&&T.visualViewport?T.visualViewport.height:y[A];m-=w-r.height,m*=l?1:-1}if(i===ot||(i===at||i===ct)&&n===oe){E=ut;var I=u&&y===T&&T.visualViewport?T.visualViewport.width:y[P];d-=I-r.width,d*=l?1:-1}}var x=Object.assign({position:o},h&&vn),S=c===!0?_n({x:d,y:m},dt(e)):{x:d,y:m};if(d=S.x,m=S.y,l){var C;return Object.assign({},x,(C={},C[b]=_?"0":"",C[E]=v?"0":"",C.transform=(T.devicePixelRatio||1)<=1?"translate("+d+"px, "+m+"px)":"translate3d("+d+"px, "+m+"px, 0)",C))}return Object.assign({},x,(t={},t[b]=_?m+"px":"",t[E]=v?d+"px":"",t.transform="",t))}function yn(a){var t=a.state,e=a.options,r=e.gpuAcceleration,i=r===void 0?!0:r,n=e.adaptive,s=n===void 0?!0:n,o=e.roundOffsets,l=o===void 0?!0:o,h={placement:St(t.placement),variation:ce(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,oi(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,oi(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Gs={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:yn,data:{}},Fe={passive:!0};function bn(a){var t=a.state,e=a.instance,r=a.options,i=r.scroll,n=i===void 0?!0:i,s=r.resize,o=s===void 0?!0:s,l=dt(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return n&&h.forEach(function(c){c.addEventListener("scroll",e.update,Fe)}),o&&l.addEventListener("resize",e.update,Fe),function(){n&&h.forEach(function(c){c.removeEventListener("scroll",e.update,Fe)}),o&&l.removeEventListener("resize",e.update,Fe)}}var Ys={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:bn,data:{}},En={left:"right",right:"left",bottom:"top",top:"bottom"};function We(a){return a.replace(/left|right|bottom|top/g,function(t){return En[t]})}var xn={start:"end",end:"start"};function li(a){return a.replace(/start|end/g,function(t){return xn[t]})}function Ks(a){var t=dt(a),e=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:e,scrollTop:r}}function Xs(a){return he(Ut(a)).left+Ks(a).scrollLeft}function Tn(a,t){var e=dt(a),r=Ut(a),i=e.visualViewport,n=r.clientWidth,s=r.clientHeight,o=0,l=0;if(i){n=i.width,s=i.height;var h=dr();(h||!h&&t==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:n,height:s,x:o+Xs(a),y:l}}function Sn(a){var t,e=Ut(a),r=Ks(a),i=(t=a.ownerDocument)==null?void 0:t.body,n=Yt(e.scrollWidth,e.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Yt(e.scrollHeight,e.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-r.scrollLeft+Xs(a),l=-r.scrollTop;return Mt(i||e).direction==="rtl"&&(o+=Yt(e.clientWidth,i?i.clientWidth:0)-n),{width:n,height:s,x:o,y:l}}function Qs(a){var t=Mt(a),e=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+i+r)}function _r(a){return["html","body","#document"].indexOf(Ot(a))>=0?a.ownerDocument.body:mt(a)&&Qs(a)?a:_r(es(a))}function Ae(a,t){var e;t===void 0&&(t=[]);var r=_r(a),i=r===((e=a.ownerDocument)==null?void 0:e.body),n=dt(r),s=i?[n].concat(n.visualViewport||[],Qs(r)?r:[]):r,o=t.concat(s);return i?o:o.concat(Ae(es(s)))}function Ls(a){return Object.assign({},a,{left:a.x,top:a.y,right:a.x+a.width,bottom:a.y+a.height})}function wn(a,t){var e=he(a,!1,t==="fixed");return e.top=e.top+a.clientTop,e.left=e.left+a.clientLeft,e.bottom=e.top+a.clientHeight,e.right=e.left+a.clientWidth,e.width=a.clientWidth,e.height=a.clientHeight,e.x=e.left,e.y=e.top,e}function hi(a,t,e){return t===js?Ls(Tn(a,e)):Xt(t)?wn(t,e):Ls(Sn(Ut(a)))}function An(a){var t=Ae(es(a)),e=["absolute","fixed"].indexOf(Mt(a).position)>=0,r=e&&mt(a)?Pe(a):a;return Xt(r)?t.filter(function(i){return Xt(i)&&fr(i,r)&&Ot(i)!=="body"}):[]}function On(a,t,e,r){var i=t==="clippingParents"?An(a):[].concat(t),n=[].concat(i,[e]),s=n[0],o=n.reduce(function(l,h){var c=hi(a,h,r);return l.top=Yt(c.top,l.top),l.right=Ye(c.right,l.right),l.bottom=Ye(c.bottom,l.bottom),l.left=Yt(c.left,l.left),l},hi(a,s,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function yr(a){var t=a.reference,e=a.element,r=a.placement,i=r?St(r):null,n=r?ce(r):null,s=t.x+t.width/2-e.width/2,o=t.y+t.height/2-e.height/2,l;switch(i){case at:l={x:s,y:t.y-e.height};break;case ct:l={x:s,y:t.y+t.height};break;case ut:l={x:t.x+t.width,y:o};break;case ot:l={x:t.x-e.width,y:o};break;default:l={x:t.x,y:t.y}}var h=i?Hs(i):null;if(h!=null){var c=h==="y"?"height":"width";switch(n){case Kt:l[h]=l[h]-(t[c]/2-e[c]/2);break;case oe:l[h]=l[h]+(t[c]/2-e[c]/2);break}}return l}function ue(a,t){t===void 0&&(t={});var e=t,r=e.placement,i=r===void 0?a.placement:r,n=e.strategy,s=n===void 0?a.strategy:n,o=e.boundary,l=o===void 0?tr:o,h=e.rootBoundary,c=h===void 0?js:h,u=e.elementContext,f=u===void 0?ie:u,d=e.altBoundary,p=d===void 0?!1:d,m=e.padding,g=m===void 0?0:m,v=gr(typeof g!="number"?g:mr(g,pe)),_=f===ie?er:ie,E=a.rects.popper,b=a.elements[p?_:f],T=On(Xt(b)?b:b.contextElement||Ut(a.elements.popper),l,c,s),y=he(a.elements.reference),A=yr({reference:y,element:E,strategy:"absolute",placement:i}),P=Ls(Object.assign({},E,A)),w=f===ie?P:y,I={top:T.top-w.top+v.top,bottom:w.bottom-T.bottom+v.bottom,left:T.left-w.left+v.left,right:w.right-T.right+v.right},x=a.modifiersData.offset;if(f===ie&&x){var S=x[i];Object.keys(I).forEach(function(C){var R=[ut,ct].indexOf(C)>=0?1:-1,L=[at,ct].indexOf(C)>=0?"y":"x";I[C]+=S[L]*R})}return I}function Cn(a,t){t===void 0&&(t={});var e=t,r=e.placement,i=e.boundary,n=e.rootBoundary,s=e.padding,o=e.flipVariations,l=e.allowedAutoPlacements,h=l===void 0?Us:l,c=ce(r),u=c?o?Is:Is.filter(function(p){return ce(p)===c}):pe,f=u.filter(function(p){return h.indexOf(p)>=0});f.length===0&&(f=u);var d=f.reduce(function(p,m){return p[m]=ue(a,{placement:m,boundary:i,rootBoundary:n,padding:s})[St(m)],p},{});return Object.keys(d).sort(function(p,m){return d[p]-d[m]})}function Pn(a){if(St(a)===ts)return[];var t=We(a);return[li(a),t,li(t)]}function Rn(a){var t=a.state,e=a.options,r=a.name;if(!t.modifiersData[r]._skip){for(var i=e.mainAxis,n=i===void 0?!0:i,s=e.altAxis,o=s===void 0?!0:s,l=e.fallbackPlacements,h=e.padding,c=e.boundary,u=e.rootBoundary,f=e.altBoundary,d=e.flipVariations,p=d===void 0?!0:d,m=e.allowedAutoPlacements,g=t.options.placement,v=St(g),_=v===g,E=l||(_||!p?[We(g)]:Pn(g)),b=[g].concat(E).reduce(function(X,J){return X.concat(St(J)===ts?Cn(t,{placement:J,boundary:c,rootBoundary:u,padding:h,flipVariations:p,allowedAutoPlacements:m}):J)},[]),T=t.rects.reference,y=t.rects.popper,A=new Map,P=!0,w=b[0],I=0;I<b.length;I++){var x=b[I],S=St(x),C=ce(x)===Kt,R=[at,ct].indexOf(S)>=0,L=R?"width":"height",N=ue(t,{placement:x,boundary:c,rootBoundary:u,altBoundary:f,padding:h}),D=R?C?ut:ot:C?ct:at;T[L]>y[L]&&(D=We(D));var V=We(D),$=[];if(n&&$.push(N[S]<=0),o&&$.push(N[D]<=0,N[V]<=0),$.every(function(X){return X})){w=x,P=!1;break}A.set(x,$)}if(P)for(var W=p?3:1,k=function(J){var et=b.find(function(Z){var H=A.get(Z);if(H)return H.slice(0,J).every(function(st){return st})});if(et)return w=et,"break"},z=W;z>0;z--){var tt=k(z);if(tt==="break")break}t.placement!==w&&(t.modifiersData[r]._skip=!0,t.placement=w,t.reset=!0)}}var br={name:"flip",enabled:!0,phase:"main",fn:Rn,requiresIfExists:["offset"],data:{_skip:!1}};function ci(a,t,e){return e===void 0&&(e={x:0,y:0}),{top:a.top-t.height-e.y,right:a.right-t.width+e.x,bottom:a.bottom-t.height+e.y,left:a.left-t.width-e.x}}function ui(a){return[at,ut,ct,ot].some(function(t){return a[t]>=0})}function In(a){var t=a.state,e=a.name,r=t.rects.reference,i=t.rects.popper,n=t.modifiersData.preventOverflow,s=ue(t,{elementContext:"reference"}),o=ue(t,{altBoundary:!0}),l=ci(s,r),h=ci(o,i,n),c=ui(l),u=ui(h);t.modifiersData[e]={referenceClippingOffsets:l,popperEscapeOffsets:h,isReferenceHidden:c,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":u})}var Er={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:In};function Nn(a,t,e){var r=St(a),i=[ot,at].indexOf(r)>=0?-1:1,n=typeof e=="function"?e(Object.assign({},t,{placement:a})):e,s=n[0],o=n[1];return s=s||0,o=(o||0)*i,[ot,ut].indexOf(r)>=0?{x:o,y:s}:{x:s,y:o}}function Ln(a){var t=a.state,e=a.options,r=a.name,i=e.offset,n=i===void 0?[0,0]:i,s=Us.reduce(function(c,u){return c[u]=Nn(u,t.rects,n),c},{}),o=s[t.placement],l=o.x,h=o.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=h),t.modifiersData[r]=s}var xr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ln};function Mn(a){var t=a.state,e=a.name;t.modifiersData[e]=yr({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Zs={name:"popperOffsets",enabled:!0,phase:"read",fn:Mn,data:{}};function Dn(a){return a==="x"?"y":"x"}function kn(a){var t=a.state,e=a.options,r=a.name,i=e.mainAxis,n=i===void 0?!0:i,s=e.altAxis,o=s===void 0?!1:s,l=e.boundary,h=e.rootBoundary,c=e.altBoundary,u=e.padding,f=e.tether,d=f===void 0?!0:f,p=e.tetherOffset,m=p===void 0?0:p,g=ue(t,{boundary:l,rootBoundary:h,padding:u,altBoundary:c}),v=St(t.placement),_=ce(t.placement),E=!_,b=Hs(v),T=Dn(b),y=t.modifiersData.popperOffsets,A=t.rects.reference,P=t.rects.popper,w=typeof m=="function"?m(Object.assign({},t.rects,{placement:t.placement})):m,I=typeof w=="number"?{mainAxis:w,altAxis:w}:Object.assign({mainAxis:0,altAxis:0},w),x=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,S={x:0,y:0};if(!!y){if(n){var C,R=b==="y"?at:ot,L=b==="y"?ct:ut,N=b==="y"?"height":"width",D=y[b],V=D+g[R],$=D-g[L],W=d?-P[N]/2:0,k=_===Kt?A[N]:P[N],z=_===Kt?-P[N]:-A[N],tt=t.elements.arrow,X=d&&tt?Ws(tt):{width:0,height:0},J=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:pr(),et=J[R],Z=J[L],H=we(0,A[N],X[N]),st=E?A[N]/2-W-H-et-I.mainAxis:k-H-et-I.mainAxis,ft=E?-A[N]/2+W+H+Z+I.mainAxis:z+H+Z+I.mainAxis,nt=t.elements.arrow&&Pe(t.elements.arrow),ht=nt?b==="y"?nt.clientTop||0:nt.clientLeft||0:0,K=(C=x==null?void 0:x[b])!=null?C:0,B=D+st-K-ht,it=D+ft-K,rt=we(d?Ye(V,B):V,D,d?Yt($,it):$);y[b]=rt,S[b]=rt-D}if(o){var kt,fs=b==="x"?at:ot,Me=b==="x"?ct:ut,xt=y[T],Wt=T==="y"?"height":"width",_e=xt+g[fs],ye=xt-g[Me],be=[at,ot].indexOf(v)!==-1,Ee=(kt=x==null?void 0:x[T])!=null?kt:0,De=be?_e:xt-A[Wt]-P[Wt]-Ee+I.altAxis,Ct=be?xt+A[Wt]+P[Wt]-Ee-I.altAxis:ye,Pt=d&&be?fn(De,xt,Ct):we(d?De:_e,xt,d?Ct:ye);y[T]=Pt,S[T]=Pt-xt}t.modifiersData[r]=S}}var Tr={name:"preventOverflow",enabled:!0,phase:"main",fn:kn,requiresIfExists:["offset"]};function Fn(a){return{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}}function $n(a){return a===dt(a)||!mt(a)?Ks(a):Fn(a)}function Vn(a){var t=a.getBoundingClientRect(),e=le(t.width)/a.offsetWidth||1,r=le(t.height)/a.offsetHeight||1;return e!==1||r!==1}function jn(a,t,e){e===void 0&&(e=!1);var r=mt(t),i=mt(t)&&Vn(t),n=Ut(t),s=he(a,i,e),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!e)&&((Ot(t)!=="body"||Qs(n))&&(o=$n(t)),mt(t)?(l=he(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):n&&(l.x=Xs(n))),{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function Un(a){var t=new Map,e=new Set,r=[];a.forEach(function(n){t.set(n.name,n)});function i(n){e.add(n.name);var s=[].concat(n.requires||[],n.requiresIfExists||[]);s.forEach(function(o){if(!e.has(o)){var l=t.get(o);l&&i(l)}}),r.push(n)}return a.forEach(function(n){e.has(n.name)||i(n)}),r}function zn(a){var t=Un(a);return ur.reduce(function(e,r){return e.concat(t.filter(function(i){return i.phase===r}))},[])}function Bn(a){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(a())})})),t}}function Wn(a){var t=a.reduce(function(e,r){var i=e[r.name];return e[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,e},{});return Object.keys(t).map(function(e){return t[e]})}var di={placement:"bottom",modifiers:[],strategy:"absolute"};function fi(){for(var a=arguments.length,t=new Array(a),e=0;e<a;e++)t[e]=arguments[e];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function ss(a){a===void 0&&(a={});var t=a,e=t.defaultModifiers,r=e===void 0?[]:e,i=t.defaultOptions,n=i===void 0?di:i;return function(o,l,h){h===void 0&&(h=n);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},di,n),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},u=[],f=!1,d={state:c,setOptions:function(v){var _=typeof v=="function"?v(c.options):v;m(),c.options=Object.assign({},n,c.options,_),c.scrollParents={reference:Xt(o)?Ae(o):o.contextElement?Ae(o.contextElement):[],popper:Ae(l)};var E=zn(Wn([].concat(r,c.options.modifiers)));return c.orderedModifiers=E.filter(function(b){return b.enabled}),p(),d.update()},forceUpdate:function(){if(!f){var v=c.elements,_=v.reference,E=v.popper;if(!!fi(_,E)){c.rects={reference:jn(_,Pe(E),c.options.strategy==="fixed"),popper:Ws(E)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(I){return c.modifiersData[I.name]=Object.assign({},I.data)});for(var b=0;b<c.orderedModifiers.length;b++){if(c.reset===!0){c.reset=!1,b=-1;continue}var T=c.orderedModifiers[b],y=T.fn,A=T.options,P=A===void 0?{}:A,w=T.name;typeof y=="function"&&(c=y({state:c,options:P,name:w,instance:d})||c)}}}},update:Bn(function(){return new Promise(function(g){d.forceUpdate(),g(c)})}),destroy:function(){m(),f=!0}};if(!fi(o,l))return d;d.setOptions(h).then(function(g){!f&&h.onFirstUpdate&&h.onFirstUpdate(g)});function p(){c.orderedModifiers.forEach(function(g){var v=g.name,_=g.options,E=_===void 0?{}:_,b=g.effect;if(typeof b=="function"){var T=b({state:c,name:v,instance:d,options:E}),y=function(){};u.push(T||y)}})}function m(){u.forEach(function(g){return g()}),u=[]}return d}}var Hn=ss(),Gn=[Ys,Zs,Gs,Bs],Yn=ss({defaultModifiers:Gn}),Kn=[Ys,Zs,Gs,Bs,xr,br,Tr,vr,Er],Js=ss({defaultModifiers:Kn}),Sr=Object.freeze(Object.defineProperty({__proto__:null,popperGenerator:ss,detectOverflow:ue,createPopperBase:Hn,createPopper:Js,createPopperLite:Yn,top:at,bottom:ct,right:ut,left:ot,auto:ts,basePlacements:pe,start:Kt,end:oe,clippingParents:tr,viewport:js,popper:ie,reference:er,variationPlacements:Is,placements:Us,beforeRead:sr,read:ir,afterRead:rr,beforeMain:nr,main:ar,afterMain:or,beforeWrite:lr,write:hr,afterWrite:cr,modifierPhases:ur,applyStyles:Bs,arrow:vr,computeStyles:Gs,eventListeners:Ys,flip:br,hide:Er,offset:xr,popperOffsets:Zs,preventOverflow:Tr},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Xn=1e6,Qn=1e3,Ms="transitionend",Zn=a=>a==null?`${a}`:Object.prototype.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase(),Jn=a=>{do a+=Math.floor(Math.random()*Xn);while(document.getElementById(a));return a},wr=a=>{let t=a.getAttribute("data-bs-target");if(!t||t==="#"){let e=a.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),t=e&&e!=="#"?e.trim():null}return t},Ar=a=>{const t=wr(a);return t&&document.querySelector(t)?t:null},It=a=>{const t=wr(a);return t?document.querySelector(t):null},qn=a=>{if(!a)return 0;let{transitionDuration:t,transitionDelay:e}=window.getComputedStyle(a);const r=Number.parseFloat(t),i=Number.parseFloat(e);return!r&&!i?0:(t=t.split(",")[0],e=e.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(e))*Qn)},Or=a=>{a.dispatchEvent(new Event(Ms))},Nt=a=>!a||typeof a!="object"?!1:(typeof a.jquery!="undefined"&&(a=a[0]),typeof a.nodeType!="undefined"),$t=a=>Nt(a)?a.jquery?a[0]:a:typeof a=="string"&&a.length>0?document.querySelector(a):null,ge=a=>{if(!Nt(a)||a.getClientRects().length===0)return!1;const t=getComputedStyle(a).getPropertyValue("visibility")==="visible",e=a.closest("details:not([open])");if(!e)return t;if(e!==a){const r=a.closest("summary");if(r&&r.parentNode!==e||r===null)return!1}return t},Vt=a=>!a||a.nodeType!==Node.ELEMENT_NODE||a.classList.contains("disabled")?!0:typeof a.disabled!="undefined"?a.disabled:a.hasAttribute("disabled")&&a.getAttribute("disabled")!=="false",Cr=a=>{if(!document.documentElement.attachShadow)return null;if(typeof a.getRootNode=="function"){const t=a.getRootNode();return t instanceof ShadowRoot?t:null}return a instanceof ShadowRoot?a:a.parentNode?Cr(a.parentNode):null},Ke=()=>{},Re=a=>{a.offsetHeight},Pr=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,gs=[],ta=a=>{document.readyState==="loading"?(gs.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of gs)t()}),gs.push(a)):a()},_t=()=>document.documentElement.dir==="rtl",yt=a=>{ta(()=>{const t=Pr();if(t){const e=a.NAME,r=t.fn[e];t.fn[e]=a.jQueryInterface,t.fn[e].Constructor=a,t.fn[e].noConflict=()=>(t.fn[e]=r,a.jQueryInterface)}})},Rt=a=>{typeof a=="function"&&a()},Rr=(a,t,e=!0)=>{if(!e){Rt(a);return}const r=5,i=qn(t)+r;let n=!1;const s=({target:o})=>{o===t&&(n=!0,t.removeEventListener(Ms,s),Rt(a))};t.addEventListener(Ms,s),setTimeout(()=>{n||Or(t)},i)},qs=(a,t,e,r)=>{const i=a.length;let n=a.indexOf(t);return n===-1?!e&&r?a[i-1]:a[0]:(n+=e?1:-1,r&&(n=(n+i)%i),a[Math.max(0,Math.min(n,i-1))])},ea=/[^.]*(?=\..*)\.|.*/,sa=/\..*/,ia=/::\d+$/,ms={};let pi=1;const Ir={mouseenter:"mouseover",mouseleave:"mouseout"},ra=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Nr(a,t){return t&&`${t}::${pi++}`||a.uidEvent||pi++}function Lr(a){const t=Nr(a);return a.uidEvent=t,ms[t]=ms[t]||{},ms[t]}function na(a,t){return function e(r){return ti(r,{delegateTarget:a}),e.oneOff&&O.off(a,r.type,t),t.apply(a,[r])}}function aa(a,t,e){return function r(i){const n=a.querySelectorAll(t);for(let{target:s}=i;s&&s!==this;s=s.parentNode)for(const o of n)if(o===s)return ti(i,{delegateTarget:s}),r.oneOff&&O.off(a,i.type,t,e),e.apply(s,[i])}}function Mr(a,t,e=null){return Object.values(a).find(r=>r.callable===t&&r.delegationSelector===e)}function Dr(a,t,e){const r=typeof t=="string",i=r?e:t||e;let n=kr(a);return ra.has(n)||(n=a),[r,i,n]}function gi(a,t,e,r,i){if(typeof t!="string"||!a)return;let[n,s,o]=Dr(t,e,r);t in Ir&&(s=(p=>function(m){if(!m.relatedTarget||m.relatedTarget!==m.delegateTarget&&!m.delegateTarget.contains(m.relatedTarget))return p.call(this,m)})(s));const l=Lr(a),h=l[o]||(l[o]={}),c=Mr(h,s,n?e:null);if(c){c.oneOff=c.oneOff&&i;return}const u=Nr(s,t.replace(ea,"")),f=n?aa(a,e,s):na(a,s);f.delegationSelector=n?e:null,f.callable=s,f.oneOff=i,f.uidEvent=u,h[u]=f,a.addEventListener(o,f,n)}function Ds(a,t,e,r,i){const n=Mr(t[e],r,i);!n||(a.removeEventListener(e,n,Boolean(i)),delete t[e][n.uidEvent])}function oa(a,t,e,r){const i=t[e]||{};for(const n of Object.keys(i))if(n.includes(r)){const s=i[n];Ds(a,t,e,s.callable,s.delegationSelector)}}function kr(a){return a=a.replace(sa,""),Ir[a]||a}const O={on(a,t,e,r){gi(a,t,e,r,!1)},one(a,t,e,r){gi(a,t,e,r,!0)},off(a,t,e,r){if(typeof t!="string"||!a)return;const[i,n,s]=Dr(t,e,r),o=s!==t,l=Lr(a),h=l[s]||{},c=t.startsWith(".");if(typeof n!="undefined"){if(!Object.keys(h).length)return;Ds(a,l,s,n,i?e:null);return}if(c)for(const u of Object.keys(l))oa(a,l,u,t.slice(1));for(const u of Object.keys(h)){const f=u.replace(ia,"");if(!o||t.includes(f)){const d=h[u];Ds(a,l,s,d.callable,d.delegationSelector)}}},trigger(a,t,e){if(typeof t!="string"||!a)return null;const r=Pr(),i=kr(t),n=t!==i;let s=null,o=!0,l=!0,h=!1;n&&r&&(s=r.Event(t,e),r(a).trigger(s),o=!s.isPropagationStopped(),l=!s.isImmediatePropagationStopped(),h=s.isDefaultPrevented());let c=new Event(t,{bubbles:o,cancelable:!0});return c=ti(c,e),h&&c.preventDefault(),l&&a.dispatchEvent(c),c.defaultPrevented&&s&&s.preventDefault(),c}};function ti(a,t){for(const[e,r]of Object.entries(t||{}))try{a[e]=r}catch{Object.defineProperty(a,e,{configurable:!0,get(){return r}})}return a}const Ft=new Map,vs={set(a,t,e){Ft.has(a)||Ft.set(a,new Map);const r=Ft.get(a);if(!r.has(t)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(t,e)},get(a,t){return Ft.has(a)&&Ft.get(a).get(t)||null},remove(a,t){if(!Ft.has(a))return;const e=Ft.get(a);e.delete(t),e.size===0&&Ft.delete(a)}};function mi(a){if(a==="true")return!0;if(a==="false")return!1;if(a===Number(a).toString())return Number(a);if(a===""||a==="null")return null;if(typeof a!="string")return a;try{return JSON.parse(decodeURIComponent(a))}catch{return a}}function _s(a){return a.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const Lt={setDataAttribute(a,t,e){a.setAttribute(`data-bs-${_s(t)}`,e)},removeDataAttribute(a,t){a.removeAttribute(`data-bs-${_s(t)}`)},getDataAttributes(a){if(!a)return{};const t={},e=Object.keys(a.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of e){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),t[i]=mi(a.dataset[r])}return t},getDataAttribute(a,t){return mi(a.getAttribute(`data-bs-${_s(t)}`))}};class Ie{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const r=Nt(e)?Lt.getDataAttribute(e,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...Nt(e)?Lt.getDataAttributes(e):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const r of Object.keys(e)){const i=e[r],n=t[r],s=Nt(n)?"element":Zn(n);if(!new RegExp(i).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${s}" but expected type "${i}".`)}}}const la="5.2.3";class bt extends Ie{constructor(t,e){super(),t=$t(t),t&&(this._element=t,this._config=this._getConfig(e),vs.set(this._element,this.constructor.DATA_KEY,this))}dispose(){vs.remove(this._element,this.constructor.DATA_KEY),O.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,r=!0){Rr(t,e,r)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return vs.get($t(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,typeof e=="object"?e:null)}static get VERSION(){return la}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const is=(a,t="hide")=>{const e=`click.dismiss${a.EVENT_KEY}`,r=a.NAME;O.on(document,e,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Vt(this))return;const n=It(this)||this.closest(`.${r}`);a.getOrCreateInstance(n)[t]()})},ha="alert",ca="bs.alert",Fr=`.${ca}`,ua=`close${Fr}`,da=`closed${Fr}`,fa="fade",pa="show";class rs extends bt{static get NAME(){return ha}close(){if(O.trigger(this._element,ua).defaultPrevented)return;this._element.classList.remove(pa);const e=this._element.classList.contains(fa);this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),O.trigger(this._element,da),this.dispose()}static jQueryInterface(t){return this.each(function(){const e=rs.getOrCreateInstance(this);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}is(rs,"close");yt(rs);const ga="button",ma="bs.button",va=`.${ma}`,_a=".data-api",ya="active",vi='[data-bs-toggle="button"]',ba=`click${va}${_a}`;class ns extends bt{static get NAME(){return ga}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(ya))}static jQueryInterface(t){return this.each(function(){const e=ns.getOrCreateInstance(this);t==="toggle"&&e[t]()})}}O.on(document,ba,vi,a=>{a.preventDefault();const t=a.target.closest(vi);ns.getOrCreateInstance(t).toggle()});yt(ns);const U={find(a,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,a))},findOne(a,t=document.documentElement){return Element.prototype.querySelector.call(t,a)},children(a,t){return[].concat(...a.children).filter(e=>e.matches(t))},parents(a,t){const e=[];let r=a.parentNode.closest(t);for(;r;)e.push(r),r=r.parentNode.closest(t);return e},prev(a,t){let e=a.previousElementSibling;for(;e;){if(e.matches(t))return[e];e=e.previousElementSibling}return[]},next(a,t){let e=a.nextElementSibling;for(;e;){if(e.matches(t))return[e];e=e.nextElementSibling}return[]},focusableChildren(a){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,a).filter(e=>!Vt(e)&&ge(e))}},Ea="swipe",me=".bs.swipe",xa=`touchstart${me}`,Ta=`touchmove${me}`,Sa=`touchend${me}`,wa=`pointerdown${me}`,Aa=`pointerup${me}`,Oa="touch",Ca="pen",Pa="pointer-event",Ra=40,Ia={endCallback:null,leftCallback:null,rightCallback:null},Na={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Xe extends Ie{constructor(t,e){super(),this._element=t,!(!t||!Xe.isSupported())&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Ia}static get DefaultType(){return Na}static get NAME(){return Ea}dispose(){O.off(this._element,me)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),Rt(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=Ra)return;const e=t/this._deltaX;this._deltaX=0,e&&Rt(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(O.on(this._element,wa,t=>this._start(t)),O.on(this._element,Aa,t=>this._end(t)),this._element.classList.add(Pa)):(O.on(this._element,xa,t=>this._start(t)),O.on(this._element,Ta,t=>this._move(t)),O.on(this._element,Sa,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===Ca||t.pointerType===Oa)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const La="carousel",Ma="bs.carousel",zt=`.${Ma}`,$r=".data-api",Da="ArrowLeft",ka="ArrowRight",Fa=500,xe="next",ee="prev",re="left",He="right",$a=`slide${zt}`,ys=`slid${zt}`,Va=`keydown${zt}`,ja=`mouseenter${zt}`,Ua=`mouseleave${zt}`,za=`dragstart${zt}`,Ba=`load${zt}${$r}`,Wa=`click${zt}${$r}`,Vr="carousel",$e="active",Ha="slide",Ga="carousel-item-end",Ya="carousel-item-start",Ka="carousel-item-next",Xa="carousel-item-prev",jr=".active",Ur=".carousel-item",Qa=jr+Ur,Za=".carousel-item img",Ja=".carousel-indicators",qa="[data-bs-slide], [data-bs-slide-to]",to='[data-bs-ride="carousel"]',eo={[Da]:He,[ka]:re},so={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},io={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ne extends bt{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=U.findOne(Ja,this._element),this._addEventListeners(),this._config.ride===Vr&&this.cycle()}static get Default(){return so}static get DefaultType(){return io}static get NAME(){return La}next(){this._slide(xe)}nextWhenVisible(){!document.hidden&&ge(this._element)&&this.next()}prev(){this._slide(ee)}pause(){this._isSliding&&Or(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(!!this._config.ride){if(this._isSliding){O.one(this._element,ys,()=>this.cycle());return}this.cycle()}}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding){O.one(this._element,ys,()=>this.to(t));return}const r=this._getItemIndex(this._getActive());if(r===t)return;const i=t>r?xe:ee;this._slide(i,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&O.on(this._element,Va,t=>this._keydown(t)),this._config.pause==="hover"&&(O.on(this._element,ja,()=>this.pause()),O.on(this._element,Ua,()=>this._maybeEnableCycle())),this._config.touch&&Xe.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of U.find(Za,this._element))O.on(r,za,i=>i.preventDefault());const e={leftCallback:()=>this._slide(this._directionToOrder(re)),rightCallback:()=>this._slide(this._directionToOrder(He)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Fa+this._config.interval))}};this._swipeHelper=new Xe(this._element,e)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=eo[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=U.findOne(jr,this._indicatorsElement);e.classList.remove($e),e.removeAttribute("aria-current");const r=U.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);r&&(r.classList.add($e),r.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const r=this._getActive(),i=t===xe,n=e||qs(this._getItems(),r,i,this._config.wrap);if(n===r)return;const s=this._getItemIndex(n),o=d=>O.trigger(this._element,d,{relatedTarget:n,direction:this._orderToDirection(t),from:this._getItemIndex(r),to:s});if(o($a).defaultPrevented||!r||!n)return;const h=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=n;const c=i?Ya:Ga,u=i?Ka:Xa;n.classList.add(u),Re(n),r.classList.add(c),n.classList.add(c);const f=()=>{n.classList.remove(c,u),n.classList.add($e),r.classList.remove($e,u,c),this._isSliding=!1,o(ys)};this._queueCallback(f,r,this._isAnimated()),h&&this.cycle()}_isAnimated(){return this._element.classList.contains(Ha)}_getActive(){return U.findOne(Qa,this._element)}_getItems(){return U.find(Ur,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return _t()?t===re?ee:xe:t===re?xe:ee}_orderToDirection(t){return _t()?t===ee?re:He:t===ee?He:re}static jQueryInterface(t){return this.each(function(){const e=Ne.getOrCreateInstance(this,t);if(typeof t=="number"){e.to(t);return}if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}O.on(document,Wa,qa,function(a){const t=It(this);if(!t||!t.classList.contains(Vr))return;a.preventDefault();const e=Ne.getOrCreateInstance(t),r=this.getAttribute("data-bs-slide-to");if(r){e.to(r),e._maybeEnableCycle();return}if(Lt.getDataAttribute(this,"slide")==="next"){e.next(),e._maybeEnableCycle();return}e.prev(),e._maybeEnableCycle()});O.on(window,Ba,()=>{const a=U.find(to);for(const t of a)Ne.getOrCreateInstance(t)});yt(Ne);const ro="collapse",no="bs.collapse",Le=`.${no}`,ao=".data-api",oo=`show${Le}`,lo=`shown${Le}`,ho=`hide${Le}`,co=`hidden${Le}`,uo=`click${Le}${ao}`,bs="show",ae="collapse",Ve="collapsing",fo="collapsed",po=`:scope .${ae} .${ae}`,go="collapse-horizontal",mo="width",vo="height",_o=".collapse.show, .collapse.collapsing",ks='[data-bs-toggle="collapse"]',yo={parent:null,toggle:!0},bo={parent:"(null|element)",toggle:"boolean"};class Oe extends bt{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const r=U.find(ks);for(const i of r){const n=Ar(i),s=U.find(n).filter(o=>o===this._element);n!==null&&s.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return yo}static get DefaultType(){return bo}static get NAME(){return ro}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(_o).filter(o=>o!==this._element).map(o=>Oe.getOrCreateInstance(o,{toggle:!1}))),t.length&&t[0]._isTransitioning||O.trigger(this._element,oo).defaultPrevented)return;for(const o of t)o.hide();const r=this._getDimension();this._element.classList.remove(ae),this._element.classList.add(Ve),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(Ve),this._element.classList.add(ae,bs),this._element.style[r]="",O.trigger(this._element,lo)},s=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!this._isShown()||O.trigger(this._element,ho).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,Re(this._element),this._element.classList.add(Ve),this._element.classList.remove(ae,bs);for(const i of this._triggerArray){const n=It(i);n&&!this._isShown(n)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(Ve),this._element.classList.add(ae),O.trigger(this._element,co)};this._element.style[e]="",this._queueCallback(r,this._element,!0)}_isShown(t=this._element){return t.classList.contains(bs)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=$t(t.parent),t}_getDimension(){return this._element.classList.contains(go)?mo:vo}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(ks);for(const e of t){const r=It(e);r&&this._addAriaAndCollapsedClass([e],this._isShown(r))}}_getFirstLevelChildren(t){const e=U.find(po,this._config.parent);return U.find(t,this._config.parent).filter(r=>!e.includes(r))}_addAriaAndCollapsedClass(t,e){if(!!t.length)for(const r of t)r.classList.toggle(fo,!e),r.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return typeof t=="string"&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const r=Oe.getOrCreateInstance(this,e);if(typeof t=="string"){if(typeof r[t]=="undefined")throw new TypeError(`No method named "${t}"`);r[t]()}})}}O.on(document,uo,ks,function(a){(a.target.tagName==="A"||a.delegateTarget&&a.delegateTarget.tagName==="A")&&a.preventDefault();const t=Ar(this),e=U.find(t);for(const r of e)Oe.getOrCreateInstance(r,{toggle:!1}).toggle()});yt(Oe);const _i="dropdown",Eo="bs.dropdown",Qt=`.${Eo}`,ei=".data-api",xo="Escape",yi="Tab",To="ArrowUp",bi="ArrowDown",So=2,wo=`hide${Qt}`,Ao=`hidden${Qt}`,Oo=`show${Qt}`,Co=`shown${Qt}`,zr=`click${Qt}${ei}`,Br=`keydown${Qt}${ei}`,Po=`keyup${Qt}${ei}`,ne="show",Ro="dropup",Io="dropend",No="dropstart",Lo="dropup-center",Mo="dropdown-center",Ht='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Do=`${Ht}.${ne}`,Ge=".dropdown-menu",ko=".navbar",Fo=".navbar-nav",$o=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Vo=_t()?"top-end":"top-start",jo=_t()?"top-start":"top-end",Uo=_t()?"bottom-end":"bottom-start",zo=_t()?"bottom-start":"bottom-end",Bo=_t()?"left-start":"right-start",Wo=_t()?"right-start":"left-start",Ho="top",Go="bottom",Yo={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ko={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class wt extends bt{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=U.next(this._element,Ge)[0]||U.prev(this._element,Ge)[0]||U.findOne(Ge,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Yo}static get DefaultType(){return Ko}static get NAME(){return _i}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Vt(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!O.trigger(this._element,Oo,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Fo))for(const r of[].concat(...document.body.children))O.on(r,"mouseover",Ke);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ne),this._element.classList.add(ne),O.trigger(this._element,Co,t)}}hide(){if(Vt(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!O.trigger(this._element,wo,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))O.off(r,"mouseover",Ke);this._popper&&this._popper.destroy(),this._menu.classList.remove(ne),this._element.classList.remove(ne),this._element.setAttribute("aria-expanded","false"),Lt.removeDataAttribute(this._menu,"popper"),O.trigger(this._element,Ao,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!Nt(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${_i.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof Sr=="undefined")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:Nt(this._config.reference)?t=$t(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=Js(t,this._menu,e)}_isShown(){return this._menu.classList.contains(ne)}_getPlacement(){const t=this._parent;if(t.classList.contains(Io))return Bo;if(t.classList.contains(No))return Wo;if(t.classList.contains(Lo))return Ho;if(t.classList.contains(Mo))return Go;const e=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(Ro)?e?jo:Vo:e?zo:Uo}_detectNavbar(){return this._element.closest(ko)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(e=>Number.parseInt(e,10)):typeof t=="function"?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Lt.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...typeof this._config.popperConfig=="function"?this._config.popperConfig(t):this._config.popperConfig}}_selectMenuItem({key:t,target:e}){const r=U.find($o,this._menu).filter(i=>ge(i));!r.length||qs(r,e,t===bi,!r.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){const e=wt.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]=="undefined")throw new TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(t.button===So||t.type==="keyup"&&t.key!==yi)return;const e=U.find(Do);for(const r of e){const i=wt.getInstance(r);if(!i||i._config.autoClose===!1)continue;const n=t.composedPath(),s=n.includes(i._menu);if(n.includes(i._element)||i._config.autoClose==="inside"&&!s||i._config.autoClose==="outside"&&s||i._menu.contains(t.target)&&(t.type==="keyup"&&t.key===yi||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const o={relatedTarget:i._element};t.type==="click"&&(o.clickEvent=t),i._completeHide(o)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),r=t.key===xo,i=[To,bi].includes(t.key);if(!i&&!r||e&&!r)return;t.preventDefault();const n=this.matches(Ht)?this:U.prev(this,Ht)[0]||U.next(this,Ht)[0]||U.findOne(Ht,t.delegateTarget.parentNode),s=wt.getOrCreateInstance(n);if(i){t.stopPropagation(),s.show(),s._selectMenuItem(t);return}s._isShown()&&(t.stopPropagation(),s.hide(),n.focus())}}O.on(document,Br,Ht,wt.dataApiKeydownHandler);O.on(document,Br,Ge,wt.dataApiKeydownHandler);O.on(document,zr,wt.clearMenus);O.on(document,Po,wt.clearMenus);O.on(document,zr,Ht,function(a){a.preventDefault(),wt.getOrCreateInstance(this).toggle()});yt(wt);const Ei=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",xi=".sticky-top",je="padding-right",Ti="margin-right";class Fs{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,je,e=>e+t),this._setElementAttributes(Ei,je,e=>e+t),this._setElementAttributes(xi,Ti,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,je),this._resetElementAttributes(Ei,je),this._resetElementAttributes(xi,Ti)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,r){const i=this.getWidth(),n=s=>{if(s!==this._element&&window.innerWidth>s.clientWidth+i)return;this._saveInitialAttribute(s,e);const o=window.getComputedStyle(s).getPropertyValue(e);s.style.setProperty(e,`${r(Number.parseFloat(o))}px`)};this._applyManipulationCallback(t,n)}_saveInitialAttribute(t,e){const r=t.style.getPropertyValue(e);r&&Lt.setDataAttribute(t,e,r)}_resetElementAttributes(t,e){const r=i=>{const n=Lt.getDataAttribute(i,e);if(n===null){i.style.removeProperty(e);return}Lt.removeDataAttribute(i,e),i.style.setProperty(e,n)};this._applyManipulationCallback(t,r)}_applyManipulationCallback(t,e){if(Nt(t)){e(t);return}for(const r of U.find(t,this._element))e(r)}}const Wr="backdrop",Xo="fade",Si="show",wi=`mousedown.bs.${Wr}`,Qo={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Zo={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Hr extends Ie{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return Qo}static get DefaultType(){return Zo}static get NAME(){return Wr}show(t){if(!this._config.isVisible){Rt(t);return}this._append();const e=this._getElement();this._config.isAnimated&&Re(e),e.classList.add(Si),this._emulateAnimation(()=>{Rt(t)})}hide(t){if(!this._config.isVisible){Rt(t);return}this._getElement().classList.remove(Si),this._emulateAnimation(()=>{this.dispose(),Rt(t)})}dispose(){!this._isAppended||(O.off(this._element,wi),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(Xo),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=$t(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),O.on(t,wi,()=>{Rt(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){Rr(t,this._getElement(),this._config.isAnimated)}}const Jo="focustrap",qo="bs.focustrap",Qe=`.${qo}`,tl=`focusin${Qe}`,el=`keydown.tab${Qe}`,sl="Tab",il="forward",Ai="backward",rl={autofocus:!0,trapElement:null},nl={autofocus:"boolean",trapElement:"element"};class Gr extends Ie{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return rl}static get DefaultType(){return nl}static get NAME(){return Jo}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),O.off(document,Qe),O.on(document,tl,t=>this._handleFocusin(t)),O.on(document,el,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,O.off(document,Qe))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const r=U.focusableChildren(e);r.length===0?e.focus():this._lastTabNavDirection===Ai?r[r.length-1].focus():r[0].focus()}_handleKeydown(t){t.key===sl&&(this._lastTabNavDirection=t.shiftKey?Ai:il)}}const al="modal",ol="bs.modal",Et=`.${ol}`,ll=".data-api",hl="Escape",cl=`hide${Et}`,ul=`hidePrevented${Et}`,Yr=`hidden${Et}`,Kr=`show${Et}`,dl=`shown${Et}`,fl=`resize${Et}`,pl=`click.dismiss${Et}`,gl=`mousedown.dismiss${Et}`,ml=`keydown.dismiss${Et}`,vl=`click${Et}${ll}`,Oi="modal-open",_l="fade",Ci="show",Es="modal-static",yl=".modal.show",bl=".modal-dialog",El=".modal-body",xl='[data-bs-toggle="modal"]',Tl={backdrop:!0,focus:!0,keyboard:!0},Sl={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class de extends bt{constructor(t,e){super(t,e),this._dialog=U.findOne(bl,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Fs,this._addEventListeners()}static get Default(){return Tl}static get DefaultType(){return Sl}static get NAME(){return al}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||O.trigger(this._element,Kr,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Oi),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||O.trigger(this._element,cl).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Ci),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const t of[window,this._dialog])O.off(t,Et);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Hr({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Gr({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=U.findOne(El,this._dialog);e&&(e.scrollTop=0),Re(this._element),this._element.classList.add(Ci);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,O.trigger(this._element,dl,{relatedTarget:t})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){O.on(this._element,ml,t=>{if(t.key===hl){if(this._config.keyboard){t.preventDefault(),this.hide();return}this._triggerBackdropTransition()}}),O.on(window,fl,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),O.on(this._element,gl,t=>{O.one(this._element,pl,e=>{if(!(this._element!==t.target||this._element!==e.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Oi),this._resetAdjustments(),this._scrollBar.reset(),O.trigger(this._element,Yr)})}_isAnimated(){return this._element.classList.contains(_l)}_triggerBackdropTransition(){if(O.trigger(this._element,ul).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(Es)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(Es),this._queueCallback(()=>{this._element.classList.remove(Es),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),r=e>0;if(r&&!t){const i=_t()?"paddingLeft":"paddingRight";this._element.style[i]=`${e}px`}if(!r&&t){const i=_t()?"paddingRight":"paddingLeft";this._element.style[i]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const r=de.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof r[t]=="undefined")throw new TypeError(`No method named "${t}"`);r[t](e)}})}}O.on(document,vl,xl,function(a){const t=It(this);["A","AREA"].includes(this.tagName)&&a.preventDefault(),O.one(t,Kr,i=>{i.defaultPrevented||O.one(t,Yr,()=>{ge(this)&&this.focus()})});const e=U.findOne(yl);e&&de.getInstance(e).hide(),de.getOrCreateInstance(t).toggle(this)});is(de);yt(de);const wl="offcanvas",Al="bs.offcanvas",Dt=`.${Al}`,Xr=".data-api",Ol=`load${Dt}${Xr}`,Cl="Escape",Pi="show",Ri="showing",Ii="hiding",Pl="offcanvas-backdrop",Qr=".offcanvas.show",Rl=`show${Dt}`,Il=`shown${Dt}`,Nl=`hide${Dt}`,Ni=`hidePrevented${Dt}`,Zr=`hidden${Dt}`,Ll=`resize${Dt}`,Ml=`click${Dt}${Xr}`,Dl=`keydown.dismiss${Dt}`,kl='[data-bs-toggle="offcanvas"]',Fl={backdrop:!0,keyboard:!0,scroll:!1},$l={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class jt extends bt{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Fl}static get DefaultType(){return $l}static get NAME(){return wl}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||O.trigger(this._element,Rl,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Fs().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Ri);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Pi),this._element.classList.remove(Ri),O.trigger(this._element,Il,{relatedTarget:t})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||O.trigger(this._element,Nl).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Ii),this._backdrop.hide();const e=()=>{this._element.classList.remove(Pi,Ii),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Fs().reset(),O.trigger(this._element,Zr)};this._queueCallback(e,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){O.trigger(this._element,Ni);return}this.hide()},e=Boolean(this._config.backdrop);return new Hr({className:Pl,isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?t:null})}_initializeFocusTrap(){return new Gr({trapElement:this._element})}_addEventListeners(){O.on(this._element,Dl,t=>{if(t.key===Cl){if(!this._config.keyboard){O.trigger(this._element,Ni);return}this.hide()}})}static jQueryInterface(t){return this.each(function(){const e=jt.getOrCreateInstance(this,t);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}O.on(document,Ml,kl,function(a){const t=It(this);if(["A","AREA"].includes(this.tagName)&&a.preventDefault(),Vt(this))return;O.one(t,Zr,()=>{ge(this)&&this.focus()});const e=U.findOne(Qr);e&&e!==t&&jt.getInstance(e).hide(),jt.getOrCreateInstance(t).toggle(this)});O.on(window,Ol,()=>{for(const a of U.find(Qr))jt.getOrCreateInstance(a).show()});O.on(window,Ll,()=>{for(const a of U.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(a).position!=="fixed"&&jt.getOrCreateInstance(a).hide()});is(jt);yt(jt);const Vl=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),jl=/^aria-[\w-]*$/i,Ul=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,zl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Bl=(a,t)=>{const e=a.nodeName.toLowerCase();return t.includes(e)?Vl.has(e)?Boolean(Ul.test(a.nodeValue)||zl.test(a.nodeValue)):!0:t.filter(r=>r instanceof RegExp).some(r=>r.test(e))},Jr={"*":["class","dir","id","lang","role",jl],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function Wl(a,t,e){if(!a.length)return a;if(e&&typeof e=="function")return e(a);const i=new window.DOMParser().parseFromString(a,"text/html"),n=[].concat(...i.body.querySelectorAll("*"));for(const s of n){const o=s.nodeName.toLowerCase();if(!Object.keys(t).includes(o)){s.remove();continue}const l=[].concat(...s.attributes),h=[].concat(t["*"]||[],t[o]||[]);for(const c of l)Bl(c,h)||s.removeAttribute(c.nodeName)}return i.body.innerHTML}const Hl="TemplateFactory",Gl={allowList:Jr,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Yl={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Kl={entry:"(string|element|function|null)",selector:"(string|element)"};class Xl extends Ie{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Gl}static get DefaultType(){return Yl}static get NAME(){return Hl}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[i,n]of Object.entries(this._config.content))this._setContent(t,n,i);const e=t.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&e.classList.add(...r.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,r]of Object.entries(t))super._typeCheckConfig({selector:e,entry:r},Kl)}_setContent(t,e,r){const i=U.findOne(r,t);if(!!i){if(e=this._resolvePossibleFunction(e),!e){i.remove();return}if(Nt(e)){this._putElementInTemplate($t(e),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(e);return}i.textContent=e}}_maybeSanitize(t){return this._config.sanitize?Wl(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return typeof t=="function"?t(this):t}_putElementInTemplate(t,e){if(this._config.html){e.innerHTML="",e.append(t);return}e.textContent=t.textContent}}const Ql="tooltip",Zl=new Set(["sanitize","allowList","sanitizeFn"]),xs="fade",Jl="modal",Ue="show",ql=".tooltip-inner",Li=`.${Jl}`,Mi="hide.bs.modal",Te="hover",Ts="focus",th="click",eh="manual",sh="hide",ih="hidden",rh="show",nh="shown",ah="inserted",oh="click",lh="focusin",hh="focusout",ch="mouseenter",uh="mouseleave",dh={AUTO:"auto",TOP:"top",RIGHT:_t()?"left":"right",BOTTOM:"bottom",LEFT:_t()?"right":"left"},fh={allowList:Jr,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},ph={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ve extends bt{constructor(t,e){if(typeof Sr=="undefined")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return fh}static get DefaultType(){return ph}static get NAME(){return Ql}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(!!this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),O.off(this._element.closest(Li),Mi,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=O.trigger(this._element,this.constructor.eventName(rh)),r=(Cr(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!r)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:n}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(n.append(i),O.trigger(this._element,this.constructor.eventName(ah))),this._popper=this._createPopper(i),i.classList.add(Ue),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))O.on(o,"mouseover",Ke);const s=()=>{O.trigger(this._element,this.constructor.eventName(nh)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(s,this.tip,this._isAnimated())}hide(){if(!this._isShown()||O.trigger(this._element,this.constructor.eventName(sh)).defaultPrevented)return;if(this._getTipElement().classList.remove(Ue),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))O.off(i,"mouseover",Ke);this._activeTrigger[th]=!1,this._activeTrigger[Ts]=!1,this._activeTrigger[Te]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),O.trigger(this._element,this.constructor.eventName(ih)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(xs,Ue),e.classList.add(`bs-${this.constructor.NAME}-auto`);const r=Jn(this.constructor.NAME).toString();return e.setAttribute("id",r),this._isAnimated()&&e.classList.add(xs),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new Xl({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[ql]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(xs)}_isShown(){return this.tip&&this.tip.classList.contains(Ue)}_createPopper(t){const e=typeof this._config.placement=="function"?this._config.placement.call(this,t,this._element):this._config.placement,r=dh[e.toUpperCase()];return Js(this._element,t,this._getPopperConfig(r))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(e=>Number.parseInt(e,10)):typeof t=="function"?e=>t(e,this._element):t}_resolvePossibleFunction(t){return typeof t=="function"?t.call(this._element):t}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...e,...typeof this._config.popperConfig=="function"?this._config.popperConfig(e):this._config.popperConfig}}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if(e==="click")O.on(this._element,this.constructor.eventName(oh),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(e!==eh){const r=e===Te?this.constructor.eventName(ch):this.constructor.eventName(lh),i=e===Te?this.constructor.eventName(uh):this.constructor.eventName(hh);O.on(this._element,r,this._config.selector,n=>{const s=this._initializeOnDelegatedTarget(n);s._activeTrigger[n.type==="focusin"?Ts:Te]=!0,s._enter()}),O.on(this._element,i,this._config.selector,n=>{const s=this._initializeOnDelegatedTarget(n);s._activeTrigger[n.type==="focusout"?Ts:Te]=s._element.contains(n.relatedTarget),s._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},O.on(this._element.closest(Li),Mi,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");!t||(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=Lt.getDataAttributes(this._element);for(const r of Object.keys(e))Zl.has(r)&&delete e[r];return t={...e,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:$t(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const e in this._config)this.constructor.Default[e]!==this._config[e]&&(t[e]=this._config[e]);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const e=ve.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]=="undefined")throw new TypeError(`No method named "${t}"`);e[t]()}})}}yt(ve);const gh="popover",mh=".popover-header",vh=".popover-body",_h={...ve.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},yh={...ve.DefaultType,content:"(null|string|element|function)"};class si extends ve{static get Default(){return _h}static get DefaultType(){return yh}static get NAME(){return gh}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[mh]:this._getTitle(),[vh]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const e=si.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]=="undefined")throw new TypeError(`No method named "${t}"`);e[t]()}})}}yt(si);const bh="scrollspy",Eh="bs.scrollspy",ii=`.${Eh}`,xh=".data-api",Th=`activate${ii}`,Di=`click${ii}`,Sh=`load${ii}${xh}`,wh="dropdown-item",se="active",Ah='[data-bs-spy="scroll"]',Ss="[href]",Oh=".nav, .list-group",ki=".nav-link",Ch=".nav-item",Ph=".list-group-item",Rh=`${ki}, ${Ch} > ${ki}, ${Ph}`,Ih=".dropdown",Nh=".dropdown-toggle",Lh={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Mh={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class as extends bt{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Lh}static get DefaultType(){return Mh}static get NAME(){return bh}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=$t(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(e=>Number.parseFloat(e))),t}_maybeEnableSmoothScroll(){!this._config.smoothScroll||(O.off(this._config.target,Di),O.on(this._config.target,Di,Ss,t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const r=this._rootElement||window,i=e.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(e=>this._observerCallback(e),t)}_observerCallback(t){const e=s=>this._targetLinks.get(`#${s.target.id}`),r=s=>{this._previousScrollData.visibleEntryTop=s.target.offsetTop,this._process(e(s))},i=(this._rootElement||document.documentElement).scrollTop,n=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const s of t){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(s));continue}const o=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(n&&o){if(r(s),!i)return;continue}!n&&!o&&r(s)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=U.find(Ss,this._config.target);for(const e of t){if(!e.hash||Vt(e))continue;const r=U.findOne(e.hash,this._element);ge(r)&&(this._targetLinks.set(e.hash,e),this._observableSections.set(e.hash,r))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(se),this._activateParents(t),O.trigger(this._element,Th,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(wh)){U.findOne(Nh,t.closest(Ih)).classList.add(se);return}for(const e of U.parents(t,Oh))for(const r of U.prev(e,Rh))r.classList.add(se)}_clearActiveClass(t){t.classList.remove(se);const e=U.find(`${Ss}.${se}`,t);for(const r of e)r.classList.remove(se)}static jQueryInterface(t){return this.each(function(){const e=as.getOrCreateInstance(this,t);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}O.on(window,Sh,()=>{for(const a of U.find(Ah))as.getOrCreateInstance(a)});yt(as);const Dh="tab",kh="bs.tab",Zt=`.${kh}`,Fh=`hide${Zt}`,$h=`hidden${Zt}`,Vh=`show${Zt}`,jh=`shown${Zt}`,Uh=`click${Zt}`,zh=`keydown${Zt}`,Bh=`load${Zt}`,Wh="ArrowLeft",Fi="ArrowRight",Hh="ArrowUp",$i="ArrowDown",Gt="active",Vi="fade",ws="show",Gh="dropdown",Yh=".dropdown-toggle",Kh=".dropdown-menu",As=":not(.dropdown-toggle)",Xh='.list-group, .nav, [role="tablist"]',Qh=".nav-item, .list-group-item",Zh=`.nav-link${As}, .list-group-item${As}, [role="tab"]${As}`,qr='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Os=`${Zh}, ${qr}`,Jh=`.${Gt}[data-bs-toggle="tab"], .${Gt}[data-bs-toggle="pill"], .${Gt}[data-bs-toggle="list"]`;class fe extends bt{constructor(t){super(t),this._parent=this._element.closest(Xh),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),O.on(this._element,zh,e=>this._keydown(e)))}static get NAME(){return Dh}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),r=e?O.trigger(e,Fh,{relatedTarget:t}):null;O.trigger(t,Vh,{relatedTarget:e}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){if(!t)return;t.classList.add(Gt),this._activate(It(t));const r=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(ws);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),O.trigger(t,jh,{relatedTarget:e})};this._queueCallback(r,t,t.classList.contains(Vi))}_deactivate(t,e){if(!t)return;t.classList.remove(Gt),t.blur(),this._deactivate(It(t));const r=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(ws);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),O.trigger(t,$h,{relatedTarget:e})};this._queueCallback(r,t,t.classList.contains(Vi))}_keydown(t){if(![Wh,Fi,Hh,$i].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=[Fi,$i].includes(t.key),r=qs(this._getChildren().filter(i=>!Vt(i)),t.target,e,!0);r&&(r.focus({preventScroll:!0}),fe.getOrCreateInstance(r).show())}_getChildren(){return U.find(Os,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const r of e)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),r=this._getOuterElement(t);t.setAttribute("aria-selected",e),r!==t&&this._setAttributeIfNotExists(r,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=It(t);!e||(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`#${t.id}`))}_toggleDropDown(t,e){const r=this._getOuterElement(t);if(!r.classList.contains(Gh))return;const i=(n,s)=>{const o=U.findOne(n,r);o&&o.classList.toggle(s,e)};i(Yh,Gt),i(Kh,ws),r.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,r){t.hasAttribute(e)||t.setAttribute(e,r)}_elemIsActive(t){return t.classList.contains(Gt)}_getInnerElement(t){return t.matches(Os)?t:U.findOne(Os,t)}_getOuterElement(t){return t.closest(Qh)||t}static jQueryInterface(t){return this.each(function(){const e=fe.getOrCreateInstance(this);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}O.on(document,Uh,qr,function(a){["A","AREA"].includes(this.tagName)&&a.preventDefault(),!Vt(this)&&fe.getOrCreateInstance(this).show()});O.on(window,Bh,()=>{for(const a of U.find(Jh))fe.getOrCreateInstance(a)});yt(fe);const qh="toast",tc="bs.toast",Bt=`.${tc}`,ec=`mouseover${Bt}`,sc=`mouseout${Bt}`,ic=`focusin${Bt}`,rc=`focusout${Bt}`,nc=`hide${Bt}`,ac=`hidden${Bt}`,oc=`show${Bt}`,lc=`shown${Bt}`,hc="fade",ji="hide",ze="show",Be="showing",cc={animation:"boolean",autohide:"boolean",delay:"number"},uc={animation:!0,autohide:!0,delay:5e3};class os extends bt{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return uc}static get DefaultType(){return cc}static get NAME(){return qh}show(){if(O.trigger(this._element,oc).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(hc);const e=()=>{this._element.classList.remove(Be),O.trigger(this._element,lc),this._maybeScheduleHide()};this._element.classList.remove(ji),Re(this._element),this._element.classList.add(ze,Be),this._queueCallback(e,this._element,this._config.animation)}hide(){if(!this.isShown()||O.trigger(this._element,nc).defaultPrevented)return;const e=()=>{this._element.classList.add(ji),this._element.classList.remove(Be,ze),O.trigger(this._element,ac)};this._element.classList.add(Be),this._queueCallback(e,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ze),super.dispose()}isShown(){return this._element.classList.contains(ze)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=e;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=e;break}}if(e){this._clearTimeout();return}const r=t.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){O.on(this._element,ec,t=>this._onInteraction(t,!0)),O.on(this._element,sc,t=>this._onInteraction(t,!1)),O.on(this._element,ic,t=>this._onInteraction(t,!0)),O.on(this._element,rc,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const e=os.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]=="undefined")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}is(os);yt(os);document.querySelectorAll(".nav-link").forEach(a=>a.addEventListener("click",()=>{const t=document.querySelector(".navbar-toggler");t.classList.add("collapsed"),t.setAttribute("aria-expanded","false"),document.querySelector("#toggleMobileMenu").classList.remove("show")}));let Ui=window.pageYOffset;const zi=document.querySelector(".sticky-top");window.onscroll=function(){let a=window.pageYOffset;Ui>a?zi.classList.add("sticky-top"):zi.classList.remove("sticky-top"),Ui=a};const dc=document.querySelector("#theme-btn"),Bi=document.querySelector(".bi-moon-fill"),Wi=document.querySelector(".bi-brightness-high-fill"),Hi={light:{primary:"#ffffff",secondary:"#444f5a",accent:"#0564bd",primaryRGB:"255, 255, 255",secondaryRGB:"68, 79, 90"},dark:{primary:"#22222b",secondary:"#a2a1a6",accent:"#0564bd",primaryRGB:"34, 34, 43",secondaryRGB:"162,161,166"}};let Cs=!0;dc.addEventListener("click",fc);function Gi(a){document.documentElement.style.setProperty("--bs-primary",a.primary),document.documentElement.style.setProperty("--bs-secondary",a.secondary),document.documentElement.style.setProperty("--bs-accent",a.accent),document.documentElement.style.setProperty("--bs-primary-rgb",a.primaryRGB),document.documentElement.style.setProperty("--bs-secondary-rgb",a.secondaryRGB)}function fc(){Cs?(Gi(Hi.dark),Bi.style.display="none",Wi.style.display="block",Cs=!1):(Gi(Hi.light),Bi.style.display="block",Wi.style.display="none",Cs=!0)}function $s(){return $s=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r])}return a},$s.apply(this,arguments)}var pc={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(a){},onComplete:function(a){},preStringTyped:function(a,t){},onStringTyped:function(a,t){},onLastStringBackspaced:function(a){},onTypingPaused:function(a,t){},onTypingResumed:function(a,t){},onReset:function(a){},onStop:function(a,t){},onStart:function(a,t){},onDestroy:function(a){}},gc=new(function(){function a(){}var t=a.prototype;return t.load=function(e,r,i){if(e.el=typeof i=="string"?document.querySelector(i):i,e.options=$s({},pc,r),e.isInput=e.el.tagName.toLowerCase()==="input",e.attr=e.options.attr,e.bindInputFocusEvents=e.options.bindInputFocusEvents,e.showCursor=!e.isInput&&e.options.showCursor,e.cursorChar=e.options.cursorChar,e.cursorBlinking=!0,e.elContent=e.attr?e.el.getAttribute(e.attr):e.el.textContent,e.contentType=e.options.contentType,e.typeSpeed=e.options.typeSpeed,e.startDelay=e.options.startDelay,e.backSpeed=e.options.backSpeed,e.smartBackspace=e.options.smartBackspace,e.backDelay=e.options.backDelay,e.fadeOut=e.options.fadeOut,e.fadeOutClass=e.options.fadeOutClass,e.fadeOutDelay=e.options.fadeOutDelay,e.isPaused=!1,e.strings=e.options.strings.map(function(h){return h.trim()}),e.stringsElement=typeof e.options.stringsElement=="string"?document.querySelector(e.options.stringsElement):e.options.stringsElement,e.stringsElement){e.strings=[],e.stringsElement.style.cssText="clip: rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;";var n=Array.prototype.slice.apply(e.stringsElement.children),s=n.length;if(s)for(var o=0;o<s;o+=1)e.strings.push(n[o].innerHTML.trim())}for(var l in e.strPos=0,e.currentElContent=this.getCurrentElContent(e),e.currentElContent&&e.currentElContent.length>0&&(e.strPos=e.currentElContent.length-1,e.strings.unshift(e.currentElContent)),e.sequence=[],e.strings)e.sequence[l]=l;e.arrayPos=0,e.stopNum=0,e.loop=e.options.loop,e.loopCount=e.options.loopCount,e.curLoop=0,e.shuffle=e.options.shuffle,e.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},e.typingComplete=!1,e.autoInsertCss=e.options.autoInsertCss,e.autoInsertCss&&(this.appendCursorAnimationCss(e),this.appendFadeOutAnimationCss(e))},t.getCurrentElContent=function(e){return e.attr?e.el.getAttribute(e.attr):e.isInput?e.el.value:e.contentType==="html"?e.el.innerHTML:e.el.textContent},t.appendCursorAnimationCss=function(e){var r="data-typed-js-cursor-css";if(e.showCursor&&!document.querySelector("["+r+"]")){var i=document.createElement("style");i.setAttribute(r,"true"),i.innerHTML=`
        .typed-cursor{
          opacity: 1;
        }
        .typed-cursor.typed-cursor--blink{
          animation: typedjsBlink 0.7s infinite;
          -webkit-animation: typedjsBlink 0.7s infinite;
                  animation: typedjsBlink 0.7s infinite;
        }
        @keyframes typedjsBlink{
          50% { opacity: 0.0; }
        }
        @-webkit-keyframes typedjsBlink{
          0% { opacity: 1; }
          50% { opacity: 0.0; }
          100% { opacity: 1; }
        }
      `,document.body.appendChild(i)}},t.appendFadeOutAnimationCss=function(e){var r="data-typed-fadeout-js-css";if(e.fadeOut&&!document.querySelector("["+r+"]")){var i=document.createElement("style");i.setAttribute(r,"true"),i.innerHTML=`
        .typed-fade-out{
          opacity: 0;
          transition: opacity .25s;
        }
        .typed-cursor.typed-cursor--blink.typed-fade-out{
          -webkit-animation: 0;
          animation: 0;
        }
      `,document.body.appendChild(i)}},a}()),Yi=new(function(){function a(){}var t=a.prototype;return t.typeHtmlChars=function(e,r,i){if(i.contentType!=="html")return r;var n=e.substring(r).charAt(0);if(n==="<"||n==="&"){var s;for(s=n==="<"?">":";";e.substring(r+1).charAt(0)!==s&&!(1+ ++r>e.length););r++}return r},t.backSpaceHtmlChars=function(e,r,i){if(i.contentType!=="html")return r;var n=e.substring(r).charAt(0);if(n===">"||n===";"){var s;for(s=n===">"?"<":"&";e.substring(r-1).charAt(0)!==s&&!(--r<0););r--}return r},a}()),mc=function(){function a(e,r){gc.load(this,r,e),this.begin()}var t=a.prototype;return t.toggle=function(){this.pause.status?this.start():this.stop()},t.stop=function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))},t.start=function(){this.typingComplete||this.pause.status&&(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))},t.destroy=function(){this.reset(!1),this.options.onDestroy(this)},t.reset=function(e){e===void 0&&(e=!0),clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,e&&(this.insertCursor(),this.options.onReset(this),this.begin())},t.begin=function(){var e=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout(function(){e.strPos===0?e.typewrite(e.strings[e.sequence[e.arrayPos]],e.strPos):e.backspace(e.strings[e.sequence[e.arrayPos]],e.strPos)},this.startDelay)},t.typewrite=function(e,r){var i=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var n=this.humanizer(this.typeSpeed),s=1;this.pause.status!==!0?this.timeout=setTimeout(function(){r=Yi.typeHtmlChars(e,r,i);var o=0,l=e.substring(r);if(l.charAt(0)==="^"&&/^\^\d+/.test(l)){var h=1;h+=(l=/\d+/.exec(l)[0]).length,o=parseInt(l),i.temporaryPause=!0,i.options.onTypingPaused(i.arrayPos,i),e=e.substring(0,r)+e.substring(r+h),i.toggleBlinking(!0)}if(l.charAt(0)==="`"){for(;e.substring(r+s).charAt(0)!=="`"&&(s++,!(r+s>e.length)););var c=e.substring(0,r),u=e.substring(c.length+1,r+s),f=e.substring(r+s+1);e=c+u+f,s--}i.timeout=setTimeout(function(){i.toggleBlinking(!1),r>=e.length?i.doneTyping(e,r):i.keepTyping(e,r,s),i.temporaryPause&&(i.temporaryPause=!1,i.options.onTypingResumed(i.arrayPos,i))},o)},n):this.setPauseStatus(e,r,!0)},t.keepTyping=function(e,r,i){r===0&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this));var n=e.substring(0,r+=i);this.replaceText(n),this.typewrite(e,r)},t.doneTyping=function(e,r){var i=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),this.arrayPos===this.strings.length-1&&(this.complete(),this.loop===!1||this.curLoop===this.loopCount)||(this.timeout=setTimeout(function(){i.backspace(e,r)},this.backDelay))},t.backspace=function(e,r){var i=this;if(this.pause.status!==!0){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var n=this.humanizer(this.backSpeed);this.timeout=setTimeout(function(){r=Yi.backSpaceHtmlChars(e,r,i);var s=e.substring(0,r);if(i.replaceText(s),i.smartBackspace){var o=i.strings[i.arrayPos+1];i.stopNum=o&&s===o.substring(0,r)?r:0}r>i.stopNum?(r--,i.backspace(e,r)):r<=i.stopNum&&(i.arrayPos++,i.arrayPos===i.strings.length?(i.arrayPos=0,i.options.onLastStringBackspaced(),i.shuffleStringsIfNeeded(),i.begin()):i.typewrite(i.strings[i.sequence[i.arrayPos]],r))},n)}else this.setPauseStatus(e,r,!1)},t.complete=function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0},t.setPauseStatus=function(e,r,i){this.pause.typewrite=i,this.pause.curString=e,this.pause.curStrPos=r},t.toggleBlinking=function(e){this.cursor&&(this.pause.status||this.cursorBlinking!==e&&(this.cursorBlinking=e,e?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink")))},t.humanizer=function(e){return Math.round(Math.random()*e/2)+e},t.shuffleStringsIfNeeded=function(){this.shuffle&&(this.sequence=this.sequence.sort(function(){return Math.random()-.5}))},t.initFadeOut=function(){var e=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout(function(){e.arrayPos++,e.replaceText(""),e.strings.length>e.arrayPos?e.typewrite(e.strings[e.sequence[e.arrayPos]],0):(e.typewrite(e.strings[0],0),e.arrayPos=0)},this.fadeOutDelay)},t.replaceText=function(e){this.attr?this.el.setAttribute(this.attr,e):this.isInput?this.el.value=e:this.contentType==="html"?this.el.innerHTML=e:this.el.textContent=e},t.bindFocusEvents=function(){var e=this;this.isInput&&(this.el.addEventListener("focus",function(r){e.stop()}),this.el.addEventListener("blur",function(r){e.el.value&&e.el.value.length!==0||e.start()}))},t.insertCursor=function(){this.showCursor&&(this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.setAttribute("aria-hidden",!0),this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)))},a}(),vc={strings:["I'm a Health and Policy Professional","I worked on public health issues in the US, Rwanda, and the UK","My work includes program management, qualitative and quantitative research analysis"],typeSpeed:120,backSpeed:50,backDelay:1500,loop:!0};new mc("#headline",vc);let Ps=0;function F(){if(!(Ps>100)){if(Ps===100)console.warn("Curtains: too many warnings thrown, stop logging.");else{const a=Array.prototype.slice.call(arguments);console.warn.apply(console,a)}Ps++}}function lt(){const a=Array.prototype.slice.call(arguments);console.error.apply(console,a)}function tn(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{let t=Math.random()*16|0;return(a==="x"?t:t&3|8).toString(16).toUpperCase()})}function Tt(a){return(a&a-1)===0}function _c(a,t,e){return(1-e)*a+e*t}class yc{constructor(t){if(this.type="Scene",!t||t.type!=="Renderer")lt(this.type+": Renderer not passed as first argument",t);else if(!t.gl){lt(this.type+": Renderer WebGL context is undefined",t);return}this.renderer=t,this.gl=t.gl,this.initStacks()}initStacks(){this.stacks={pingPong:[],renderTargets:[],opaque:[],transparent:[],renderPasses:[],scenePasses:[]}}resetPlaneStacks(){this.stacks.pingPong=[],this.stacks.renderTargets=[],this.stacks.opaque=[],this.stacks.transparent=[];for(let t=0;t<this.renderer.planes.length;t++)this.addPlane(this.renderer.planes[t])}resetShaderPassStacks(){this.stacks.scenePasses=[],this.stacks.renderPasses=[];for(let t=0;t<this.renderer.shaderPasses.length;t++)this.renderer.shaderPasses[t].index=t,this.renderer.shaderPasses[t]._isScenePass?this.stacks.scenePasses.push(this.renderer.shaderPasses[t]):this.stacks.renderPasses.push(this.renderer.shaderPasses[t]);this.stacks.scenePasses.length===0&&(this.renderer.state.scenePassIndex=null)}addToRenderTargetsStack(t){const e=this.renderer.planes.filter(i=>i.type!=="PingPongPlane"&&i.target&&i.uuid!==t.uuid);let r=-1;if(t.target._depth){for(let i=e.length-1;i>=0;i--)if(e[i].target.uuid===t.target.uuid){r=i+1;break}}else r=e.findIndex(i=>i.target.uuid===t.target.uuid);r=Math.max(0,r),e.splice(r,0,t),t.target._depth?(e.sort((i,n)=>i.index-n.index),e.sort((i,n)=>n.renderOrder-i.renderOrder)):(e.sort((i,n)=>n.index-i.index),e.sort((i,n)=>i.renderOrder-n.renderOrder)),e.sort((i,n)=>i.target.index-n.target.index),this.stacks.renderTargets=e}addToRegularPlaneStack(t){const e=this.renderer.planes.filter(i=>i.type!=="PingPongPlane"&&!i.target&&i._transparent===t._transparent&&i.uuid!==t.uuid);let r=-1;for(let i=e.length-1;i>=0;i--)if(e[i]._geometry.definition.id===t._geometry.definition.id){r=i+1;break}return r=Math.max(0,r),e.splice(r,0,t),e.sort((i,n)=>i.index-n.index),e}addPlane(t){if(t.type==="PingPongPlane")this.stacks.pingPong.push(t);else if(t.target)this.addToRenderTargetsStack(t);else if(t._transparent){const e=this.addToRegularPlaneStack(t);e.sort((r,i)=>i.relativeTranslation.z-r.relativeTranslation.z),e.sort((r,i)=>i.renderOrder-r.renderOrder),this.stacks.transparent=e}else{const e=this.addToRegularPlaneStack(t);e.sort((r,i)=>i.renderOrder-r.renderOrder),this.stacks.opaque=e}}removePlane(t){t.type==="PingPongPlane"?this.stacks.pingPong=this.stacks.pingPong.filter(e=>e.uuid!==t.uuid):t.target?this.stacks.renderTargets=this.stacks.renderTargets.filter(e=>e.uuid!==t.uuid):t._transparent?this.stacks.transparent=this.stacks.transparent.filter(e=>e.uuid!==t.uuid):this.stacks.opaque=this.stacks.opaque.filter(e=>e.uuid!==t.uuid)}setPlaneRenderOrder(t){if(t.type==="ShaderPass")this.sortShaderPassStack(t._isScenePass?this.stacks.scenePasses:this.stacks.renderPasses);else if(t.type==="PingPongPlane")return;if(t.target)t.target._depth?(this.stacks.renderTargets.sort((e,r)=>e.index-r.index),this.stacks.renderTargets.sort((e,r)=>r.renderOrder-e.renderOrder)):(this.stacks.renderTargets.sort((e,r)=>r.index-e.index),this.stacks.renderTargets.sort((e,r)=>e.renderOrder-r.renderOrder)),this.stacks.renderTargets.sort((e,r)=>e.target.index-r.target.index);else{const e=t._transparent?this.stacks.transparent:this.stacks.opaque,r=this.stacks.scenePasses.find((i,n)=>i._isScenePass&&!i._depth&&n===0);!this.renderer.depth||r?(e.sort((i,n)=>n.index-i.index),t._transparent&&e.sort((i,n)=>i.relativeTranslation.z-n.relativeTranslation.z),e.sort((i,n)=>i.renderOrder-n.renderOrder)):(e.sort((i,n)=>i.index-n.index),t._transparent&&e.sort((i,n)=>n.relativeTranslation.z-i.relativeTranslation.z),e.sort((i,n)=>n.renderOrder-i.renderOrder))}}addShaderPass(t){t._isScenePass?(this.stacks.scenePasses.push(t),this.sortShaderPassStack(this.stacks.scenePasses)):(this.stacks.renderPasses.push(t),this.sortShaderPassStack(this.stacks.renderPasses))}removeShaderPass(t){this.resetShaderPassStacks()}sortShaderPassStack(t){t.sort((e,r)=>e.index-r.index),t.sort((e,r)=>e.renderOrder-r.renderOrder)}enableShaderPass(){this.stacks.scenePasses.length&&this.stacks.renderPasses.length===0&&this.renderer.planes.length&&(this.renderer.state.scenePassIndex=0,this.renderer.bindFrameBuffer(this.stacks.scenePasses[0].target))}drawRenderPasses(){this.stacks.scenePasses.length&&this.stacks.renderPasses.length&&this.renderer.planes.length&&(this.renderer.state.scenePassIndex=0,this.renderer.bindFrameBuffer(this.stacks.scenePasses[0].target));for(let t=0;t<this.stacks.renderPasses.length;t++)this.stacks.renderPasses[t]._startDrawing(),this.renderer.clearDepth()}drawScenePasses(){for(let t=0;t<this.stacks.scenePasses.length;t++)this.stacks.scenePasses[t]._startDrawing()}drawPingPongStack(){for(let t=0;t<this.stacks.pingPong.length;t++){const e=this.stacks.pingPong[t];e&&e._startDrawing()}}drawStack(t){for(let e=0;e<this.stacks[t].length;e++){const r=this.stacks[t][e];r&&r._startDrawing()}}draw(){this.drawPingPongStack(),this.enableShaderPass(),this.drawStack("renderTargets"),this.drawRenderPasses(),this.renderer.setBlending(!1),this.drawStack("opaque"),this.stacks.transparent.length&&(this.renderer.setBlending(!0),this.drawStack("transparent")),this.drawScenePasses()}}class bc{constructor(){this.geometries=[],this.clear()}clear(){this.textures=[],this.programs=[]}getGeometryFromID(t){return this.geometries.find(e=>e.id===t)}addGeometry(t,e,r){this.geometries.push({id:t,vertices:e,uvs:r})}isSameShader(t,e){return t.localeCompare(e)===0}getProgramFromShaders(t,e){return this.programs.find(r=>this.isSameShader(r.vsCode,t)&&this.isSameShader(r.fsCode,e))}addProgram(t){this.programs.push(t)}getTextureFromSource(t){const e=typeof t=="string"?t:t.src;return this.textures.find(r=>r.source&&r.source.src===e)}addTexture(t){this.getTextureFromSource(t.source)||this.textures.push(t)}removeTexture(t){this.textures=this.textures.filter(e=>e.uuid!==t.uuid)}}class Ec{constructor(){this.clear()}clear(){this.queue=[]}add(t,e=!1){const r={callback:t,keep:e,timeout:null};return r.timeout=setTimeout(()=>{this.queue.push(r)},0),r}execute(){this.queue.map(t=>{t.callback&&t.callback(),clearTimeout(this.queue.timeout)}),this.queue=this.queue.filter(t=>t.keep)}}class xc{constructor({alpha:t,antialias:e,premultipliedAlpha:r,depth:i,failIfMajorPerformanceCaveat:n,preserveDrawingBuffer:s,stencil:o,container:l,pixelRatio:h,renderingScale:c,production:u,onError:f,onSuccess:d,onContextLost:p,onContextRestored:m,onDisposed:g,onSceneChange:v}){this.type="Renderer",this.alpha=t,this.antialias=e,this.premultipliedAlpha=r,this.depth=i,this.failIfMajorPerformanceCaveat=n,this.preserveDrawingBuffer=s,this.stencil=o,this.container=l,this.pixelRatio=h,this._renderingScale=c,this.production=u,this.onError=f,this.onSuccess=d,this.onContextLost=p,this.onContextRestored=m,this.onDisposed=g,this.onSceneChange=v,this.initState(),this.canvas=document.createElement("canvas");const _={alpha:this.alpha,premultipliedAlpha:this.premultipliedAlpha,antialias:this.antialias,depth:this.depth,failIfMajorPerformanceCaveat:this.failIfMajorPerformanceCaveat,preserveDrawingBuffer:this.preserveDrawingBuffer,stencil:this.stencil};if(this.gl=this.canvas.getContext("webgl2",_),this._isWebGL2=!!this.gl,this.gl||(this.gl=this.canvas.getContext("webgl",_)||this.canvas.getContext("experimental-webgl",_)),this.gl)this.onSuccess&&this.onSuccess();else{this.production||F(this.type+": WebGL context could not be created"),this.state.isActive=!1,this.onError&&this.onError();return}this.initRenderer()}initState(){this.state={isActive:!0,isContextLost:!0,drawingEnabled:!0,forceRender:!1,currentProgramID:null,currentGeometryID:null,forceBufferUpdate:!1,depthTest:null,blending:null,cullFace:null,frameBufferID:null,scenePassIndex:null,activeTexture:null,unpackAlignment:null,flipY:null,premultiplyAlpha:null}}initCallbackQueueManager(){this.nextRender=new Ec}initRenderer(){this.planes=[],this.renderTargets=[],this.shaderPasses=[],this.state.isContextLost=!1,this.state.maxTextureSize=this.gl.getParameter(this.gl.MAX_TEXTURE_SIZE),this.initCallbackQueueManager(),this.setBlendFunc(),this.setDepthFunc(),this.setDepthTest(!0),this.cache=new bc,this.scene=new yc(this),this.getExtensions(),this._contextLostHandler=this.contextLost.bind(this),this.canvas.addEventListener("webglcontextlost",this._contextLostHandler,!1),this._contextRestoredHandler=this.contextRestored.bind(this),this.canvas.addEventListener("webglcontextrestored",this._contextRestoredHandler,!1)}getExtensions(){this.extensions=[],this._isWebGL2?(this.extensions.EXT_color_buffer_float=this.gl.getExtension("EXT_color_buffer_float"),this.extensions.OES_texture_float_linear=this.gl.getExtension("OES_texture_float_linear"),this.extensions.EXT_texture_filter_anisotropic=this.gl.getExtension("EXT_texture_filter_anisotropic"),this.extensions.WEBGL_lose_context=this.gl.getExtension("WEBGL_lose_context")):(this.extensions.OES_vertex_array_object=this.gl.getExtension("OES_vertex_array_object"),this.extensions.OES_texture_float=this.gl.getExtension("OES_texture_float"),this.extensions.OES_texture_float_linear=this.gl.getExtension("OES_texture_float_linear"),this.extensions.OES_texture_half_float=this.gl.getExtension("OES_texture_half_float"),this.extensions.OES_texture_half_float_linear=this.gl.getExtension("OES_texture_half_float_linear"),this.extensions.EXT_texture_filter_anisotropic=this.gl.getExtension("EXT_texture_filter_anisotropic"),this.extensions.OES_element_index_uint=this.gl.getExtension("OES_element_index_uint"),this.extensions.OES_standard_derivatives=this.gl.getExtension("OES_standard_derivatives"),this.extensions.EXT_sRGB=this.gl.getExtension("EXT_sRGB"),this.extensions.WEBGL_depth_texture=this.gl.getExtension("WEBGL_depth_texture"),this.extensions.WEBGL_draw_buffers=this.gl.getExtension("WEBGL_draw_buffers"),this.extensions.WEBGL_lose_context=this.gl.getExtension("WEBGL_lose_context"))}contextLost(t){this.state.isContextLost=!0,this.state.isActive&&(t.preventDefault(),this.nextRender.add(()=>this.onContextLost&&this.onContextLost()))}restoreContext(){!this.state.isActive||(this.initState(),this.gl&&this.extensions.WEBGL_lose_context?this.extensions.WEBGL_lose_context.restoreContext():(!this.gl&&!this.production?F(this.type+": Could not restore the context because the context is not defined"):!this.extensions.WEBGL_lose_context&&!this.production&&F(this.type+": Could not restore the context because the restore context extension is not defined"),this.onError&&this.onError()))}isContextexFullyRestored(){let t=!0;for(let e=0;e<this.renderTargets.length;e++){this.renderTargets[e].textures[0]._canDraw||(t=!1);break}if(t)for(let e=0;e<this.planes.length;e++)if(this.planes[e]._canDraw){for(let r=0;r<this.planes[e].textures.length;r++)if(!this.planes[e].textures[r]._canDraw){t=!1;break}}else{t=!1;break}if(t)for(let e=0;e<this.shaderPasses.length;e++)if(this.shaderPasses[e]._canDraw){for(let r=0;r<this.shaderPasses[e].textures.length;r++)if(!this.shaderPasses[e].textures[r]._canDraw){t=!1;break}}else{t=!1;break}return t}contextRestored(){this.getExtensions(),this.setBlendFunc(),this.setDepthFunc(),this.setDepthTest(!0),this.cache.clear(),this.scene.initStacks();for(let e=0;e<this.renderTargets.length;e++)this.renderTargets[e]._restoreContext();for(let e=0;e<this.planes.length;e++)this.planes[e]._restoreContext();for(let e=0;e<this.shaderPasses.length;e++)this.shaderPasses[e]._restoreContext();const t=this.nextRender.add(()=>{this.isContextexFullyRestored()&&(t.keep=!1,this.state.isContextLost=!1,this.onContextRestored&&this.onContextRestored(),this.onSceneChange(),this.needRender())},!0)}setPixelRatio(t){this.pixelRatio=t}setSize(){if(!this.gl)return;const t=this.container.getBoundingClientRect();this._boundingRect={width:t.width*this.pixelRatio,height:t.height*this.pixelRatio,top:t.top*this.pixelRatio,left:t.left*this.pixelRatio};const e=!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),r=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;if(e&&r){let n=function(s){let o=0;for(;s&&!isNaN(s.offsetTop);)o+=s.offsetTop-s.scrollTop,s=s.offsetParent;return o};var i=n;this._boundingRect.top=n(this.container)*this.pixelRatio}this.canvas.style.width=Math.floor(this._boundingRect.width/this.pixelRatio)+"px",this.canvas.style.height=Math.floor(this._boundingRect.height/this.pixelRatio)+"px",this.canvas.width=Math.floor(this._boundingRect.width*this._renderingScale),this.canvas.height=Math.floor(this._boundingRect.height*this._renderingScale),this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}resize(){for(let t=0;t<this.planes.length;t++)this.planes[t]._canDraw&&this.planes[t].resize();for(let t=0;t<this.shaderPasses.length;t++)this.shaderPasses[t]._canDraw&&this.shaderPasses[t].resize();for(let t=0;t<this.renderTargets.length;t++)this.renderTargets[t].resize();this.needRender()}clear(){this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}clearDepth(){this.gl.clear(this.gl.DEPTH_BUFFER_BIT)}clearColor(){this.gl.clear(this.gl.COLOR_BUFFER_BIT)}bindFrameBuffer(t,e){let r=null;t?(r=t.index,r!==this.state.frameBufferID&&(this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,t._frameBuffer),this.gl.viewport(0,0,t._size.width,t._size.height),t._shouldClear&&!e&&this.clear())):this.state.frameBufferID!==null&&(this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)),this.state.frameBufferID=r}setDepthTest(t){t&&!this.state.depthTest?(this.state.depthTest=t,this.gl.enable(this.gl.DEPTH_TEST)):!t&&this.state.depthTest&&(this.state.depthTest=t,this.gl.disable(this.gl.DEPTH_TEST))}setDepthFunc(){this.gl.depthFunc(this.gl.LEQUAL)}setBlending(t=!1){t&&!this.state.blending?(this.state.blending=t,this.gl.enable(this.gl.BLEND)):!t&&this.state.blending&&(this.state.blending=t,this.gl.disable(this.gl.BLEND))}setBlendFunc(){this.gl.enable(this.gl.BLEND),this.premultipliedAlpha?this.gl.blendFuncSeparate(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.gl.blendFuncSeparate(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA)}setFaceCulling(t){if(this.state.cullFace!==t)if(this.state.cullFace=t,t==="none")this.gl.disable(this.gl.CULL_FACE);else{const e=t==="front"?this.gl.FRONT:this.gl.BACK;this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(e)}}useProgram(t){(this.state.currentProgramID===null||this.state.currentProgramID!==t.id)&&(this.gl.useProgram(t.program),this.state.currentProgramID=t.id)}removePlane(t){!this.gl||(this.planes=this.planes.filter(e=>e.uuid!==t.uuid),this.scene.removePlane(t),t=null,this.gl&&this.clear(),this.onSceneChange())}removeRenderTarget(t){if(!this.gl)return;let e=this.planes.find(r=>r.type!=="PingPongPlane"&&r.target&&r.target.uuid===t.uuid);for(let r=0;r<this.planes.length;r++)this.planes[r].target&&this.planes[r].target.uuid===t.uuid&&(this.planes[r].target=null);this.renderTargets=this.renderTargets.filter(r=>r.uuid!==t.uuid);for(let r=0;r<this.renderTargets.length;r++)this.renderTargets[r].index=r;t=null,this.gl&&this.clear(),e&&this.scene.resetPlaneStacks(),this.onSceneChange()}removeShaderPass(t){!this.gl||(this.shaderPasses=this.shaderPasses.filter(e=>e.uuid!==t.uuid),this.scene.removeShaderPass(t),t=null,this.gl&&this.clear(),this.onSceneChange())}enableDrawing(){this.state.drawingEnabled=!0}disableDrawing(){this.state.drawingEnabled=!1}needRender(){this.state.forceRender=!0}render(){!this.gl||(this.clear(),this.state.currentGeometryID=null,this.scene.draw())}deletePrograms(){for(let t=0;t<this.cache.programs.length;t++){const e=this.cache.programs[t];this.gl.deleteProgram(e.program)}}dispose(){if(!this.gl)return;for(this.state.isActive=!1;this.planes.length>0;)this.removePlane(this.planes[0]);for(;this.shaderPasses.length>0;)this.removeShaderPass(this.shaderPasses[0]);for(;this.renderTargets.length>0;)this.removeRenderTarget(this.renderTargets[0]);let t=this.nextRender.add(()=>{this.planes.length===0&&this.shaderPasses.length===0&&this.renderTargets.length===0&&(t.keep=!1,this.deletePrograms(),this.clear(),this.canvas.removeEventListener("webgllost",this._contextLostHandler,!1),this.canvas.removeEventListener("webglrestored",this._contextRestoredHandler,!1),this.gl&&this.extensions.WEBGL_lose_context&&this.extensions.WEBGL_lose_context.loseContext(),this.canvas.width=this.canvas.width,this.gl=null,this.container.removeChild(this.canvas),this.container=null,this.canvas=null,this.onDisposed&&this.onDisposed())},!0)}}class Tc{constructor({xOffset:t=0,yOffset:e=0,lastXDelta:r=0,lastYDelta:i=0,shouldWatch:n=!0,onScroll:s=()=>{}}={}){this.xOffset=t,this.yOffset=e,this.lastXDelta=r,this.lastYDelta=i,this.shouldWatch=n,this.onScroll=s,this.handler=this.scroll.bind(this,!0),this.shouldWatch&&window.addEventListener("scroll",this.handler,{passive:!0})}scroll(){this.updateScrollValues(window.pageXOffset,window.pageYOffset)}updateScrollValues(t,e){const r=this.xOffset;this.xOffset=t,this.lastXDelta=r-this.xOffset;const i=this.yOffset;this.yOffset=e,this.lastYDelta=i-this.yOffset,this.onScroll&&this.onScroll(this.lastXDelta,this.lastYDelta)}dispose(){this.shouldWatch&&window.removeEventListener("scroll",this.handler,{passive:!0})}}const Sc="8.1.3";class wc{constructor({container:t,alpha:e=!0,premultipliedAlpha:r=!1,antialias:i=!0,depth:n=!0,failIfMajorPerformanceCaveat:s=!0,preserveDrawingBuffer:o=!1,stencil:l=!1,autoResize:h=!0,autoRender:c=!0,watchScroll:u=!0,pixelRatio:f=window.devicePixelRatio||1,renderingScale:d=1,production:p=!1}={}){this.type="Curtains",this._autoResize=h,this._autoRender=c,this._watchScroll=u,this.pixelRatio=f,d=isNaN(d)?1:parseFloat(d),this._renderingScale=Math.max(.25,Math.min(1,d)),this.premultipliedAlpha=r,this.alpha=e,this.antialias=i,this.depth=n,this.failIfMajorPerformanceCaveat=s,this.preserveDrawingBuffer=o,this.stencil=l,this.production=p,this.errors=!1,t?this.setContainer(t):this.production||F(this.type+": no container provided in the initial parameters. Use setContainer() method to set one later and initialize the WebGL context")}setContainer(t){if(t)if(typeof t=="string")if(t=document.getElementById(t),t)this.container=t;else{let e=document.createElement("div");e.setAttribute("id","curtains-canvas"),document.body.appendChild(e),this.container=e,this.production||F('Curtains: no valid container HTML element or ID provided, created a div with "curtains-canvas" ID instead')}else t instanceof Element&&(this.container=t);else{let e=document.createElement("div");e.setAttribute("id","curtains-canvas"),document.body.appendChild(e),this.container=e,this.production||F('Curtains: no valid container HTML element or ID provided, created a div with "curtains-canvas" ID instead')}this._initCurtains()}_initCurtains(){this.planes=[],this.renderTargets=[],this.shaderPasses=[],this._initRenderer(),this.gl&&(this._initScroll(),this._setSize(),this._addListeners(),this.container.appendChild(this.canvas),console.log("curtains.js - v"+Sc),this._animationFrameID=null,this._autoRender&&this._animate())}_initRenderer(){this.renderer=new xc({alpha:this.alpha,antialias:this.antialias,premultipliedAlpha:this.premultipliedAlpha,depth:this.depth,failIfMajorPerformanceCaveat:this.failIfMajorPerformanceCaveat,preserveDrawingBuffer:this.preserveDrawingBuffer,stencil:this.stencil,container:this.container,pixelRatio:this.pixelRatio,renderingScale:this._renderingScale,production:this.production,onError:()=>this._onRendererError(),onSuccess:()=>this._onRendererSuccess(),onContextLost:()=>this._onRendererContextLost(),onContextRestored:()=>this._onRendererContextRestored(),onDisposed:()=>this._onRendererDisposed(),onSceneChange:()=>this._keepSync()}),this.gl=this.renderer.gl,this.canvas=this.renderer.canvas}restoreContext(){this.renderer.restoreContext()}_animate(){this.render(),this._animationFrameID=window.requestAnimationFrame(this._animate.bind(this))}enableDrawing(){this.renderer.enableDrawing()}disableDrawing(){this.renderer.disableDrawing()}needRender(){this.renderer.needRender()}nextRender(t,e=!1){return this.renderer.nextRender.add(t,e)}clear(){this.renderer&&this.renderer.clear()}clearDepth(){this.renderer&&this.renderer.clearDepth()}clearColor(){this.renderer&&this.renderer.clearColor()}isWebGL2(){return this.gl?this.renderer._isWebGL2:!1}render(){this.renderer.nextRender.execute(),!(!this.renderer.state.drawingEnabled&&!this.renderer.state.forceRender)&&(this.renderer.state.forceRender&&(this.renderer.state.forceRender=!1),this._onRenderCallback&&this._onRenderCallback(),this.renderer.render())}_addListeners(){this._resizeHandler=null,this._autoResize&&(this._resizeHandler=this.resize.bind(this,!0),window.addEventListener("resize",this._resizeHandler,!1))}setPixelRatio(t,e){this.pixelRatio=parseFloat(Math.max(t,1))||1,this.renderer.setPixelRatio(t),this.resize(e)}_setSize(){this.renderer.setSize(),this._scrollManager.shouldWatch&&(this._scrollManager.xOffset=window.pageXOffset,this._scrollManager.yOffset=window.pageYOffset)}getBoundingRect(){return this.renderer._boundingRect}resize(t){!this.gl||(this._setSize(),this.renderer.resize(),this.nextRender(()=>{this._onAfterResizeCallback&&t&&this._onAfterResizeCallback()}))}_initScroll(){this._scrollManager=new Tc({xOffset:window.pageXOffset,yOffset:window.pageYOffset,lastXDelta:0,lastYDelta:0,shouldWatch:this._watchScroll,onScroll:(t,e)=>this._updateScroll(t,e)})}_updateScroll(t,e){for(let r=0;r<this.planes.length;r++)this.planes[r].watchScroll&&this.planes[r].updateScrollPosition(t,e);this.renderer.needRender(),this._onScrollCallback&&this._onScrollCallback()}updateScrollValues(t,e){this._scrollManager.updateScrollValues(t,e)}getScrollDeltas(){return{x:this._scrollManager.lastXDelta,y:this._scrollManager.lastYDelta}}getScrollValues(){return{x:this._scrollManager.xOffset,y:this._scrollManager.yOffset}}_keepSync(){this.planes=this.renderer.planes,this.shaderPasses=this.renderer.shaderPasses,this.renderTargets=this.renderer.renderTargets}lerp(t,e,r){return _c(t,e,r)}onAfterResize(t){return t&&(this._onAfterResizeCallback=t),this}onError(t){return t&&(this._onErrorCallback=t),this}_onRendererError(){setTimeout(()=>{this._onErrorCallback&&!this.errors&&this._onErrorCallback(),this.errors=!0},0)}onSuccess(t){return t&&(this._onSuccessCallback=t),this}_onRendererSuccess(){setTimeout(()=>{this._onSuccessCallback&&this._onSuccessCallback()},0)}onContextLost(t){return t&&(this._onContextLostCallback=t),this}_onRendererContextLost(){this._onContextLostCallback&&this._onContextLostCallback()}onContextRestored(t){return t&&(this._onContextRestoredCallback=t),this}_onRendererContextRestored(){this._onContextRestoredCallback&&this._onContextRestoredCallback()}onRender(t){return t&&(this._onRenderCallback=t),this}onScroll(t){return t&&(this._onScrollCallback=t),this}dispose(){this.renderer.dispose()}_onRendererDisposed(){this._animationFrameID&&window.cancelAnimationFrame(this._animationFrameID),this._resizeHandler&&window.removeEventListener("resize",this._resizeHandler,!1),this._scrollManager&&this._scrollManager.dispose()}}class Ac{constructor(t,e,r){if(this.type="Uniforms",!t||t.type!=="Renderer")lt(this.type+": Renderer not passed as first argument",t);else if(!t.gl){lt(this.type+": Renderer WebGL context is undefined",t);return}if(this.renderer=t,this.gl=t.gl,this.program=e,this.uniforms={},r)for(const i in r){const n=r[i];this.uniforms[i]={name:n.name,type:n.type,value:n.value.clone&&typeof n.value.clone=="function"?n.value.clone():n.value,update:null}}}handleUniformSetting(t){switch(t.type){case"1i":t.update=this.setUniform1i.bind(this);break;case"1iv":t.update=this.setUniform1iv.bind(this);break;case"1f":t.update=this.setUniform1f.bind(this);break;case"1fv":t.update=this.setUniform1fv.bind(this);break;case"2i":t.update=this.setUniform2i.bind(this);break;case"2iv":t.update=this.setUniform2iv.bind(this);break;case"2f":t.update=this.setUniform2f.bind(this);break;case"2fv":t.update=this.setUniform2fv.bind(this);break;case"3i":t.update=this.setUniform3i.bind(this);break;case"3iv":t.update=this.setUniform3iv.bind(this);break;case"3f":t.update=this.setUniform3f.bind(this);break;case"3fv":t.update=this.setUniform3fv.bind(this);break;case"4i":t.update=this.setUniform4i.bind(this);break;case"4iv":t.update=this.setUniform4iv.bind(this);break;case"4f":t.update=this.setUniform4f.bind(this);break;case"4fv":t.update=this.setUniform4fv.bind(this);break;case"mat2":t.update=this.setUniformMatrix2fv.bind(this);break;case"mat3":t.update=this.setUniformMatrix3fv.bind(this);break;case"mat4":t.update=this.setUniformMatrix4fv.bind(this);break;default:this.renderer.production||F(this.type+": This uniform type is not handled : ",t.type)}}setInternalFormat(t){t.value.type==="Vec2"?(t._internalFormat="Vec2",t.lastValue=t.value.clone()):t.value.type==="Vec3"?(t._internalFormat="Vec3",t.lastValue=t.value.clone()):t.value.type==="Mat4"?(t._internalFormat="Mat4",t.lastValue=t.value.clone()):t.value.type==="Quat"?(t._internalFormat="Quat",t.lastValue=t.value.clone()):Array.isArray(t.value)?(t._internalFormat="array",t.lastValue=Array.from(t.value)):t.value.constructor===Float32Array?(t._internalFormat="mat",t.lastValue=t.value):(t._internalFormat="float",t.lastValue=t.value)}setUniforms(){if(this.uniforms)for(const t in this.uniforms){let e=this.uniforms[t];e.location=this.gl.getUniformLocation(this.program,e.name),e._internalFormat||this.setInternalFormat(e),e.type||(e._internalFormat==="Vec2"?e.type="2f":e._internalFormat==="Vec3"?e.type="3f":e._internalFormat==="Mat4"?e.type="mat4":e._internalFormat==="array"?e.value.length===4?(e.type="4f",this.renderer.production||F(this.type+": No uniform type declared for "+e.name+", applied a 4f (array of 4 floats) uniform type")):e.value.length===3?(e.type="3f",this.renderer.production||F(this.type+": No uniform type declared for "+e.name+", applied a 3f (array of 3 floats) uniform type")):e.value.length===2&&(e.type="2f",this.renderer.production||F(this.type+": No uniform type declared for "+e.name+", applied a 2f (array of 2 floats) uniform type")):e._internalFormat==="mat"?e.value.length===16?(e.type="mat4",this.renderer.production||F(this.type+": No uniform type declared for "+e.name+", applied a mat4 (4x4 matrix array) uniform type")):e.value.length===9?(e.type="mat3",this.renderer.production||F(this.type+": No uniform type declared for "+e.name+", applied a mat3 (3x3 matrix array) uniform type")):e.value.length===4&&(e.type="mat2",this.renderer.production||F(this.type+": No uniform type declared for "+e.name+", applied a mat2 (2x2 matrix array) uniform type")):(e.type="1f",this.renderer.production||F(this.type+": No uniform type declared for "+e.name+", applied a 1f (float) uniform type"))),this.handleUniformSetting(e),e.update&&e.update(e)}}updateUniforms(){if(this.uniforms)for(const t in this.uniforms){const e=this.uniforms[t];let r=!1;e._internalFormat==="Vec2"||e._internalFormat==="Vec3"||e._internalFormat==="Quat"?e.value.equals(e.lastValue)||(r=!0,e.lastValue.copy(e.value)):e.value.length?JSON.stringify(e.value)!==JSON.stringify(e.lastValue)&&(r=!0,e.lastValue=Array.from(e.value)):e.value!==e.lastValue&&(r=!0,e.lastValue=e.value),r&&e.update&&e.update(e)}}setUniform1i(t){this.gl.uniform1i(t.location,t.value)}setUniform1iv(t){this.gl.uniform1iv(t.location,t.value)}setUniform1f(t){this.gl.uniform1f(t.location,t.value)}setUniform1fv(t){this.gl.uniform1fv(t.location,t.value)}setUniform2i(t){t._internalFormat==="Vec2"?this.gl.uniform2i(t.location,t.value.x,t.value.y):this.gl.uniform2i(t.location,t.value[0],t.value[1])}setUniform2iv(t){t._internalFormat==="Vec2"?this.gl.uniform2iv(t.location,[t.value.x,t.value.y]):this.gl.uniform2iv(t.location,t.value)}setUniform2f(t){t._internalFormat==="Vec2"?this.gl.uniform2f(t.location,t.value.x,t.value.y):this.gl.uniform2f(t.location,t.value[0],t.value[1])}setUniform2fv(t){t._internalFormat==="Vec2"?this.gl.uniform2fv(t.location,[t.value.x,t.value.y]):this.gl.uniform2fv(t.location,t.value)}setUniform3i(t){t._internalFormat==="Vec3"?this.gl.uniform3i(t.location,t.value.x,t.value.y,t.value.z):this.gl.uniform3i(t.location,t.value[0],t.value[1],t.value[2])}setUniform3iv(t){t._internalFormat==="Vec3"?this.gl.uniform3iv(t.location,[t.value.x,t.value.y,t.value.z]):this.gl.uniform3iv(t.location,t.value)}setUniform3f(t){t._internalFormat==="Vec3"?this.gl.uniform3f(t.location,t.value.x,t.value.y,t.value.z):this.gl.uniform3f(t.location,t.value[0],t.value[1],t.value[2])}setUniform3fv(t){t._internalFormat==="Vec3"?this.gl.uniform3fv(t.location,[t.value.x,t.value.y,t.value.z]):this.gl.uniform3fv(t.location,t.value)}setUniform4i(t){t._internalFormat==="Quat"?this.gl.uniform4i(t.location,t.value.elements[0],t.value.elements[1],t.value.elements[2],t.value[3]):this.gl.uniform4i(t.location,t.value[0],t.value[1],t.value[2],t.value[3])}setUniform4iv(t){t._internalFormat==="Quat"?this.gl.uniform4iv(t.location,[t.value.elements[0],t.value.elements[1],t.value.elements[2],t.value[3]]):this.gl.uniform4iv(t.location,t.value)}setUniform4f(t){t._internalFormat==="Quat"?this.gl.uniform4f(t.location,t.value.elements[0],t.value.elements[1],t.value.elements[2],t.value[3]):this.gl.uniform4f(t.location,t.value[0],t.value[1],t.value[2],t.value[3])}setUniform4fv(t){t._internalFormat==="Quat"?this.gl.uniform4fv(t.location,[t.value.elements[0],t.value.elements[1],t.value.elements[2],t.value[3]]):this.gl.uniform4fv(t.location,t.value)}setUniformMatrix2fv(t){this.gl.uniformMatrix2fv(t.location,!1,t.value)}setUniformMatrix3fv(t){this.gl.uniformMatrix3fv(t.location,!1,t.value)}setUniformMatrix4fv(t){t._internalFormat==="Mat4"?this.gl.uniformMatrix4fv(t.location,!1,t.value.elements):this.gl.uniformMatrix4fv(t.location,!1,t.value)}}const Oc=`
precision mediump float;
`;var ls=Oc.replace(/\n/g,"");const Cc=`
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;
`;var en=Cc.replace(/\n/g,"");const Pc=`
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
`;var hs=Pc.replace(/\n/g,"");const Rc=ls+en+hs+`
uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
}
`;var Ic=Rc.replace(/\n/g,"");const Nc=ls+hs+`
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
}
`;var Lc=Nc.replace(/\n/g,"");const Mc=ls+en+hs+`
void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = vec4(aVertexPosition, 1.0);
}
`;var Dc=Mc.replace(/\n/g,"");const kc=ls+hs+`
uniform sampler2D uRenderTexture;

void main() {
    gl_FragColor = texture2D(uRenderTexture, vTextureCoord);
}
`;var Fc=kc.replace(/\n/g,"");let Ki=0;class Xi{constructor(t,{parent:e,vertexShader:r,fragmentShader:i}={}){if(this.type="Program",!t||t.type!=="Renderer")lt(this.type+": Renderer not passed as first argument",t);else if(!t.gl){lt(this.type+": Renderer WebGL context is undefined",t);return}this.renderer=t,this.gl=this.renderer.gl,this.parent=e,this.defaultVsCode=this.parent.type==="Plane"?Ic:Dc,this.defaultFsCode=this.parent.type==="Plane"?Lc:Fc,r?this.vsCode=r:(!this.renderer.production&&this.parent.type==="Plane"&&F(this.parent.type+": No vertex shader provided, will use a default one"),this.vsCode=this.defaultVsCode),i?this.fsCode=i:(this.renderer.production||F(this.parent.type+": No fragment shader provided, will use a default one"),this.fsCode=this.defaultFsCode),this.compiled=!0,this.setupProgram()}createShader(t,e){const r=this.gl.createShader(e);if(this.gl.shaderSource(r,t),this.gl.compileShader(r),!this.renderer.production&&!this.gl.getShaderParameter(r,this.gl.COMPILE_STATUS)){const i=e===this.gl.VERTEX_SHADER?"vertex shader":"fragment shader";let s=this.gl.getShaderSource(r).split(`
`);for(let o=0;o<s.length;o++)s[o]=o+1+": "+s[o];return s=s.join(`
`),F(this.type+": Errors occurred while compiling the",i,`:
`,this.gl.getShaderInfoLog(r)),lt(s),F(this.type+": Will use a default",i),this.createShader(e===this.gl.VERTEX_SHADER?this.defaultVsCode:this.defaultFsCode,e)}return r}useNewShaders(){this.vertexShader=this.createShader(this.vsCode,this.gl.VERTEX_SHADER),this.fragmentShader=this.createShader(this.fsCode,this.gl.FRAGMENT_SHADER),(!this.vertexShader||!this.fragmentShader)&&(this.renderer.production||F(this.type+": Unable to find or compile the vertex or fragment shader"))}setupProgram(){let t=this.renderer.cache.getProgramFromShaders(this.vsCode,this.fsCode);t?(this.vertexShader=t.vertexShader,this.fragmentShader=t.fragmentShader,this.activeUniforms=t.activeUniforms,this.activeAttributes=t.activeAttributes,this.createProgram()):(this.useNewShaders(),this.compiled&&(this.createProgram(),this.renderer.cache.addProgram(this)))}createProgram(){if(Ki++,this.id=Ki,this.program=this.gl.createProgram(),this.gl.attachShader(this.program,this.vertexShader),this.gl.attachShader(this.program,this.fragmentShader),this.gl.linkProgram(this.program),!this.renderer.production&&!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS)){F(this.type+": Unable to initialize the shader program: "+this.gl.getProgramInfoLog(this.program)),F(this.type+": Will use default vertex and fragment shaders"),this.vertexShader=this.createShader(this.defaultVsCode,this.gl.VERTEX_SHADER),this.fragmentShader=this.createShader(this.defaultFsCode,this.gl.FRAGMENT_SHADER),this.createProgram();return}if(this.gl.deleteShader(this.vertexShader),this.gl.deleteShader(this.fragmentShader),!this.activeUniforms||!this.activeAttributes){this.activeUniforms={textures:[],textureMatrices:[]};const t=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let r=0;r<t;r++){const i=this.gl.getActiveUniform(this.program,r);i.type===this.gl.SAMPLER_2D&&this.activeUniforms.textures.push(i.name),i.type===this.gl.FLOAT_MAT4&&i.name!=="uMVMatrix"&&i.name!=="uPMatrix"&&this.activeUniforms.textureMatrices.push(i.name)}this.activeAttributes=[];const e=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let r=0;r<e;r++){const i=this.gl.getActiveAttrib(this.program,r);this.activeAttributes.push(i.name)}}}createUniforms(t){this.uniformsManager=new Ac(this.renderer,this.program,t),this.setUniforms()}setUniforms(){this.renderer.useProgram(this),this.uniformsManager.setUniforms()}updateUniforms(){this.renderer.useProgram(this),this.uniformsManager.updateUniforms()}}class $c{constructor(t,{program:e=null,width:r=1,height:i=1}={}){if(this.type="Geometry",!t||t.type!=="Renderer")lt(this.type+": Renderer not passed as first argument",t);else if(!t.gl){lt(this.type+": Renderer WebGL context is undefined",t);return}this.renderer=t,this.gl=this.renderer.gl,this.definition={id:r*i+r,width:r,height:i},this.setDefaultAttributes(),this.setVerticesUVs()}restoreContext(t){this.program=null,this.setDefaultAttributes(),this.setVerticesUVs(),this.setProgram(t)}setDefaultAttributes(){this.attributes={vertexPosition:{name:"aVertexPosition",size:3,isActive:!1},textureCoord:{name:"aTextureCoord",size:3,isActive:!1}}}setVerticesUVs(){const t=this.renderer.cache.getGeometryFromID(this.definition.id);t?(this.attributes.vertexPosition.array=t.vertices,this.attributes.textureCoord.array=t.uvs):(this.computeVerticesUVs(),this.renderer.cache.addGeometry(this.definition.id,this.attributes.vertexPosition.array,this.attributes.textureCoord.array))}setProgram(t){this.program=t,this.initAttributes(),this.renderer._isWebGL2?(this._vao=this.gl.createVertexArray(),this.gl.bindVertexArray(this._vao)):this.renderer.extensions.OES_vertex_array_object&&(this._vao=this.renderer.extensions.OES_vertex_array_object.createVertexArrayOES(),this.renderer.extensions.OES_vertex_array_object.bindVertexArrayOES(this._vao)),this.initializeBuffers()}initAttributes(){for(const t in this.attributes){if(this.attributes[t].isActive=this.program.activeAttributes.includes(this.attributes[t].name),!this.attributes[t].isActive)return;this.attributes[t].location=this.gl.getAttribLocation(this.program.program,this.attributes[t].name),this.attributes[t].buffer=this.gl.createBuffer(),this.attributes[t].numberOfItems=this.definition.width*this.definition.height*this.attributes[t].size*2}}computeVerticesUVs(){this.attributes.vertexPosition.array=[],this.attributes.textureCoord.array=[];const t=this.attributes.vertexPosition.array,e=this.attributes.textureCoord.array;for(let r=0;r<this.definition.height;r++){const i=r/this.definition.height;for(let n=0;n<this.definition.width;n++){const s=n/this.definition.width;e.push(s),e.push(i),e.push(0),t.push((s-.5)*2),t.push((i-.5)*2),t.push(0),e.push(s+1/this.definition.width),e.push(i),e.push(0),t.push((s+1/this.definition.width-.5)*2),t.push((i-.5)*2),t.push(0),e.push(s),e.push(i+1/this.definition.height),e.push(0),t.push((s-.5)*2),t.push((i+1/this.definition.height-.5)*2),t.push(0),e.push(s),e.push(i+1/this.definition.height),e.push(0),t.push((s-.5)*2),t.push((i+1/this.definition.height-.5)*2),t.push(0),e.push(s+1/this.definition.width),e.push(i),e.push(0),t.push((s+1/this.definition.width-.5)*2),t.push((i-.5)*2),t.push(0),e.push(s+1/this.definition.width),e.push(i+1/this.definition.height),e.push(0),t.push((s+1/this.definition.width-.5)*2),t.push((i+1/this.definition.height-.5)*2),t.push(0)}}}initializeBuffers(){if(!!this.attributes){for(const t in this.attributes){if(!this.attributes[t].isActive)return;this.gl.enableVertexAttribArray(this.attributes[t].location),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.attributes[t].buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(this.attributes[t].array),this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.attributes[t].location,this.attributes[t].size,this.gl.FLOAT,!1,0,0)}this.renderer.state.currentGeometryID=this.definition.id}}bindBuffers(){if(this._vao)this.renderer._isWebGL2?this.gl.bindVertexArray(this._vao):this.renderer.extensions.OES_vertex_array_object.bindVertexArrayOES(this._vao);else for(const t in this.attributes){if(!this.attributes[t].isActive)return;this.gl.enableVertexAttribArray(this.attributes[t].location),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.attributes[t].buffer),this.gl.vertexAttribPointer(this.attributes[t].location,this.attributes[t].size,this.gl.FLOAT,!1,0,0)}this.renderer.state.currentGeometryID=this.definition.id}draw(){this.gl.drawArrays(this.gl.TRIANGLES,0,this.attributes.vertexPosition.numberOfItems)}dispose(){this._vao&&(this.renderer._isWebGL2?this.gl.deleteVertexArray(this._vao):this.renderer.extensions.OES_vertex_array_object.deleteVertexArrayOES(this._vao));for(const t in this.attributes){if(!this.attributes[t].isActive)return;this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.attributes[t].buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,1,this.gl.STATIC_DRAW),this.gl.deleteBuffer(this.attributes[t].buffer)}this.attributes=null,this.renderer.state.currentGeometryID=null}}class At{constructor(t=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])){this.type="Mat4",this.elements=t}setFromArray(t){for(let e=0;e<this.elements.length;e++)this.elements[e]=t[e];return this}copy(t){const e=t.elements;return this.elements[0]=e[0],this.elements[1]=e[1],this.elements[2]=e[2],this.elements[3]=e[3],this.elements[4]=e[4],this.elements[5]=e[5],this.elements[6]=e[6],this.elements[7]=e[7],this.elements[8]=e[8],this.elements[9]=e[9],this.elements[10]=e[10],this.elements[11]=e[11],this.elements[12]=e[12],this.elements[13]=e[13],this.elements[14]=e[14],this.elements[15]=e[15],this}clone(){return new At().copy(this)}multiply(t){const e=this.elements,r=t.elements;let i=new At;return i.elements[0]=r[0]*e[0]+r[1]*e[4]+r[2]*e[8]+r[3]*e[12],i.elements[1]=r[0]*e[1]+r[1]*e[5]+r[2]*e[9]+r[3]*e[13],i.elements[2]=r[0]*e[2]+r[1]*e[6]+r[2]*e[10]+r[3]*e[14],i.elements[3]=r[0]*e[3]+r[1]*e[7]+r[2]*e[11]+r[3]*e[15],i.elements[4]=r[4]*e[0]+r[5]*e[4]+r[6]*e[8]+r[7]*e[12],i.elements[5]=r[4]*e[1]+r[5]*e[5]+r[6]*e[9]+r[7]*e[13],i.elements[6]=r[4]*e[2]+r[5]*e[6]+r[6]*e[10]+r[7]*e[14],i.elements[7]=r[4]*e[3]+r[5]*e[7]+r[6]*e[11]+r[7]*e[15],i.elements[8]=r[8]*e[0]+r[9]*e[4]+r[10]*e[8]+r[11]*e[12],i.elements[9]=r[8]*e[1]+r[9]*e[5]+r[10]*e[9]+r[11]*e[13],i.elements[10]=r[8]*e[2]+r[9]*e[6]+r[10]*e[10]+r[11]*e[14],i.elements[11]=r[8]*e[3]+r[9]*e[7]+r[10]*e[11]+r[11]*e[15],i.elements[12]=r[12]*e[0]+r[13]*e[4]+r[14]*e[8]+r[15]*e[12],i.elements[13]=r[12]*e[1]+r[13]*e[5]+r[14]*e[9]+r[15]*e[13],i.elements[14]=r[12]*e[2]+r[13]*e[6]+r[14]*e[10]+r[15]*e[14],i.elements[15]=r[12]*e[3]+r[13]*e[7]+r[14]*e[11]+r[15]*e[15],i}getInverse(){const t=this.elements,e=new At,r=e.elements;let i=t[0],n=t[1],s=t[2],o=t[3],l=t[4],h=t[5],c=t[6],u=t[7],f=t[8],d=t[9],p=t[10],m=t[11],g=t[12],v=t[13],_=t[14],E=t[15],b=i*h-n*l,T=i*c-s*l,y=i*u-o*l,A=n*c-s*h,P=n*u-o*h,w=s*u-o*c,I=f*v-d*g,x=f*_-p*g,S=f*E-m*g,C=d*_-p*v,R=d*E-m*v,L=p*E-m*_,N=b*L-T*R+y*C+A*S-P*x+w*I;return N?(N=1/N,r[0]=(h*L-c*R+u*C)*N,r[1]=(s*R-n*L-o*C)*N,r[2]=(v*w-_*P+E*A)*N,r[3]=(p*P-d*w-m*A)*N,r[4]=(c*S-l*L-u*x)*N,r[5]=(i*L-s*S+o*x)*N,r[6]=(_*y-g*w-E*T)*N,r[7]=(f*w-p*y+m*T)*N,r[8]=(l*R-h*S+u*I)*N,r[9]=(n*S-i*R-o*I)*N,r[10]=(g*P-v*y+E*b)*N,r[11]=(d*y-f*P-m*b)*N,r[12]=(h*x-l*C-c*I)*N,r[13]=(i*C-n*x+s*I)*N,r[14]=(v*T-g*A-_*b)*N,r[15]=(f*A-d*T+p*b)*N,e):null}scale(t){let e=this.elements;return e[0]*=t.x,e[1]*=t.x,e[2]*=t.x,e[3]*=t.x,e[4]*=t.y,e[5]*=t.y,e[6]*=t.y,e[7]*=t.y,e[8]*=t.z,e[9]*=t.z,e[10]*=t.z,e[11]*=t.z,this}compose(t,e,r){let i=this.elements;const n=e.elements[0],s=e.elements[1],o=e.elements[2],l=e.elements[3],h=n+n,c=s+s,u=o+o,f=n*h,d=n*c,p=n*u,m=s*c,g=s*u,v=o*u,_=l*h,E=l*c,b=l*u,T=r.x,y=r.y,A=r.z;return i[0]=(1-(m+v))*T,i[1]=(d+b)*T,i[2]=(p-E)*T,i[3]=0,i[4]=(d-b)*y,i[5]=(1-(f+v))*y,i[6]=(g+_)*y,i[7]=0,i[8]=(p+E)*A,i[9]=(g-_)*A,i[10]=(1-(f+m))*A,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this}composeFromOrigin(t,e,r,i){let n=this.elements;const s=e.elements[0],o=e.elements[1],l=e.elements[2],h=e.elements[3],c=s+s,u=o+o,f=l+l,d=s*c,p=s*u,m=s*f,g=o*u,v=o*f,_=l*f,E=h*c,b=h*u,T=h*f,y=r.x,A=r.y,P=r.z,w=i.x,I=i.y,x=i.z,S=(1-(g+_))*y,C=(p+T)*y,R=(m-b)*y,L=(p-T)*A,N=(1-(d+_))*A,D=(v+E)*A,V=(m+b)*P,$=(v-E)*P,W=(1-(d+g))*P;return n[0]=S,n[1]=C,n[2]=R,n[3]=0,n[4]=L,n[5]=N,n[6]=D,n[7]=0,n[8]=V,n[9]=$,n[10]=W,n[11]=0,n[12]=t.x+w-(S*w+L*I+V*x),n[13]=t.y+I-(C*w+N*I+$*x),n[14]=t.z+x-(R*w+D*I+W*x),n[15]=1,this}}class vt{constructor(t=0,e=t){this.type="Vec2",this._x=t,this._y=e}get x(){return this._x}get y(){return this._y}set x(t){const e=t!==this._x;this._x=t,e&&this._onChangeCallback&&this._onChangeCallback()}set y(t){const e=t!==this._y;this._y=t,e&&this._onChangeCallback&&this._onChangeCallback()}onChange(t){return t&&(this._onChangeCallback=t),this}set(t,e){return this._x=t,this._y=e,this}add(t){return this._x+=t.x,this._y+=t.y,this}addScalar(t){return this._x+=t,this._y+=t,this}sub(t){return this._x-=t.x,this._y-=t.y,this}subScalar(t){return this._x-=t,this._y-=t,this}multiply(t){return this._x*=t.x,this._y*=t.y,this}multiplyScalar(t){return this._x*=t,this._y*=t,this}copy(t){return this._x=t.x,this._y=t.y,this}clone(){return new vt(this._x,this._y)}sanitizeNaNValuesWith(t){return this._x=isNaN(this._x)?t.x:parseFloat(this._x),this._y=isNaN(this._y)?t.y:parseFloat(this._y),this}max(t){return this._x=Math.max(this._x,t.x),this._y=Math.max(this._y,t.y),this}min(t){return this._x=Math.min(this._x,t.x),this._y=Math.min(this._y,t.y),this}equals(t){return this._x===t.x&&this._y===t.y}normalize(){let t=this._x*this._x+this._y*this._y;return t>0&&(t=1/Math.sqrt(t)),this._x*=t,this._y*=t,this}dot(t){return this._x*t.x+this._y*t.y}}class q{constructor(t=0,e=t,r=t){this.type="Vec3",this._x=t,this._y=e,this._z=r}get x(){return this._x}get y(){return this._y}get z(){return this._z}set x(t){const e=t!==this._x;this._x=t,e&&this._onChangeCallback&&this._onChangeCallback()}set y(t){const e=t!==this._y;this._y=t,e&&this._onChangeCallback&&this._onChangeCallback()}set z(t){const e=t!==this._z;this._z=t,e&&this._onChangeCallback&&this._onChangeCallback()}onChange(t){return t&&(this._onChangeCallback=t),this}set(t,e,r){return this._x=t,this._y=e,this._z=r,this}add(t){return this._x+=t.x,this._y+=t.y,this._z+=t.z,this}addScalar(t){return this._x+=t,this._y+=t,this._z+=t,this}sub(t){return this._x-=t.x,this._y-=t.y,this._z-=t.z,this}subScalar(t){return this._x-=t,this._y-=t,this._z-=t,this}multiply(t){return this._x*=t.x,this._y*=t.y,this._z*=t.z,this}multiplyScalar(t){return this._x*=t,this._y*=t,this._z*=t,this}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this}clone(){return new q(this._x,this._y,this._z)}sanitizeNaNValuesWith(t){return this._x=isNaN(this._x)?t.x:parseFloat(this._x),this._y=isNaN(this._y)?t.y:parseFloat(this._y),this._z=isNaN(this._z)?t.z:parseFloat(this._z),this}max(t){return this._x=Math.max(this._x,t.x),this._y=Math.max(this._y,t.y),this._z=Math.max(this._z,t.z),this}min(t){return this._x=Math.min(this._x,t.x),this._y=Math.min(this._y,t.y),this._z=Math.min(this._z,t.z),this}equals(t){return this._x===t.x&&this._y===t.y&&this._z===t.z}normalize(){let t=this._x*this._x+this._y*this._y+this._z*this._z;return t>0&&(t=1/Math.sqrt(t)),this._x*=t,this._y*=t,this._z*=t,this}dot(t){return this._x*t.x+this._y*t.y+this._z*t.z}applyMat4(t){const e=this._x,r=this._y,i=this._z,n=t.elements;let s=n[3]*e+n[7]*r+n[11]*i+n[15];return s=s||1,this._x=(n[0]*e+n[4]*r+n[8]*i+n[12])/s,this._y=(n[1]*e+n[5]*r+n[9]*i+n[13])/s,this._z=(n[2]*e+n[6]*r+n[10]*i+n[14])/s,this}applyQuat(t){const e=this._x,r=this._y,i=this._z,n=t.elements[0],s=t.elements[1],o=t.elements[2],l=t.elements[3],h=l*e+s*i-o*r,c=l*r+o*e-n*i,u=l*i+n*r-s*e,f=-n*e-s*r-o*i;return this._x=h*l+f*-n+c*-o-u*-s,this._y=c*l+f*-s+u*-n-h*-o,this._z=u*l+f*-o+h*-s-c*-n,this}project(t){return this.applyMat4(t.viewMatrix).applyMat4(t.projectionMatrix),this}unproject(t){return this.applyMat4(t.projectionMatrix.getInverse()).applyMat4(t.worldMatrix),this}}const Rs=new vt,Vc=new q,jc=new At;class Se{constructor(t,{isFBOTexture:e=!1,fromTexture:r=!1,loader:i,sampler:n,floatingPoint:s="none",premultiplyAlpha:o=!1,anisotropy:l=1,generateMipmap:h=null,wrapS:c,wrapT:u,minFilter:f,magFilter:d}={}){if(this.type="Texture",t=t&&t.renderer||t,!t||t.type!=="Renderer")lt(this.type+": Renderer not passed as first argument",t);else if(!t.gl){t.production||lt(this.type+": Unable to create a "+this.type+" because the Renderer WebGL context is not defined");return}if(this.renderer=t,this.gl=this.renderer.gl,this.uuid=tn(),this._globalParameters={unpackAlignment:4,flipY:!e,premultiplyAlpha:!1,shouldPremultiplyAlpha:o,floatingPoint:s,type:this.gl.UNSIGNED_BYTE,internalFormat:this.gl.RGBA,format:this.gl.RGBA},this.parameters={anisotropy:l,generateMipmap:h,wrapS:c||this.gl.CLAMP_TO_EDGE,wrapT:u||this.gl.CLAMP_TO_EDGE,minFilter:f||this.gl.LINEAR,magFilter:d||this.gl.LINEAR,_shouldUpdate:!0},this._initState(),this.sourceType=e?"fbo":"empty",this._useCache=!0,this._samplerName=n,this._sampler={isActive:!1,isTextureBound:!1,texture:this.gl.createTexture()},this._textureMatrix={matrix:new At,isActive:!1},this._size={width:1,height:1},this.scale=new vt(1),this.scale.onChange(()=>this.resize()),this.offset=new vt,this.offset.onChange(()=>this.resize()),this._loader=i,this._sourceLoaded=!1,this._uploaded=!1,this._willUpdate=!1,this.shouldUpdate=!1,this._forceUpdate=!1,this.userData={},this._canDraw=!1,r){this._copyOnInit=!0,this._copiedFrom=r;return}this._copyOnInit=!1,this._initTexture()}_initState(){this._state={anisotropy:1,generateMipmap:!1,wrapS:null,wrapT:null,minFilter:null,magFilter:this.gl.LINEAR}}_initTexture(){this.gl.bindTexture(this.gl.TEXTURE_2D,this._sampler.texture),this.sourceType==="empty"&&(this._globalParameters.flipY=!1,this._updateGlobalTexParameters(),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,new Uint8Array([0,0,0,255])),this._canDraw=!0)}_restoreFromTexture(){this._copyOnInit||this._initTexture(),this._parent&&(this._setTextureUniforms(),this._setSize()),this.copy(this._copiedFrom),this._canDraw=!0}_restoreContext(){if(this._canDraw=!1,this._sampler.texture=this.gl.createTexture(),this._sampler.isActive=!1,this._sampler.isTextureBound=!1,this._textureMatrix.isActive=!1,this._initState(),this._state.generateMipmap=!1,this.parameters._shouldUpdate=!0,!this._copiedFrom)this._initTexture(),this._parent&&this._setParent(),this.source&&(this.setSource(this.source),this.sourceType==="image"?this.renderer.cache.addTexture(this):this.needUpdate()),this._canDraw=!0;else{const t=this.renderer.nextRender.add(()=>{this._copiedFrom._canDraw&&(this._restoreFromTexture(),t.keep=!1)},!0)}}addParent(t){if(!t||t.type!=="Plane"&&t.type!=="PingPongPlane"&&t.type!=="ShaderPass"&&t.type!=="RenderTarget"){this.renderer.production||F(this.type+": cannot add texture as a child of ",t," because it is not a valid parent");return}this._parent=t,this.index=this._parent.textures.length,this._parent.textures.push(this),this._setParent()}_setParent(){if(this._sampler.name=this._samplerName||"uSampler"+this.index,this._textureMatrix.name=this._samplerName?this._samplerName+"Matrix":"uTextureMatrix"+this.index,this._parent._program){if(!this._parent._program.compiled){this.renderer.production||F(this.type+": Unable to create the texture because the program is not valid");return}if(this._setTextureUniforms(),this._copyOnInit){const t=this.renderer.nextRender.add(()=>{this._copiedFrom._canDraw&&this._copiedFrom._uploaded&&(this.copy(this._copiedFrom),t.keep=!1)},!0);return}this.source?this._parent.loader&&this._parent.loader._addSourceToParent(this.source,this.sourceType):this._size={width:this._parent._boundingRect.document.width,height:this._parent._boundingRect.document.height},this._setSize()}else this._parent.type==="RenderTarget"&&(this._size={width:this._parent._size&&this._parent._size.width||this.renderer._boundingRect.width,height:this._parent._size&&this._parent._size.height||this.renderer._boundingRect.height},this._upload(),this._updateTexParameters(),this._canDraw=!0)}hasParent(){return!!this._parent}_setTextureUniforms(){const t=this._parent._program.activeUniforms;for(let e=0;e<t.textures.length;e++)t.textures[e]===this._sampler.name&&(this._sampler.isActive=!0,this.renderer.useProgram(this._parent._program),this._sampler.location=this.gl.getUniformLocation(this._parent._program.program,this._sampler.name),t.textureMatrices.find(i=>i===this._textureMatrix.name)&&(this._textureMatrix.isActive=!0,this._textureMatrix.location=this.gl.getUniformLocation(this._parent._program.program,this._textureMatrix.name)),this.gl.uniform1i(this._sampler.location,this.index))}copy(t){if(!t||t.type!=="Texture"){this.renderer.production||F(this.type+": Unable to set the texture from texture:",t);return}this._globalParameters=Object.assign({},t._globalParameters),this._state=Object.assign({},t._state),this.parameters.generateMipmap=t.parameters.generateMipmap,this._state.generateMipmap=null,this._size=t._size,!this._sourceLoaded&&t._sourceLoaded&&this._onSourceLoadedCallback&&this._onSourceLoadedCallback(),this._sourceLoaded=t._sourceLoaded,!this._uploaded&&t._uploaded&&this._onSourceUploadedCallback&&this._onSourceUploadedCallback(),this._uploaded=t._uploaded,this.sourceType=t.sourceType,this.source=t.source,this._videoFrameCallbackID=t._videoFrameCallbackID,this._sampler.texture=t._sampler.texture,this._copiedFrom=t,this._parent&&this._parent._program&&(!this._canDraw||!this._textureMatrix.matrix)&&(this._setSize(),this._canDraw=!0),this._updateTexParameters(),this.renderer.needRender()}setSource(t){this._sourceLoaded||this.renderer.nextRender.add(()=>this._onSourceLoadedCallback&&this._onSourceLoadedCallback());const e=t.tagName.toUpperCase()==="IMG"?"image":t.tagName.toLowerCase();if((e==="video"||e==="canvas")&&(this._useCache=!1),this._useCache){const r=this.renderer.cache.getTextureFromSource(t);if(r&&r.uuid!==this.uuid){this._uploaded||(this.renderer.nextRender.add(()=>this._onSourceUploadedCallback&&this._onSourceUploadedCallback()),this._uploaded=!0),this.copy(r),this.resize();return}}if(this.sourceType==="empty"||this.sourceType!==e)if(e==="video")this._willUpdate=!1,this.shouldUpdate=!0;else if(e==="canvas")this._willUpdate=!0,this.shouldUpdate=!0;else if(e==="image")this._willUpdate=!1,this.shouldUpdate=!1;else{this.renderer.production||F(this.type+": this HTML tag could not be converted into a texture:",t.tagName);return}this.source=t,this.sourceType=e,this._size={width:this.source.naturalWidth||this.source.width||this.source.videoWidth,height:this.source.naturalHeight||this.source.height||this.source.videoHeight},this._sourceLoaded=!0,this.gl.bindTexture(this.gl.TEXTURE_2D,this._sampler.texture),this.resize(),this._globalParameters.flipY=!0,this._globalParameters.premultiplyAlpha=this._globalParameters.shouldPremultiplyAlpha,this.sourceType==="image"&&(this.parameters.generateMipmap=this.parameters.generateMipmap||this.parameters.generateMipmap===null,this.parameters._shouldUpdate=this.parameters.generateMipmap,this._state.generateMipmap=!1,this._upload()),this.renderer.needRender()}_updateGlobalTexParameters(){this.renderer.state.unpackAlignment!==this._globalParameters.unpackAlignment&&(this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,this._globalParameters.unpackAlignment),this.renderer.state.unpackAlignment=this._globalParameters.unpackAlignment),this.renderer.state.flipY!==this._globalParameters.flipY&&(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,this._globalParameters.flipY),this.renderer.state.flipY=this._globalParameters.flipY),this.renderer.state.premultiplyAlpha!==this._globalParameters.premultiplyAlpha&&(this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._globalParameters.premultiplyAlpha),this.renderer.state.premultiplyAlpha=this._globalParameters.premultiplyAlpha),this._globalParameters.floatingPoint==="half-float"?this.renderer._isWebGL2&&this.renderer.extensions.EXT_color_buffer_float?(this._globalParameters.internalFormat=this.gl.RGBA16F,this._globalParameters.type=this.gl.HALF_FLOAT):this.renderer.extensions.OES_texture_half_float?this._globalParameters.type=this.renderer.extensions.OES_texture_half_float.HALF_FLOAT_OES:this.renderer.production||F(this.type+": could not use half-float textures because the extension is not available"):this._globalParameters.floatingPoint==="float"&&(this.renderer._isWebGL2&&this.renderer.extensions.EXT_color_buffer_float?(this._globalParameters.internalFormat=this.gl.RGBA16F,this._globalParameters.type=this.gl.FLOAT):this.renderer.extensions.OES_texture_float?this._globalParameters.type=this.renderer.extensions.OES_texture_half_float.FLOAT:this.renderer.production||F(this.type+": could not use float textures because the extension is not available"))}_updateTexParameters(){this.index&&this.renderer.state.activeTexture!==this.index&&this._bindTexture(),this.parameters.wrapS!==this._state.wrapS&&(!this.renderer._isWebGL2&&(!Tt(this._size.width)||!Tt(this._size.height))&&(this.parameters.wrapS=this.gl.CLAMP_TO_EDGE),this.parameters.wrapS!==this.gl.REPEAT&&this.parameters.wrapS!==this.gl.CLAMP_TO_EDGE&&this.parameters.wrapS!==this.gl.MIRRORED_REPEAT&&(this.renderer.production||F(this.type+": Wrong wrapS value",this.parameters.wrapS,"for this texture:",this,`
gl.CLAMP_TO_EDGE wrapping will be used instead`),this.parameters.wrapS=this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.parameters.wrapS),this._state.wrapS=this.parameters.wrapS),this.parameters.wrapT!==this._state.wrapT&&(!this.renderer._isWebGL2&&(!Tt(this._size.width)||!Tt(this._size.height))&&(this.parameters.wrapT=this.gl.CLAMP_TO_EDGE),this.parameters.wrapT!==this.gl.REPEAT&&this.parameters.wrapT!==this.gl.CLAMP_TO_EDGE&&this.parameters.wrapT!==this.gl.MIRRORED_REPEAT&&(this.renderer.production||F(this.type+": Wrong wrapT value",this.parameters.wrapT,"for this texture:",this,`
gl.CLAMP_TO_EDGE wrapping will be used instead`),this.parameters.wrapT=this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.parameters.wrapT),this._state.wrapT=this.parameters.wrapT),this.parameters.generateMipmap&&!this._state.generateMipmap&&this.source&&(!this.renderer._isWebGL2&&(!Tt(this._size.width)||!Tt(this._size.height))?this.parameters.generateMipmap=!1:this.gl.generateMipmap(this.gl.TEXTURE_2D),this._state.generateMipmap=this.parameters.generateMipmap),this.parameters.minFilter!==this._state.minFilter&&(!this.renderer._isWebGL2&&(!Tt(this._size.width)||!Tt(this._size.height))&&(this.parameters.minFilter=this.gl.LINEAR),!this.parameters.generateMipmap&&this.parameters.generateMipmap!==null&&(this.parameters.minFilter=this.gl.LINEAR),this.parameters.minFilter!==this.gl.LINEAR&&this.parameters.minFilter!==this.gl.NEAREST&&this.parameters.minFilter!==this.gl.NEAREST_MIPMAP_NEAREST&&this.parameters.minFilter!==this.gl.LINEAR_MIPMAP_NEAREST&&this.parameters.minFilter!==this.gl.NEAREST_MIPMAP_LINEAR&&this.parameters.minFilter!==this.gl.LINEAR_MIPMAP_LINEAR&&(this.renderer.production||F(this.type+": Wrong minFilter value",this.parameters.minFilter,"for this texture:",this,`
gl.LINEAR filtering will be used instead`),this.parameters.minFilter=this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.parameters.minFilter),this._state.minFilter=this.parameters.minFilter),this.parameters.magFilter!==this._state.magFilter&&(!this.renderer._isWebGL2&&(!Tt(this._size.width)||!Tt(this._size.height))&&(this.parameters.magFilter=this.gl.LINEAR),this.parameters.magFilter!==this.gl.LINEAR&&this.parameters.magFilter!==this.gl.NEAREST&&(this.renderer.production||F(this.type+": Wrong magFilter value",this.parameters.magFilter,"for this texture:",this,`
gl.LINEAR filtering will be used instead`),this.parameters.magFilter=this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.parameters.magFilter),this._state.magFilter=this.parameters.magFilter);const t=this.renderer.extensions.EXT_texture_filter_anisotropic;if(t&&this.parameters.anisotropy!==this._state.anisotropy){const e=this.gl.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT);this.parameters.anisotropy=Math.max(1,Math.min(this.parameters.anisotropy,e)),this.gl.texParameterf(this.gl.TEXTURE_2D,t.TEXTURE_MAX_ANISOTROPY_EXT,this.parameters.anisotropy),this._state.anisotropy=this.parameters.anisotropy}}setWrapS(t){this.parameters.wrapS!==t&&(this.parameters.wrapS=t,this.parameters._shouldUpdate=!0)}setWrapT(t){this.parameters.wrapT!==t&&(this.parameters.wrapT=t,this.parameters._shouldUpdate=!0)}setMinFilter(t){this.parameters.minFilter!==t&&(this.parameters.minFilter=t,this.parameters._shouldUpdate=!0)}setMagFilter(t){this.parameters.magFilter!==t&&(this.parameters.magFilter=t,this.parameters._shouldUpdate=!0)}setAnisotropy(t){t=isNaN(t)?this.parameters.anisotropy:t,this.parameters.anisotropy!==t&&(this.parameters.anisotropy=t,this.parameters._shouldUpdate=!0)}needUpdate(){this._forceUpdate=!0}_videoFrameCallback(){this._willUpdate=!0,this.source.requestVideoFrameCallback(()=>this._videoFrameCallback())}_upload(){this._updateGlobalTexParameters(),this.source?this.gl.texImage2D(this.gl.TEXTURE_2D,0,this._globalParameters.internalFormat,this._globalParameters.format,this._globalParameters.type,this.source):this.sourceType==="fbo"&&this.gl.texImage2D(this.gl.TEXTURE_2D,0,this._globalParameters.internalFormat,this._size.width,this._size.height,0,this._globalParameters.format,this._globalParameters.type,this.source||null),this._uploaded||(this.renderer.nextRender.add(()=>this._onSourceUploadedCallback&&this._onSourceUploadedCallback()),this._uploaded=!0)}_getSizes(){if(this.sourceType==="fbo")return{parentWidth:this._parent._boundingRect.document.width,parentHeight:this._parent._boundingRect.document.height,sourceWidth:this._parent._boundingRect.document.width,sourceHeight:this._parent._boundingRect.document.height,xOffset:0,yOffset:0};const t=this._parent.scale?Rs.set(this._parent.scale.x,this._parent.scale.y):Rs.set(1,1),e=this._parent._boundingRect.document.width*t.x,r=this._parent._boundingRect.document.height*t.y,i=this._size.width,n=this._size.height,s=i/n,o=e/r;let l=0,h=0;return o>s?h=Math.min(0,r-e*(1/s)):o<s&&(l=Math.min(0,e-r*s)),{parentWidth:e,parentHeight:r,sourceWidth:i,sourceHeight:n,xOffset:l,yOffset:h}}setScale(t){if(!t.type||t.type!=="Vec2"){this.renderer.production||F(this.type+": Cannot set scale because the parameter passed is not of Vec2 type:",t);return}t.sanitizeNaNValuesWith(this.scale).max(Rs.set(.001,.001)),t.equals(this.scale)||(this.scale.copy(t),this.resize())}setOffset(t){if(!t.type||t.type!=="Vec2"){this.renderer.production||F(this.type+": Cannot set offset because the parameter passed is not of Vec2 type:",scale);return}t.sanitizeNaNValuesWith(this.offset),t.equals(this.offset)||(this.offset.copy(t),this.resize())}_setSize(){if(this._parent&&this._parent._program){const t=this._getSizes();this._updateTextureMatrix(t)}}resize(){this.sourceType==="fbo"?(this._size={width:this._parent._size&&this._parent._size.width||this._parent._boundingRect.document.width,height:this._parent._size&&this._parent._size.height||this._parent._boundingRect.document.height},this._copiedFrom||(this.gl.bindTexture(this.gl.TEXTURE_2D,this._sampler.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this._globalParameters.internalFormat,this._size.width,this._size.height,0,this._globalParameters.format,this._globalParameters.type,null))):this.source&&(this._size={width:this.source.naturalWidth||this.source.width||this.source.videoWidth,height:this.source.naturalHeight||this.source.height||this.source.videoHeight}),this._setSize()}_updateTextureMatrix(t){const e=Vc.set(t.parentWidth/(t.parentWidth-t.xOffset),t.parentHeight/(t.parentHeight-t.yOffset),1);e.x/=this.scale.x,e.y/=this.scale.y,this._textureMatrix.matrix=jc.setFromArray([e.x,0,0,0,0,e.y,0,0,0,0,1,0,(1-e.x)/2+this.offset.x,(1-e.y)/2+this.offset.y,0,1]),this._updateMatrixUniform()}_updateMatrixUniform(){this._textureMatrix.isActive&&(this.renderer.useProgram(this._parent._program),this.gl.uniformMatrix4fv(this._textureMatrix.location,!1,this._textureMatrix.matrix.elements))}_onSourceLoaded(t){this.setSource(t),this.sourceType==="image"&&this.renderer.cache.addTexture(this)}_bindTexture(){this._canDraw&&(this.renderer.state.activeTexture!==this.index&&(this.gl.activeTexture(this.gl.TEXTURE0+this.index),this.renderer.state.activeTexture=this.index),this.gl.bindTexture(this.gl.TEXTURE_2D,this._sampler.texture),this._sampler.isTextureBound||(this._sampler.isTextureBound=!!this.gl.getParameter(this.gl.TEXTURE_BINDING_2D),this._sampler.isTextureBound&&this.renderer.needRender()))}_draw(){this._sampler.isActive&&(this._bindTexture(),this.sourceType==="video"&&this.source&&!this._videoFrameCallbackID&&this.source.readyState>=this.source.HAVE_CURRENT_DATA&&!this.source.paused&&(this._willUpdate=!0),(this._forceUpdate||this._willUpdate&&this.shouldUpdate)&&(this._state.generateMipmap=!1,this._upload()),this.sourceType==="video"&&(this._willUpdate=!1),this._forceUpdate=!1),this.parameters._shouldUpdate&&(this._updateTexParameters(),this.parameters._shouldUpdate=!1)}onSourceLoaded(t){return t&&(this._onSourceLoadedCallback=t),this}onSourceUploaded(t){return t&&(this._onSourceUploadedCallback=t),this}_dispose(t=!1){this.sourceType==="video"||this.sourceType==="image"&&!this.renderer.state.isActive?(this._loader&&this._loader._removeSource(this),this.source=null):this.sourceType==="canvas"&&(this.source.width=this.source.width,this.source=null),this._parent=null,this.gl&&!this._copiedFrom&&(t||this.sourceType!=="image"||!this.renderer.state.isActive)&&(this._canDraw=!1,this.renderer.cache.removeTexture(this),this.gl.activeTexture(this.gl.TEXTURE0+this.index),this.gl.bindTexture(this.gl.TEXTURE_2D,null),this.gl.deleteTexture(this._sampler.texture))}}class Uc{constructor(t,e="anonymous"){if(this.type="TextureLoader",t=t&&t.renderer||t,!t||t.type!=="Renderer")lt(this.type+": Renderer not passed as first argument",t);else if(!t.gl){lt(this.type+": Renderer WebGL context is undefined",t);return}this.renderer=t,this.gl=this.renderer.gl,this.crossOrigin=e,this.elements=[]}_addElement(t,e,r,i){const n={source:t,texture:e,load:this._sourceLoaded.bind(this,t,e,r),error:this._sourceLoadError.bind(this,t,i)};return this.elements.push(n),n}_sourceLoadError(t,e,r){e&&e(t,r)}_sourceLoaded(t,e,r){e._sourceLoaded||(e._onSourceLoaded(t),this._parent&&(this._increment&&this._increment(),this.renderer.nextRender.add(()=>this._parent._onLoadingCallback&&this._parent._onLoadingCallback(e))),r&&r(e))}_getSourceType(t){let e;return typeof t=="string"?t.match(/\.(jpeg|jpg|jfif|pjpeg|pjp|gif|bmp|png|webp|svg|avif|apng)$/)!==null?e="image":t.match(/\.(webm|mp4|mpg|mpeg|avi|ogg|ogm|ogv|mov|av1)$/)!==null&&(e="video"):t.tagName.toUpperCase()==="IMG"?e="image":t.tagName.toUpperCase()==="VIDEO"?e="video":t.tagName.toUpperCase()==="CANVAS"&&(e="canvas"),e}_createImage(t){if(typeof t=="string"||!t.hasAttribute("crossOrigin")){const e=new Image;return e.crossOrigin=this.crossOrigin,typeof t=="string"?e.src=t:(e.src=t.src,t.hasAttribute("data-sampler")&&e.setAttribute("data-sampler",t.getAttribute("data-sampler"))),e}else return t}_createVideo(t){if(typeof t=="string"||t.getAttribute("crossOrigin")===null){const e=document.createElement("video");return e.crossOrigin=this.crossOrigin,typeof t=="string"?e.src=t:(e.src=t.src,t.hasAttribute("data-sampler")&&e.setAttribute("data-sampler",t.getAttribute("data-sampler"))),e}else return t}loadSource(t,e,r,i){switch(this._getSourceType(t)){case"image":this.loadImage(t,e,r,i);break;case"video":this.loadVideo(t,e,r,i);break;case"canvas":this.loadCanvas(t,e,r);break;default:this._sourceLoadError(t,i,"this source could not be converted into a texture: "+t);break}}loadSources(t,e,r,i){for(let n=0;n<t.length;n++)this.loadSource(t[n],e,r,i)}loadImage(t,e={},r,i){const n=this.renderer.cache.getTextureFromSource(t);let s=Object.assign({},e);if(this._parent&&(s=Object.assign(s,this._parent._texturesOptions)),s.loader=this,n){s.sampler=typeof t!="string"&&t.hasAttribute("data-sampler")?t.getAttribute("data-sampler"):s.sampler,s.fromTexture=n;const c=new Se(this.renderer,s);this._sourceLoaded(n.source,c,r),this._parent&&this._addToParent(c,n.source,"image");return}const o=this._createImage(t);s.sampler=o.hasAttribute("data-sampler")?o.getAttribute("data-sampler"):s.sampler;const l=new Se(this.renderer,s),h=this._addElement(o,l,r,i);o.complete?this._sourceLoaded(o,l,r):o.decode?o.decode().then(this._sourceLoaded.bind(this,o,l,r)).catch(()=>{o.addEventListener("load",h.load,!1),o.addEventListener("error",h.error,!1)}):(o.addEventListener("load",h.load,!1),o.addEventListener("error",h.error,!1)),this._parent&&this._addToParent(l,o,"image")}loadImages(t,e,r,i){for(let n=0;n<t.length;n++)this.loadImage(t[n],e,r,i)}loadVideo(t,e={},r,i){const n=this._createVideo(t);n.preload=!0,n.muted=!0,n.loop=!0,n.setAttribute("playsinline",""),n.crossOrigin=this.crossOrigin;let s=Object.assign({},e);this._parent&&(s=Object.assign(e,this._parent._texturesOptions)),s.loader=this,s.sampler=n.hasAttribute("data-sampler")?n.getAttribute("data-sampler"):s.sampler;const o=new Se(this.renderer,s),l=this._addElement(n,o,r,i);n.addEventListener("canplaythrough",l.load,!1),n.addEventListener("error",l.error,!1),n.readyState>=n.HAVE_FUTURE_DATA&&r&&this._sourceLoaded(n,o,r),n.load(),this._addToParent&&this._addToParent(o,n,"video"),"requestVideoFrameCallback"in HTMLVideoElement.prototype&&(l.videoFrameCallback=o._videoFrameCallback.bind(o),o._videoFrameCallbackID=n.requestVideoFrameCallback(l.videoFrameCallback))}loadVideos(t,e,r,i){for(let n=0;n<t.length;n++)this.loadVideo(t[n],e,r,i)}loadCanvas(t,e={},r){let i=Object.assign({},e);this._parent&&(i=Object.assign(e,this._parent._texturesOptions)),i.loader=this,i.sampler=t.hasAttribute("data-sampler")?t.getAttribute("data-sampler"):i.sampler;const n=new Se(this.renderer,i);this._addElement(t,n,r,null),this._sourceLoaded(t,n,r),this._parent&&this._addToParent(n,t,"canvas")}loadCanvases(t,e,r){for(let i=0;i<t.length;i++)this.loadCanvas(t[i],e,r)}_removeSource(t){const e=this.elements.find(r=>r.texture.uuid===t.uuid);e&&(t.sourceType==="image"?e.source.removeEventListener("load",e.load,!1):t.sourceType==="video"&&(e.videoFrameCallback&&t._videoFrameCallbackID&&e.source.cancelVideoFrameCallback(t._videoFrameCallbackID),e.source.removeEventListener("canplaythrough",e.load,!1),e.source.pause(),e.source.removeAttribute("src"),e.source.load()),e.source.removeEventListener("error",e.error,!1))}}class zc extends Uc{constructor(t,e,{sourcesLoaded:r=0,sourcesToLoad:i=0,complete:n=!1,onComplete:s=()=>{}}={}){super(t,e.crossOrigin),this.type="PlaneTextureLoader",this._parent=e,this._parent.type!=="Plane"&&this._parent.type!=="PingPongPlane"&&this._parent.type!=="ShaderPass"&&(F(this.type+": Wrong parent type assigned to this loader"),this._parent=null),this.sourcesLoaded=r,this.sourcesToLoad=i,this.complete=n,this.onComplete=s}_setLoaderSize(t){this.sourcesToLoad=t,this.sourcesToLoad===0&&(this.complete=!0,this.renderer.nextRender.add(()=>this.onComplete&&this.onComplete()))}_increment(){this.sourcesLoaded++,this.sourcesLoaded>=this.sourcesToLoad&&!this.complete&&(this.complete=!0,this.renderer.nextRender.add(()=>this.onComplete&&this.onComplete()))}_addSourceToParent(t,e){if(e==="image"){const r=this._parent.images;!r.find(n=>n.src===t.src)&&r.push(t)}else if(e==="video"){const r=this._parent.videos;!r.find(n=>n.src===t.src)&&r.push(t)}else if(e==="canvas"){const r=this._parent.canvases;!r.find(n=>n.isSameNode(t))&&r.push(t)}}_addToParent(t,e,r){this._addSourceToParent(e,r),this._parent&&t.addParent(this._parent)}}class Bc{constructor(t,e="Mesh",{vertexShaderID:r,fragmentShaderID:i,vertexShader:n,fragmentShader:s,uniforms:o={},widthSegments:l=1,heightSegments:h=1,renderOrder:c=0,depthTest:u=!0,cullFace:f="back",texturesOptions:d={},crossOrigin:p="anonymous"}={}){if(this.type=e,t=t&&t.renderer||t,(!t||t.type!=="Renderer")&&(lt(this.type+": Curtains not passed as first argument or Curtains Renderer is missing",t),setTimeout(()=>{this._onErrorCallback&&this._onErrorCallback()},0)),this.renderer=t,this.gl=this.renderer.gl,!this.gl){this.renderer.production||lt(this.type+": Unable to create a "+this.type+" because the Renderer WebGL context is not defined"),setTimeout(()=>{this._onErrorCallback&&this._onErrorCallback()},0);return}this._canDraw=!1,this.renderOrder=c,this._depthTest=u,this.cullFace=f,this.cullFace!=="back"&&this.cullFace!=="front"&&this.cullFace!=="none"&&(this.cullFace="back"),this.textures=[],this._texturesOptions=Object.assign({premultiplyAlpha:!1,anisotropy:1,floatingPoint:"none",wrapS:this.gl.CLAMP_TO_EDGE,wrapT:this.gl.CLAMP_TO_EDGE,minFilter:this.gl.LINEAR,magFilter:this.gl.LINEAR},d),this.crossOrigin=p,!n&&r&&document.getElementById(r)&&(n=document.getElementById(r).innerHTML),!s&&i&&document.getElementById(i)&&(s=document.getElementById(i).innerHTML),this._initMesh(),l=parseInt(l),h=parseInt(h),this._geometry=new $c(this.renderer,{width:l,height:h}),this._program=new Xi(this.renderer,{parent:this,vertexShader:n,fragmentShader:s}),this._program.compiled?(this._program.createUniforms(o),this.uniforms=this._program.uniformsManager.uniforms,this._geometry.setProgram(this._program),this.renderer.onSceneChange()):this.renderer.nextRender.add(()=>this._onErrorCallback&&this._onErrorCallback())}_initMesh(){this.uuid=tn(),this.loader=new zc(this.renderer,this,{sourcesLoaded:0,initSourcesToLoad:0,complete:!1,onComplete:()=>{this._onReadyCallback&&this._onReadyCallback(),this.renderer.needRender()}}),this.images=[],this.videos=[],this.canvases=[],this.userData={},this._canDraw=!0}_restoreContext(){this._canDraw=!1,this._matrices&&(this._matrices=null),this._program=new Xi(this.renderer,{parent:this,vertexShader:this._program.vsCode,fragmentShader:this._program.fsCode}),this._program.compiled&&(this._geometry.restoreContext(this._program),this._program.createUniforms(this.uniforms),this.uniforms=this._program.uniformsManager.uniforms,this._programRestored())}setRenderTarget(t){if(!t||t.type!=="RenderTarget"){this.renderer.production||F(this.type+": Could not set the render target because the argument passed is not a RenderTarget class object",t);return}this.type==="Plane"&&this.renderer.scene.removePlane(this),this.target=t,this.type==="Plane"&&this.renderer.scene.addPlane(this)}setRenderOrder(t=0){t=isNaN(t)?this.renderOrder:parseInt(t),t!==this.renderOrder&&(this.renderOrder=t,this.renderer.scene.setPlaneRenderOrder(this))}createTexture(t={}){const e=new Se(this.renderer,Object.assign(t,this._texturesOptions));return e.addParent(this),e}addTexture(t){if(!t||t.type!=="Texture"){this.renderer.production||F(this.type+": cannot add ",t," to this "+this.type+" because it is not a valid texture");return}t.addParent(this)}loadSources(t,e={},r,i){for(let n=0;n<t.length;n++)this.loadSource(t[n],e,r,i)}loadSource(t,e={},r,i){this.loader.loadSource(t,Object.assign(e,this._texturesOptions),n=>{r&&r(n)},(n,s)=>{this.renderer.production||F(this.type+": this HTML tag could not be converted into a texture:",n.tagName),i&&i(n,s)})}loadImage(t,e={},r,i){this.loader.loadImage(t,Object.assign(e,this._texturesOptions),n=>{r&&r(n)},(n,s)=>{this.renderer.production||F(this.type+`: There has been an error:
`,s,`
while loading this image:
`,n),i&&i(n,s)})}loadVideo(t,e={},r,i){this.loader.loadVideo(t,Object.assign(e,this._texturesOptions),n=>{r&&r(n)},(n,s)=>{this.renderer.production||F(this.type+`: There has been an error:
`,s,`
while loading this video:
`,n),i&&i(n,s)})}loadCanvas(t,e={},r){this.loader.loadCanvas(t,Object.assign(e,this._texturesOptions),i=>{r&&r(i)})}loadImages(t,e={},r,i){for(let n=0;n<t.length;n++)this.loadImage(t[n],e,r,i)}loadVideos(t,e={},r,i){for(let n=0;n<t.length;n++)this.loadVideo(t[n],e,r,i)}loadCanvases(t,e={},r){for(let i=0;i<t.length;i++)this.loadCanvas(t[i],e,r)}playVideos(){for(let t=0;t<this.textures.length;t++){const e=this.textures[t];if(e.sourceType==="video"){const r=e.source.play();r!==void 0&&r.catch(i=>{this.renderer.production||F(this.type+": Could not play the video : ",i)})}}}_draw(){this.renderer.setDepthTest(this._depthTest),this.renderer.setFaceCulling(this.cullFace),this._program.updateUniforms(),this._geometry.bindBuffers(),this.renderer.state.forceBufferUpdate=!1;for(let t=0;t<this.textures.length;t++)if(this.textures[t]._draw(),this.textures[t]._sampler.isActive&&!this.textures[t]._sampler.isTextureBound)return;this._geometry.draw(),this.renderer.state.activeTexture=null,this._onAfterRenderCallback&&this._onAfterRenderCallback()}onError(t){return t&&(this._onErrorCallback=t),this}onLoading(t){return t&&(this._onLoadingCallback=t),this}onReady(t){return t&&(this._onReadyCallback=t),this}onRender(t){return t&&(this._onRenderCallback=t),this}onAfterRender(t){return t&&(this._onAfterRenderCallback=t),this}remove(){this._canDraw=!1,this.target&&this.renderer.bindFrameBuffer(null),this._dispose(),this.type==="Plane"?this.renderer.removePlane(this):this.type==="ShaderPass"&&(this.target&&(this.target._shaderPass=null,this.target.remove(),this.target=null),this.renderer.removeShaderPass(this))}_dispose(){if(this.gl){this._geometry&&this._geometry.dispose(),this.target&&this.type==="ShaderPass"&&(this.renderer.removeRenderTarget(this.target),this.textures.shift());for(let t=0;t<this.textures.length;t++)this.textures[t]._dispose();this.textures=[]}}}const Qi=new vt,Wc=new vt;class Hc extends Bc{constructor(t,e,r="DOMMesh",{widthSegments:i,heightSegments:n,renderOrder:s,depthTest:o,cullFace:l,uniforms:h,vertexShaderID:c,fragmentShaderID:u,vertexShader:f,fragmentShader:d,texturesOptions:p,crossOrigin:m}={}){c=c||e&&e.getAttribute("data-vs-id"),u=u||e&&e.getAttribute("data-fs-id"),super(t,r,{widthSegments:i,heightSegments:n,renderOrder:s,depthTest:o,cullFace:l,uniforms:h,vertexShaderID:c,fragmentShaderID:u,vertexShader:f,fragmentShader:d,texturesOptions:p,crossOrigin:m}),this.gl&&(this.htmlElement=e,(!this.htmlElement||this.htmlElement.length===0)&&(this.renderer.production||F(this.type+": The HTML element you specified does not currently exists in the DOM")),this._setDocumentSizes())}_setDocumentSizes(){let t=this.htmlElement.getBoundingClientRect();this._boundingRect||(this._boundingRect={}),this._boundingRect.document={width:t.width*this.renderer.pixelRatio,height:t.height*this.renderer.pixelRatio,top:t.top*this.renderer.pixelRatio,left:t.left*this.renderer.pixelRatio}}getBoundingRect(){return{width:this._boundingRect.document.width,height:this._boundingRect.document.height,top:this._boundingRect.document.top,left:this._boundingRect.document.left,right:this._boundingRect.document.left+this._boundingRect.document.width,bottom:this._boundingRect.document.top+this._boundingRect.document.height}}resize(){this._setDocumentSizes(),this.type==="Plane"&&(this.setPerspective(this.camera.fov,this.camera.near,this.camera.far),this._setWorldSizes(),this._applyWorldPositions());for(let t=0;t<this.textures.length;t++)this.textures[t].resize();this.renderer.nextRender.add(()=>this._onAfterResizeCallback&&this._onAfterResizeCallback())}mouseToPlaneCoords(t){const e=this.scale?this.scale:Wc.set(1,1),r=Qi.set((this._boundingRect.document.width-this._boundingRect.document.width*e.x)/2,(this._boundingRect.document.height-this._boundingRect.document.height*e.y)/2),i={width:this._boundingRect.document.width*e.x/this.renderer.pixelRatio,height:this._boundingRect.document.height*e.y/this.renderer.pixelRatio,top:(this._boundingRect.document.top+r.y)/this.renderer.pixelRatio,left:(this._boundingRect.document.left+r.x)/this.renderer.pixelRatio};return Qi.set((t.x-i.left)/i.width*2-1,1-(t.y-i.top)/i.height*2)}onAfterResize(t){return t&&(this._onAfterResizeCallback=t),this}}class Gc{constructor({fov:t=50,near:e=.1,far:r=150,width:i,height:n,pixelRatio:s=1}={}){this.position=new q,this.projectionMatrix=new At,this.worldMatrix=new At,this.viewMatrix=new At,this._shouldUpdate=!1,this.setSize(),this.setPerspective(t,e,r,i,n,s)}setFov(t){t=isNaN(t)?this.fov:parseFloat(t),t=Math.max(1,Math.min(t,179)),t!==this.fov&&(this.fov=t,this.setPosition(),this._shouldUpdate=!0),this.setCSSPerspective()}setNear(t){t=isNaN(t)?this.near:parseFloat(t),t=Math.max(t,.01),t!==this.near&&(this.near=t,this._shouldUpdate=!0)}setFar(t){t=isNaN(t)?this.far:parseFloat(t),t=Math.max(t,50),t!==this.far&&(this.far=t,this._shouldUpdate=!0)}setPixelRatio(t){t!==this.pixelRatio&&(this._shouldUpdate=!0),this.pixelRatio=t}setSize(t,e){(t!==this.width||e!==this.height)&&(this._shouldUpdate=!0),this.width=t,this.height=e}setPerspective(t,e,r,i,n,s){this.setPixelRatio(s),this.setSize(i,n),this.setFov(t),this.setNear(e),this.setFar(r),this._shouldUpdate&&this.updateProjectionMatrix()}setPosition(){this.position.set(0,0,1),this.worldMatrix.setFromArray([1,0,0,0,0,1,0,0,0,0,1,0,this.position.x,this.position.y,this.position.z,1]),this.viewMatrix=this.viewMatrix.copy(this.worldMatrix).getInverse()}setCSSPerspective(){this.CSSPerspective=Math.pow(Math.pow(this.width/(2*this.pixelRatio),2)+Math.pow(this.height/(2*this.pixelRatio),2),.5)/Math.tan(this.fov*.5*Math.PI/180)}getScreenRatiosFromFov(t=0){const e=this.position.z;t<e?t-=e:t+=e;const r=this.fov*Math.PI/180,i=2*Math.tan(r/2)*Math.abs(t);return{width:i*this.width/this.height,height:i}}updateProjectionMatrix(){const t=this.width/this.height,e=this.near*Math.tan(Math.PI/180*.5*this.fov),r=2*e,i=t*r,n=-.5*i,s=n+i,o=e-r,l=2*this.near/(s-n),h=2*this.near/(e-o),c=(s+n)/(s-n),u=(e+o)/(e-o),f=-(this.far+this.near)/(this.far-this.near),d=-2*this.far*this.near/(this.far-this.near);this.projectionMatrix.setFromArray([l,0,0,0,0,h,0,0,c,u,f,-1,0,0,d,0])}forceUpdate(){this._shouldUpdate=!0}cancelUpdate(){this._shouldUpdate=!1}}class cs{constructor(t=new Float32Array([0,0,0,1]),e="XYZ"){this.type="Quat",this.elements=t,this.axisOrder=e}setFromArray(t){return this.elements[0]=t[0],this.elements[1]=t[1],this.elements[2]=t[2],this.elements[3]=t[3],this}setAxisOrder(t){switch(t=t.toUpperCase(),t){case"XYZ":case"YXZ":case"ZXY":case"ZYX":case"YZX":case"XZY":this.axisOrder=t;break;default:this.axisOrder="XYZ"}return this}copy(t){return this.elements=t.elements,this.axisOrder=t.axisOrder,this}clone(){return new cs().copy(this)}equals(t){return this.elements[0]===t.elements[0]&&this.elements[1]===t.elements[1]&&this.elements[2]===t.elements[2]&&this.elements[3]===t.elements[3]&&this.axisOrder===t.axisOrder}setFromVec3(t){const e=t.x*.5,r=t.y*.5,i=t.z*.5,n=Math.cos(e),s=Math.cos(r),o=Math.cos(i),l=Math.sin(e),h=Math.sin(r),c=Math.sin(i);return this.axisOrder==="XYZ"?(this.elements[0]=l*s*o+n*h*c,this.elements[1]=n*h*o-l*s*c,this.elements[2]=n*s*c+l*h*o,this.elements[3]=n*s*o-l*h*c):this.axisOrder==="YXZ"?(this.elements[0]=l*s*o+n*h*c,this.elements[1]=n*h*o-l*s*c,this.elements[2]=n*s*c-l*h*o,this.elements[3]=n*s*o+l*h*c):this.axisOrder==="ZXY"?(this.elements[0]=l*s*o-n*h*c,this.elements[1]=n*h*o+l*s*c,this.elements[2]=n*s*c+l*h*o,this.elements[3]=n*s*o-l*h*c):this.axisOrder==="ZYX"?(this.elements[0]=l*s*o-n*h*c,this.elements[1]=n*h*o+l*s*c,this.elements[2]=n*s*c-l*h*o,this.elements[3]=n*s*o+l*h*c):this.axisOrder==="YZX"?(this.elements[0]=l*s*o+n*h*c,this.elements[1]=n*h*o+l*s*c,this.elements[2]=n*s*c-l*h*o,this.elements[3]=n*s*o-l*h*c):this.axisOrder==="XZY"&&(this.elements[0]=l*s*o-n*h*c,this.elements[1]=n*h*o-l*s*c,this.elements[2]=n*s*c+l*h*o,this.elements[3]=n*s*o+l*h*c),this}}const Yc=new vt,Kc=new q,Xc=new q,Qc=new q,Zc=new q,Jc=new q,qc=new q,pt=new q,gt=new q,Zi=new cs,tu=new q(.5,.5,0),eu=new q,su=new q,iu=new q,ru=new q,nu=new vt;class au extends Hc{constructor(t,e,{widthSegments:r,heightSegments:i,renderOrder:n,depthTest:s,cullFace:o,uniforms:l,vertexShaderID:h,fragmentShaderID:c,vertexShader:u,fragmentShader:f,texturesOptions:d,crossOrigin:p,alwaysDraw:m=!1,visible:g=!0,transparent:v=!1,drawCheckMargins:_={top:0,right:0,bottom:0,left:0},autoloadSources:E=!0,watchScroll:b=!0,fov:T=50}={}){super(t,e,"Plane",{widthSegments:r,heightSegments:i,renderOrder:n,depthTest:s,cullFace:o,uniforms:l,vertexShaderID:h,fragmentShaderID:c,vertexShader:u,fragmentShader:f,texturesOptions:d,crossOrigin:p}),this.gl&&(this.index=this.renderer.planes.length,this.target=null,this.alwaysDraw=m,this._shouldDraw=!0,this.visible=g,this._transparent=v,this.drawCheckMargins=_,this.autoloadSources=E,this.watchScroll=b,this._updateMVMatrix=!1,this.camera=new Gc({fov:T,width:this.renderer._boundingRect.width,height:this.renderer._boundingRect.height,pixelRatio:this.renderer.pixelRatio}),this._program.compiled&&(this._initPlane(),this.renderer.scene.addPlane(this),this.renderer.planes.push(this)))}_programRestored(){this.target&&this.setRenderTarget(this.renderer.renderTargets[this.target.index]),this._initMatrices(),this.setPerspective(this.camera.fov,this.camera.near,this.camera.far),this._setWorldSizes(),this._applyWorldPositions(),this.renderer.scene.addPlane(this);for(let t=0;t<this.textures.length;t++)this.textures[t]._parent=this,this.textures[t]._restoreContext();this._canDraw=!0}_initPlane(){this._initTransformValues(),this._initPositions(),this.setPerspective(this.camera.fov,this.camera.near,this.camera.far),this._initSources()}_initTransformValues(){this.rotation=new q,this.rotation.onChange(()=>this._applyRotation()),this.quaternion=new cs,this.relativeTranslation=new q,this.relativeTranslation.onChange(()=>this._setTranslation()),this._translation=new q,this.scale=new q(1),this.scale.onChange(()=>{this.scale.z=1,this._applyScale()}),this.transformOrigin=new q(.5,.5,0),this.transformOrigin.onChange(()=>{this._setWorldTransformOrigin(),this._updateMVMatrix=!0})}resetPlane(t){this._initTransformValues(),this._setWorldTransformOrigin(),t!==null&&!!t?(this.htmlElement=t,this.resize()):!t&&!this.renderer.production&&F(this.type+": You are trying to reset a plane with a HTML element that does not exist. The old HTML element will be kept instead.")}removeRenderTarget(){this.target&&(this.renderer.scene.removePlane(this),this.target=null,this.renderer.scene.addPlane(this))}_initPositions(){this._initMatrices(),this._setWorldSizes(),this._applyWorldPositions()}_initMatrices(){const t=new At;this._matrices={world:{matrix:t},modelView:{name:"uMVMatrix",matrix:t,location:this.gl.getUniformLocation(this._program.program,"uMVMatrix")},projection:{name:"uPMatrix",matrix:t,location:this.gl.getUniformLocation(this._program.program,"uPMatrix")},modelViewProjection:{matrix:t}}}_setPerspectiveMatrix(){this.camera._shouldUpdate&&(this.renderer.useProgram(this._program),this.gl.uniformMatrix4fv(this._matrices.projection.location,!1,this._matrices.projection.matrix.elements)),this.camera.cancelUpdate()}setPerspective(t,e,r){this.camera.setPerspective(t,e,r,this.renderer._boundingRect.width,this.renderer._boundingRect.height,this.renderer.pixelRatio),this.renderer.state.isContextLost&&this.camera.forceUpdate(),this._matrices.projection.matrix=this.camera.projectionMatrix,this.camera._shouldUpdate&&(this._setWorldSizes(),this._applyWorldPositions(),this._translation.z=this.relativeTranslation.z/this.camera.CSSPerspective),this._updateMVMatrix=this.camera._shouldUpdate}_setMVMatrix(){this._updateMVMatrix&&(this._matrices.world.matrix=this._matrices.world.matrix.composeFromOrigin(this._translation,this.quaternion,this.scale,this._boundingRect.world.transformOrigin),this._matrices.world.matrix.scale({x:this._boundingRect.world.width,y:this._boundingRect.world.height,z:1}),this._matrices.modelView.matrix.copy(this._matrices.world.matrix),this._matrices.modelView.matrix.elements[14]-=this.camera.position.z,this._matrices.modelViewProjection.matrix=this._matrices.projection.matrix.multiply(this._matrices.modelView.matrix),this.alwaysDraw||this._shouldDrawCheck(),this.renderer.useProgram(this._program),this.gl.uniformMatrix4fv(this._matrices.modelView.location,!1,this._matrices.modelView.matrix.elements)),this._updateMVMatrix=!1}_setWorldTransformOrigin(){this._boundingRect.world.transformOrigin=new q((this.transformOrigin.x*2-1)*this._boundingRect.world.width,-(this.transformOrigin.y*2-1)*this._boundingRect.world.height,this.transformOrigin.z)}_documentToWorldSpace(t){return Xc.set(t.x*this.renderer.pixelRatio/this.renderer._boundingRect.width*this._boundingRect.world.ratios.width,-(t.y*this.renderer.pixelRatio/this.renderer._boundingRect.height)*this._boundingRect.world.ratios.height,t.z)}_setWorldSizes(){const t=this.camera.getScreenRatiosFromFov();this._boundingRect.world={width:this._boundingRect.document.width/this.renderer._boundingRect.width*t.width/2,height:this._boundingRect.document.height/this.renderer._boundingRect.height*t.height/2,ratios:t},this._setWorldTransformOrigin()}_setWorldPosition(){const t={x:this._boundingRect.document.width/2+this._boundingRect.document.left,y:this._boundingRect.document.height/2+this._boundingRect.document.top},e={x:this.renderer._boundingRect.width/2+this.renderer._boundingRect.left,y:this.renderer._boundingRect.height/2+this.renderer._boundingRect.top};this._boundingRect.world.top=(e.y-t.y)/this.renderer._boundingRect.height*this._boundingRect.world.ratios.height,this._boundingRect.world.left=(t.x-e.x)/this.renderer._boundingRect.width*this._boundingRect.world.ratios.width}setScale(t){if(!t.type||t.type!=="Vec2"){this.renderer.production||F(this.type+": Cannot set scale because the parameter passed is not of Vec2 type:",t);return}t.sanitizeNaNValuesWith(this.scale).max(Yc.set(.001,.001)),(t.x!==this.scale.x||t.y!==this.scale.y)&&(this.scale.set(t.x,t.y,1),this._applyScale())}_applyScale(){for(let t=0;t<this.textures.length;t++)this.textures[t].resize();this._updateMVMatrix=!0}setRotation(t){if(!t.type||t.type!=="Vec3"){this.renderer.production||F(this.type+": Cannot set rotation because the parameter passed is not of Vec3 type:",t);return}t.sanitizeNaNValuesWith(this.rotation),t.equals(this.rotation)||(this.rotation.copy(t),this._applyRotation())}_applyRotation(){this.quaternion.setFromVec3(this.rotation),this._updateMVMatrix=!0}setTransformOrigin(t){if(!t.type||t.type!=="Vec3"){this.renderer.production||F(this.type+": Cannot set transform origin because the parameter passed is not of Vec3 type:",t);return}t.sanitizeNaNValuesWith(this.transformOrigin),t.equals(this.transformOrigin)||(this.transformOrigin.copy(t),this._setWorldTransformOrigin(),this._updateMVMatrix=!0)}_setTranslation(){let t=Kc.set(0,0,0);this.relativeTranslation.equals(t)||(t=this._documentToWorldSpace(this.relativeTranslation)),this._translation.set(this._boundingRect.world.left+t.x,this._boundingRect.world.top+t.y,this.relativeTranslation.z/this.camera.CSSPerspective),this._updateMVMatrix=!0}setRelativeTranslation(t){if(!t.type||t.type!=="Vec3"){this.renderer.production||F(this.type+": Cannot set translation because the parameter passed is not of Vec3 type:",t);return}t.sanitizeNaNValuesWith(this.relativeTranslation),t.equals(this.relativeTranslation)||(this.relativeTranslation.copy(t),this._setTranslation())}_applyWorldPositions(){this._setWorldPosition(),this._setTranslation()}updatePosition(){this._setDocumentSizes(),this._applyWorldPositions()}updateScrollPosition(t,e){(t||e)&&(this._boundingRect.document.top+=e*this.renderer.pixelRatio,this._boundingRect.document.left+=t*this.renderer.pixelRatio,this._applyWorldPositions())}_getIntersection(t,e){let r=e.clone().sub(t),i=t.clone();for(;i.z>-1;)i.add(r);return i}_getNearPlaneIntersections(t,e,r){const i=this._matrices.modelViewProjection.matrix;if(r.length===1)r[0]===0?(e[0]=this._getIntersection(e[1],pt.set(.95,1,0).applyMat4(i)),e.push(this._getIntersection(e[3],gt.set(-1,-.95,0).applyMat4(i)))):r[0]===1?(e[1]=this._getIntersection(e[0],pt.set(-.95,1,0).applyMat4(i)),e.push(this._getIntersection(e[2],gt.set(1,-.95,0).applyMat4(i)))):r[0]===2?(e[2]=this._getIntersection(e[3],pt.set(-.95,-1,0).applyMat4(i)),e.push(this._getIntersection(e[1],gt.set(1,.95,0).applyMat4(i)))):r[0]===3&&(e[3]=this._getIntersection(e[2],pt.set(.95,-1,0).applyMat4(i)),e.push(this._getIntersection(e[0],gt.set(-1,.95,0).applyMat4(i))));else if(r.length===2)r[0]===0&&r[1]===1?(e[0]=this._getIntersection(e[3],pt.set(-1,-.95,0).applyMat4(i)),e[1]=this._getIntersection(e[2],gt.set(1,-.95,0).applyMat4(i))):r[0]===1&&r[1]===2?(e[1]=this._getIntersection(e[0],pt.set(-.95,1,0).applyMat4(i)),e[2]=this._getIntersection(e[3],gt.set(-.95,-1,0).applyMat4(i))):r[0]===2&&r[1]===3?(e[2]=this._getIntersection(e[1],pt.set(1,.95,0).applyMat4(i)),e[3]=this._getIntersection(e[0],gt.set(-1,.95,0).applyMat4(i))):r[0]===0&&r[1]===3&&(e[0]=this._getIntersection(e[1],pt.set(.95,1,0).applyMat4(i)),e[3]=this._getIntersection(e[2],gt.set(.95,-1,0).applyMat4(i)));else if(r.length===3){let n=0;for(let s=0;s<t.length;s++)r.includes(s)||(n=s);e=[e[n]],n===0?(e.push(this._getIntersection(e[0],pt.set(-.95,1,0).applyMat4(i))),e.push(this._getIntersection(e[0],gt.set(-1,.95,0).applyMat4(i)))):n===1?(e.push(this._getIntersection(e[0],pt.set(.95,1,0).applyMat4(i))),e.push(this._getIntersection(e[0],gt.set(1,.95,0).applyMat4(i)))):n===2?(e.push(this._getIntersection(e[0],pt.set(.95,-1,0).applyMat4(i))),e.push(this._getIntersection(e[0],gt.set(1,-.95,0).applyMat4(i)))):n===3&&(e.push(this._getIntersection(e[0],pt.set(-.95,-1,0).applyMat4(i))),e.push(this._getIntersection(e[0],gt.set(-1-.95,0).applyMat4(i))))}else for(let n=0;n<t.length;n++)e[n][0]=1e4,e[n][1]=1e4;return e}_getWorldCoords(){const t=[Qc.set(-1,1,0),Zc.set(1,1,0),Jc.set(1,-1,0),qc.set(-1,-1,0)];let e=[],r=[];for(let l=0;l<t.length;l++){const h=t[l].applyMat4(this._matrices.modelViewProjection.matrix);e.push(h),Math.abs(h.z)>1&&r.push(l)}r.length&&(e=this._getNearPlaneIntersections(t,e,r));let i=1/0,n=-1/0,s=1/0,o=-1/0;for(let l=0;l<e.length;l++){const h=e[l];h.x<i&&(i=h.x),h.x>n&&(n=h.x),h.y<s&&(s=h.y),h.y>o&&(o=h.y)}return{top:o,right:n,bottom:s,left:i}}_computeWebGLBoundingRect(){const t=this._getWorldCoords();let e={top:1-(t.top+1)/2,right:(t.right+1)/2,bottom:1-(t.bottom+1)/2,left:(t.left+1)/2};e.width=e.right-e.left,e.height=e.bottom-e.top,this._boundingRect.worldToDocument={width:e.width*this.renderer._boundingRect.width,height:e.height*this.renderer._boundingRect.height,top:e.top*this.renderer._boundingRect.height+this.renderer._boundingRect.top,left:e.left*this.renderer._boundingRect.width+this.renderer._boundingRect.left,right:e.left*this.renderer._boundingRect.width+this.renderer._boundingRect.left+e.width*this.renderer._boundingRect.width,bottom:e.top*this.renderer._boundingRect.height+this.renderer._boundingRect.top+e.height*this.renderer._boundingRect.height}}getWebGLBoundingRect(){if(this._matrices.modelViewProjection)(!this._boundingRect.worldToDocument||this.alwaysDraw)&&this._computeWebGLBoundingRect();else return this._boundingRect.document;return this._boundingRect.worldToDocument}_getWebGLDrawRect(){return this._computeWebGLBoundingRect(),{top:this._boundingRect.worldToDocument.top-this.drawCheckMargins.top,right:this._boundingRect.worldToDocument.right+this.drawCheckMargins.right,bottom:this._boundingRect.worldToDocument.bottom+this.drawCheckMargins.bottom,left:this._boundingRect.worldToDocument.left-this.drawCheckMargins.left}}_shouldDrawCheck(){const t=this._getWebGLDrawRect();Math.round(t.right)<=this.renderer._boundingRect.left||Math.round(t.left)>=this.renderer._boundingRect.left+this.renderer._boundingRect.width||Math.round(t.bottom)<=this.renderer._boundingRect.top||Math.round(t.top)>=this.renderer._boundingRect.top+this.renderer._boundingRect.height?this._shouldDraw&&(this._shouldDraw=!1,this.renderer.nextRender.add(()=>this._onLeaveViewCallback&&this._onLeaveViewCallback())):(this._shouldDraw||this.renderer.nextRender.add(()=>this._onReEnterViewCallback&&this._onReEnterViewCallback()),this._shouldDraw=!0)}isDrawn(){return this._canDraw&&this.visible&&(this._shouldDraw||this.alwaysDraw)}enableDepthTest(t){this._depthTest=t}_initSources(){let t=0;if(this.autoloadSources){const e=this.htmlElement.getElementsByTagName("img"),r=this.htmlElement.getElementsByTagName("video"),i=this.htmlElement.getElementsByTagName("canvas");e.length&&this.loadImages(e),r.length&&this.loadVideos(r),i.length&&this.loadCanvases(i),t=e.length+r.length+i.length}this.loader._setLoaderSize(t),this._canDraw=!0}_startDrawing(){this._canDraw&&(this._onRenderCallback&&this._onRenderCallback(),this.target?this.renderer.bindFrameBuffer(this.target):this.renderer.state.scenePassIndex===null&&this.renderer.bindFrameBuffer(null),this._setPerspectiveMatrix(),this._setMVMatrix(),(this.alwaysDraw||this._shouldDraw)&&this.visible&&this._draw())}mouseToPlaneCoords(t){if(Zi.setAxisOrder(this.quaternion.axisOrder),Zi.equals(this.quaternion)&&tu.equals(this.transformOrigin))return super.mouseToPlaneCoords(t);{const e={x:2*(t.x/(this.renderer._boundingRect.width/this.renderer.pixelRatio))-1,y:2*(1-t.y/(this.renderer._boundingRect.height/this.renderer.pixelRatio))-1},r=this.camera.position.clone(),i=eu.set(e.x,e.y,-.5);i.unproject(this.camera),i.sub(r).normalize();const n=su.set(0,0,-1);n.applyQuat(this.quaternion).normalize();const s=ru.set(0,0,0),o=n.dot(i);if(Math.abs(o)>=1e-4){const l=this._matrices.world.matrix.getInverse().multiply(this.camera.viewMatrix),h=this._boundingRect.world.transformOrigin.clone().add(this._translation),c=iu.set(this._translation.x-h.x,this._translation.y-h.y,this._translation.z-h.z);c.applyQuat(this.quaternion),h.add(c);const u=n.dot(h.clone().sub(r))/o;s.copy(r.add(i.multiplyScalar(u))),s.applyMat4(l)}else s.set(1/0,1/0,1/0);return nu.set(s.x,s.y)}}onReEnterView(t){return t&&(this._onReEnterViewCallback=t),this}onLeaveView(t){return t&&(this._onLeaveViewCallback=t),this}}window.addEventListener("load",()=>{const a=new vt,t=new vt,e={max:0,applied:0},r=new wc({container:"canvas",watchScroll:!1,pixelRatio:Math.min(1.5,window.devicePixelRatio)});r.onError(()=>{document.body.classList.add("no-curtains")}).onContextLost(()=>{r.restoreContext()});const i=document.getElementsByClassName("curtain"),o={vertexShader:`
          precision mediump float;
          // default mandatory variables
          attribute vec3 aVertexPosition;
          attribute vec2 aTextureCoord;
          uniform mat4 uMVMatrix;
          uniform mat4 uPMatrix;
          
          // our texture matrix uniform
          uniform mat4 simplePlaneTextureMatrix;
          // custom variables
          varying vec3 vVertexPosition;
          varying vec2 vTextureCoord;
          uniform float uTime;
          uniform vec2 uResolution;
          uniform vec2 uMousePosition;
          uniform float uMouseMoveStrength;
          void main() {
              vec3 vertexPosition = aVertexPosition;
              // get the distance between our vertex and the mouse position
              float distanceFromMouse = distance(uMousePosition, vec2(vertexPosition.x, vertexPosition.y));
              // calculate our wave effect
              float waveSinusoid = cos(5.0 * (distanceFromMouse - (uTime / 75.0)));
              // attenuate the effect based on mouse distance
              float distanceStrength = (0.4 / (distanceFromMouse + 0.4));
              // calculate our distortion effect
              float distortionEffect = distanceStrength * waveSinusoid * uMouseMoveStrength;
              // apply it to our vertex position
              vertexPosition.z +=  distortionEffect / 30.0;
              vertexPosition.x +=  (distortionEffect / 30.0 * (uResolution.x / uResolution.y) * (uMousePosition.x - vertexPosition.x));
              vertexPosition.y +=  distortionEffect / 30.0 * (uMousePosition.y - vertexPosition.y);
              gl_Position = uPMatrix * uMVMatrix * vec4(vertexPosition, 1.0);
              // varyings
              vTextureCoord = (simplePlaneTextureMatrix * vec4(aTextureCoord, 0.0, 1.0)).xy;
              vVertexPosition = vertexPosition;
          }
      `,fragmentShader:`
          precision mediump float;
          varying vec3 vVertexPosition;
          varying vec2 vTextureCoord;
          uniform sampler2D simplePlaneTexture;
          void main() {
              // apply our texture
              vec4 finalColor = texture2D(simplePlaneTexture, vTextureCoord);
              // fake shadows based on vertex position along Z axis
              finalColor.rgb -= clamp(-vVertexPosition.z, 0.0, 1.0);
              // fake lights based on vertex position along Z axis
              finalColor.rgb += clamp(vVertexPosition.z, 0.0, 1.0);
              // handling premultiplied alpha (useful if we were using a png with transparency)
              finalColor = vec4(finalColor.rgb * finalColor.a, finalColor.a);
              gl_FragColor = finalColor;
          }
      `,widthSegments:20,heightSegments:20,uniforms:{resolution:{name:"uResolution",type:"2f",value:[i[0].clientWidth,i[0].clientHeight]},time:{name:"uTime",type:"1f",value:0},mousePosition:{name:"uMousePosition",type:"2f",value:a},mouseMoveStrength:{name:"uMouseMoveStrength",type:"1f",value:0}}},l=new au(r,i[0],o);l.onReady(()=>{l.setPerspective(35),e.max=2;const c=document.getElementById("img-wrapper");c.addEventListener("mousemove",u=>{h(u,l)}),c.addEventListener("touchmove",u=>{h(u,l)},{passive:!0})}).onRender(()=>{l.uniforms.time.value++,e.applied+=(e.max-e.applied)*.02,e.max+=(0-e.max)*.01,l.uniforms.mouseMoveStrength.value=e.applied}).onAfterResize(()=>{const c=l.getBoundingRect();l.uniforms.resolution.value=[c.width,c.height]}).onError(()=>{document.body.classList.add("no-curtains")});function h(c,u){t.copy(a);const f=new vt;if(c.targetTouches?f.set(c.targetTouches[0].clientX,c.targetTouches[0].clientY):f.set(c.clientX,c.clientY),a.set(r.lerp(a.x,f.x,.3),r.lerp(a.y,f.y,.3)),u.uniforms.mousePosition.value=u.mouseToPlaneCoords(a),t.x&&t.y){let d=Math.sqrt(Math.pow(a.x-t.x,2)+Math.pow(a.y-t.y,2))/30;d=Math.min(4,d),d>=e.max&&(e.max=d)}}});(()=>{var a={9662:(i,n,s)=>{var o=s(614),l=s(6330),h=TypeError;i.exports=function(c){if(o(c))return c;throw h(l(c)+" is not a function")}},9483:(i,n,s)=>{var o=s(4411),l=s(6330),h=TypeError;i.exports=function(c){if(o(c))return c;throw h(l(c)+" is not a constructor")}},6077:(i,n,s)=>{var o=s(614),l=String,h=TypeError;i.exports=function(c){if(typeof c=="object"||o(c))return c;throw h("Can't set "+l(c)+" as a prototype")}},5787:(i,n,s)=>{var o=s(7976),l=TypeError;i.exports=function(h,c){if(o(c,h))return h;throw l("Incorrect invocation")}},9670:(i,n,s)=>{var o=s(111),l=String,h=TypeError;i.exports=function(c){if(o(c))return c;throw h(l(c)+" is not an object")}},8533:(i,n,s)=>{var o=s(2092).forEach,l=s(9341),h=l("forEach");i.exports=h?[].forEach:function(u){return o(this,u,arguments.length>1?arguments[1]:void 0)}},1318:(i,n,s)=>{var o=s(5656),l=s(1400),h=s(6244),c=function(u){return function(f,d,p){var m=o(f),g=h(m),v=l(p,g),_;if(u&&d!=d){for(;g>v;)if(_=m[v++],_!=_)return!0}else for(;g>v;v++)if((u||v in m)&&m[v]===d)return u||v||0;return!u&&-1}};i.exports={includes:c(!0),indexOf:c(!1)}},2092:(i,n,s)=>{var o=s(9974),l=s(1702),h=s(8361),c=s(7908),u=s(6244),f=s(5417),d=l([].push),p=function(m){var g=m==1,v=m==2,_=m==3,E=m==4,b=m==6,T=m==7,y=m==5||b;return function(A,P,w,I){for(var x=c(A),S=h(x),C=o(P,w),R=u(S),L=0,N=I||f,D=g?N(A,R):v||T?N(A,0):void 0,V,$;R>L;L++)if((y||L in S)&&(V=S[L],$=C(V,L,x),m))if(g)D[L]=$;else if($)switch(m){case 3:return!0;case 5:return V;case 6:return L;case 2:d(D,V)}else switch(m){case 4:return!1;case 7:d(D,V)}return b?-1:_||E?E:D}};i.exports={forEach:p(0),map:p(1),filter:p(2),some:p(3),every:p(4),find:p(5),findIndex:p(6),filterReject:p(7)}},9341:(i,n,s)=>{var o=s(7293);i.exports=function(l,h){var c=[][l];return!!c&&o(function(){c.call(null,h||function(){return 1},1)})}},206:(i,n,s)=>{var o=s(1702);i.exports=o([].slice)},7475:(i,n,s)=>{var o=s(3157),l=s(4411),h=s(111),c=s(5112),u=c("species"),f=Array;i.exports=function(d){var p;return o(d)&&(p=d.constructor,l(p)&&(p===f||o(p.prototype))?p=void 0:h(p)&&(p=p[u],p===null&&(p=void 0))),p===void 0?f:p}},5417:(i,n,s)=>{var o=s(7475);i.exports=function(l,h){return new(o(l))(h===0?0:h)}},7072:(i,n,s)=>{var o=s(5112),l=o("iterator"),h=!1;try{var c=0,u={next:function(){return{done:!!c++}},return:function(){h=!0}};u[l]=function(){return this},Array.from(u,function(){throw 2})}catch{}i.exports=function(f,d){if(!d&&!h)return!1;var p=!1;try{var m={};m[l]=function(){return{next:function(){return{done:p=!0}}}},f(m)}catch{}return p}},4326:(i,n,s)=>{var o=s(1702),l=o({}.toString),h=o("".slice);i.exports=function(c){return h(l(c),8,-1)}},648:(i,n,s)=>{var o=s(1694),l=s(614),h=s(4326),c=s(5112),u=c("toStringTag"),f=Object,d=h(function(){return arguments}())=="Arguments",p=function(m,g){try{return m[g]}catch{}};i.exports=o?h:function(m){var g,v,_;return m===void 0?"Undefined":m===null?"Null":typeof(v=p(g=f(m),u))=="string"?v:d?h(g):(_=h(g))=="Object"&&l(g.callee)?"Arguments":_}},9920:(i,n,s)=>{var o=s(2597),l=s(3887),h=s(1236),c=s(3070);i.exports=function(u,f,d){for(var p=l(f),m=c.f,g=h.f,v=0;v<p.length;v++){var _=p[v];!o(u,_)&&!(d&&o(d,_))&&m(u,_,g(f,_))}}},8880:(i,n,s)=>{var o=s(9781),l=s(3070),h=s(9114);i.exports=o?function(c,u,f){return l.f(c,u,h(1,f))}:function(c,u,f){return c[u]=f,c}},9114:i=>{i.exports=function(n,s){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:s}}},7045:(i,n,s)=>{var o=s(6339),l=s(3070);i.exports=function(h,c,u){return u.get&&o(u.get,c,{getter:!0}),u.set&&o(u.set,c,{setter:!0}),l.f(h,c,u)}},8052:(i,n,s)=>{var o=s(614),l=s(3070),h=s(6339),c=s(3072);i.exports=function(u,f,d,p){p||(p={});var m=p.enumerable,g=p.name!==void 0?p.name:f;if(o(d)&&h(d,g,p),p.global)m?u[f]=d:c(f,d);else{try{p.unsafe?u[f]&&(m=!0):delete u[f]}catch{}m?u[f]=d:l.f(u,f,{value:d,enumerable:!1,configurable:!p.nonConfigurable,writable:!p.nonWritable})}return u}},3072:(i,n,s)=>{var o=s(7854),l=Object.defineProperty;i.exports=function(h,c){try{l(o,h,{value:c,configurable:!0,writable:!0})}catch{o[h]=c}return c}},9781:(i,n,s)=>{var o=s(7293);i.exports=!o(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},4154:i=>{var n=typeof document=="object"&&document.all,s=typeof n=="undefined"&&n!==void 0;i.exports={all:n,IS_HTMLDDA:s}},317:(i,n,s)=>{var o=s(7854),l=s(111),h=o.document,c=l(h)&&l(h.createElement);i.exports=function(u){return c?h.createElement(u):{}}},8324:i=>{i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(i,n,s)=>{var o=s(317),l=o("span").classList,h=l&&l.constructor&&l.constructor.prototype;i.exports=h===Object.prototype?void 0:h},7871:(i,n,s)=>{var o=s(3823),l=s(5268);i.exports=!o&&!l&&typeof window=="object"&&typeof document=="object"},3823:i=>{i.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},1528:(i,n,s)=>{var o=s(8113);i.exports=/ipad|iphone|ipod/i.test(o)&&typeof Pebble!="undefined"},6833:(i,n,s)=>{var o=s(8113);i.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(o)},5268:(i,n,s)=>{var o=s(4326);i.exports=typeof process!="undefined"&&o(process)=="process"},1036:(i,n,s)=>{var o=s(8113);i.exports=/web0s(?!.*chrome)/i.test(o)},8113:i=>{i.exports=typeof navigator!="undefined"&&String(navigator.userAgent)||""},7392:(i,n,s)=>{var o=s(7854),l=s(8113),h=o.process,c=o.Deno,u=h&&h.versions||c&&c.version,f=u&&u.v8,d,p;f&&(d=f.split("."),p=d[0]>0&&d[0]<4?1:+(d[0]+d[1])),!p&&l&&(d=l.match(/Edge\/(\d+)/),(!d||d[1]>=74)&&(d=l.match(/Chrome\/(\d+)/),d&&(p=+d[1]))),i.exports=p},748:i=>{i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1060:(i,n,s)=>{var o=s(1702),l=Error,h=o("".replace),c=function(d){return String(l(d).stack)}("zxcasd"),u=/\n\s*at [^:]*:[^\n]*/,f=u.test(c);i.exports=function(d,p){if(f&&typeof d=="string"&&!l.prepareStackTrace)for(;p--;)d=h(d,u,"");return d}},5392:(i,n,s)=>{var o=s(8880),l=s(1060),h=s(2914),c=Error.captureStackTrace;i.exports=function(u,f,d,p){h&&(c?c(u,f):o(u,"stack",l(d,p)))}},2914:(i,n,s)=>{var o=s(7293),l=s(9114);i.exports=!o(function(){var h=Error("a");return"stack"in h?(Object.defineProperty(h,"stack",l(1,7)),h.stack!==7):!0})},2109:(i,n,s)=>{var o=s(7854),l=s(1236).f,h=s(8880),c=s(8052),u=s(3072),f=s(9920),d=s(4705);i.exports=function(p,m){var g=p.target,v=p.global,_=p.stat,E,b,T,y,A,P;if(v?b=o:_?b=o[g]||u(g,{}):b=(o[g]||{}).prototype,b)for(T in m){if(A=m[T],p.dontCallGetSet?(P=l(b,T),y=P&&P.value):y=b[T],E=d(v?T:g+(_?".":"#")+T,p.forced),!E&&y!==void 0){if(typeof A==typeof y)continue;f(A,y)}(p.sham||y&&y.sham)&&h(A,"sham",!0),c(b,T,A,p)}}},7293:i=>{i.exports=function(n){try{return!!n()}catch{return!0}}},2104:(i,n,s)=>{var o=s(4374),l=Function.prototype,h=l.apply,c=l.call;i.exports=typeof Reflect=="object"&&Reflect.apply||(o?c.bind(h):function(){return c.apply(h,arguments)})},9974:(i,n,s)=>{var o=s(1470),l=s(9662),h=s(4374),c=o(o.bind);i.exports=function(u,f){return l(u),f===void 0?u:h?c(u,f):function(){return u.apply(f,arguments)}}},4374:(i,n,s)=>{var o=s(7293);i.exports=!o(function(){var l=function(){}.bind();return typeof l!="function"||l.hasOwnProperty("prototype")})},6916:(i,n,s)=>{var o=s(4374),l=Function.prototype.call;i.exports=o?l.bind(l):function(){return l.apply(l,arguments)}},6530:(i,n,s)=>{var o=s(9781),l=s(2597),h=Function.prototype,c=o&&Object.getOwnPropertyDescriptor,u=l(h,"name"),f=u&&function(){}.name==="something",d=u&&(!o||o&&c(h,"name").configurable);i.exports={EXISTS:u,PROPER:f,CONFIGURABLE:d}},5668:(i,n,s)=>{var o=s(1702),l=s(9662);i.exports=function(h,c,u){try{return o(l(Object.getOwnPropertyDescriptor(h,c)[u]))}catch{}}},1470:(i,n,s)=>{var o=s(4326),l=s(1702);i.exports=function(h){if(o(h)==="Function")return l(h)}},1702:(i,n,s)=>{var o=s(4374),l=Function.prototype,h=l.call,c=o&&l.bind.bind(h,h);i.exports=o?c:function(u){return function(){return h.apply(u,arguments)}}},5005:(i,n,s)=>{var o=s(7854),l=s(614),h=function(c){return l(c)?c:void 0};i.exports=function(c,u){return arguments.length<2?h(o[c]):o[c]&&o[c][u]}},1246:(i,n,s)=>{var o=s(648),l=s(8173),h=s(8554),c=s(7497),u=s(5112),f=u("iterator");i.exports=function(d){if(!h(d))return l(d,f)||l(d,"@@iterator")||c[o(d)]}},4121:(i,n,s)=>{var o=s(6916),l=s(9662),h=s(9670),c=s(6330),u=s(1246),f=TypeError;i.exports=function(d,p){var m=arguments.length<2?u(d):p;if(l(m))return h(o(m,d));throw f(c(d)+" is not iterable")}},8044:(i,n,s)=>{var o=s(1702),l=s(3157),h=s(614),c=s(4326),u=s(1340),f=o([].push);i.exports=function(d){if(h(d))return d;if(!!l(d)){for(var p=d.length,m=[],g=0;g<p;g++){var v=d[g];typeof v=="string"?f(m,v):(typeof v=="number"||c(v)=="Number"||c(v)=="String")&&f(m,u(v))}var _=m.length,E=!0;return function(b,T){if(E)return E=!1,T;if(l(this))return T;for(var y=0;y<_;y++)if(m[y]===b)return T}}}},8173:(i,n,s)=>{var o=s(9662),l=s(8554);i.exports=function(h,c){var u=h[c];return l(u)?void 0:o(u)}},7854:(i,n,s)=>{var o=function(l){return l&&l.Math==Math&&l};i.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof s.g=="object"&&s.g)||function(){return this}()||Function("return this")()},2597:(i,n,s)=>{var o=s(1702),l=s(7908),h=o({}.hasOwnProperty);i.exports=Object.hasOwn||function(u,f){return h(l(u),f)}},3501:i=>{i.exports={}},842:i=>{i.exports=function(n,s){try{arguments.length==1?console.error(n):console.error(n,s)}catch{}}},490:(i,n,s)=>{var o=s(5005);i.exports=o("document","documentElement")},4664:(i,n,s)=>{var o=s(9781),l=s(7293),h=s(317);i.exports=!o&&!l(function(){return Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a!=7})},8361:(i,n,s)=>{var o=s(1702),l=s(7293),h=s(4326),c=Object,u=o("".split);i.exports=l(function(){return!c("z").propertyIsEnumerable(0)})?function(f){return h(f)=="String"?u(f,""):c(f)}:c},9587:(i,n,s)=>{var o=s(614),l=s(111),h=s(7674);i.exports=function(c,u,f){var d,p;return h&&o(d=u.constructor)&&d!==f&&l(p=d.prototype)&&p!==f.prototype&&h(c,p),c}},2788:(i,n,s)=>{var o=s(1702),l=s(614),h=s(5465),c=o(Function.toString);l(h.inspectSource)||(h.inspectSource=function(u){return c(u)}),i.exports=h.inspectSource},8340:(i,n,s)=>{var o=s(111),l=s(8880);i.exports=function(h,c){o(c)&&"cause"in c&&l(h,"cause",c.cause)}},9909:(i,n,s)=>{var o=s(4811),l=s(7854),h=s(111),c=s(8880),u=s(2597),f=s(5465),d=s(6200),p=s(3501),m="Object already initialized",g=l.TypeError,v=l.WeakMap,_,E,b,T=function(w){return b(w)?E(w):_(w,{})},y=function(w){return function(I){var x;if(!h(I)||(x=E(I)).type!==w)throw g("Incompatible receiver, "+w+" required");return x}};if(o||f.state){var A=f.state||(f.state=new v);A.get=A.get,A.has=A.has,A.set=A.set,_=function(w,I){if(A.has(w))throw g(m);return I.facade=w,A.set(w,I),I},E=function(w){return A.get(w)||{}},b=function(w){return A.has(w)}}else{var P=d("state");p[P]=!0,_=function(w,I){if(u(w,P))throw g(m);return I.facade=w,c(w,P,I),I},E=function(w){return u(w,P)?w[P]:{}},b=function(w){return u(w,P)}}i.exports={set:_,get:E,has:b,enforce:T,getterFor:y}},7659:(i,n,s)=>{var o=s(5112),l=s(7497),h=o("iterator"),c=Array.prototype;i.exports=function(u){return u!==void 0&&(l.Array===u||c[h]===u)}},3157:(i,n,s)=>{var o=s(4326);i.exports=Array.isArray||function(h){return o(h)=="Array"}},614:(i,n,s)=>{var o=s(4154),l=o.all;i.exports=o.IS_HTMLDDA?function(h){return typeof h=="function"||h===l}:function(h){return typeof h=="function"}},4411:(i,n,s)=>{var o=s(1702),l=s(7293),h=s(614),c=s(648),u=s(5005),f=s(2788),d=function(){},p=[],m=u("Reflect","construct"),g=/^\s*(?:class|function)\b/,v=o(g.exec),_=!g.exec(d),E=function(y){if(!h(y))return!1;try{return m(d,p,y),!0}catch{return!1}},b=function(y){if(!h(y))return!1;switch(c(y)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return _||!!v(g,f(y))}catch{return!0}};b.sham=!0,i.exports=!m||l(function(){var T;return E(E.call)||!E(Object)||!E(function(){T=!0})||T})?b:E},4705:(i,n,s)=>{var o=s(7293),l=s(614),h=/#|\.prototype\./,c=function(m,g){var v=f[u(m)];return v==p?!0:v==d?!1:l(g)?o(g):!!g},u=c.normalize=function(m){return String(m).replace(h,".").toLowerCase()},f=c.data={},d=c.NATIVE="N",p=c.POLYFILL="P";i.exports=c},8554:i=>{i.exports=function(n){return n==null}},111:(i,n,s)=>{var o=s(614),l=s(4154),h=l.all;i.exports=l.IS_HTMLDDA?function(c){return typeof c=="object"?c!==null:o(c)||c===h}:function(c){return typeof c=="object"?c!==null:o(c)}},1913:i=>{i.exports=!1},2190:(i,n,s)=>{var o=s(5005),l=s(614),h=s(7976),c=s(3307),u=Object;i.exports=c?function(f){return typeof f=="symbol"}:function(f){var d=o("Symbol");return l(d)&&h(d.prototype,u(f))}},408:(i,n,s)=>{var o=s(9974),l=s(6916),h=s(9670),c=s(6330),u=s(7659),f=s(6244),d=s(7976),p=s(4121),m=s(1246),g=s(9212),v=TypeError,_=function(b,T){this.stopped=b,this.result=T},E=_.prototype;i.exports=function(b,T,y){var A=y&&y.that,P=!!(y&&y.AS_ENTRIES),w=!!(y&&y.IS_RECORD),I=!!(y&&y.IS_ITERATOR),x=!!(y&&y.INTERRUPTED),S=o(T,A),C,R,L,N,D,V,$,W=function(z){return C&&g(C,"normal",z),new _(!0,z)},k=function(z){return P?(h(z),x?S(z[0],z[1],W):S(z[0],z[1])):x?S(z,W):S(z)};if(w)C=b.iterator;else if(I)C=b;else{if(R=m(b),!R)throw v(c(b)+" is not iterable");if(u(R)){for(L=0,N=f(b);N>L;L++)if(D=k(b[L]),D&&d(E,D))return D;return new _(!1)}C=p(b,R)}for(V=w?b.next:C.next;!($=l(V,C)).done;){try{D=k($.value)}catch(z){g(C,"throw",z)}if(typeof D=="object"&&D&&d(E,D))return D}return new _(!1)}},9212:(i,n,s)=>{var o=s(6916),l=s(9670),h=s(8173);i.exports=function(c,u,f){var d,p;l(c);try{if(d=h(c,"return"),!d){if(u==="throw")throw f;return f}d=o(d,c)}catch(m){p=!0,d=m}if(u==="throw")throw f;if(p)throw d;return l(d),f}},7497:i=>{i.exports={}},6244:(i,n,s)=>{var o=s(7466);i.exports=function(l){return o(l.length)}},6339:(i,n,s)=>{var o=s(1702),l=s(7293),h=s(614),c=s(2597),u=s(9781),f=s(6530).CONFIGURABLE,d=s(2788),p=s(9909),m=p.enforce,g=p.get,v=String,_=Object.defineProperty,E=o("".slice),b=o("".replace),T=o([].join),y=u&&!l(function(){return _(function(){},"length",{value:8}).length!==8}),A=String(String).split("String"),P=i.exports=function(w,I,x){E(v(I),0,7)==="Symbol("&&(I="["+b(v(I),/^Symbol\(([^)]*)\)/,"$1")+"]"),x&&x.getter&&(I="get "+I),x&&x.setter&&(I="set "+I),(!c(w,"name")||f&&w.name!==I)&&(u?_(w,"name",{value:I,configurable:!0}):w.name=I),y&&x&&c(x,"arity")&&w.length!==x.arity&&_(w,"length",{value:x.arity});try{x&&c(x,"constructor")&&x.constructor?u&&_(w,"prototype",{writable:!1}):w.prototype&&(w.prototype=void 0)}catch{}var S=m(w);return c(S,"source")||(S.source=T(A,typeof I=="string"?I:"")),w};Function.prototype.toString=P(function(){return h(this)&&g(this).source||d(this)},"toString")},4758:i=>{var n=Math.ceil,s=Math.floor;i.exports=Math.trunc||function(l){var h=+l;return(h>0?s:n)(h)}},5948:(i,n,s)=>{var o=s(7854),l=s(9974),h=s(1236).f,c=s(261).set,u=s(8572),f=s(6833),d=s(1528),p=s(1036),m=s(5268),g=o.MutationObserver||o.WebKitMutationObserver,v=o.document,_=o.process,E=o.Promise,b=h(o,"queueMicrotask"),T=b&&b.value,y,A,P,w,I;if(!T){var x=new u,S=function(){var C,R;for(m&&(C=_.domain)&&C.exit();R=x.get();)try{R()}catch(L){throw x.head&&y(),L}C&&C.enter()};!f&&!m&&!p&&g&&v?(A=!0,P=v.createTextNode(""),new g(S).observe(P,{characterData:!0}),y=function(){P.data=A=!A}):!d&&E&&E.resolve?(w=E.resolve(void 0),w.constructor=E,I=l(w.then,w),y=function(){I(S)}):m?y=function(){_.nextTick(S)}:(c=l(c,o),y=function(){c(S)}),T=function(C){x.head||y(),x.add(C)}}i.exports=T},8523:(i,n,s)=>{var o=s(9662),l=TypeError,h=function(c){var u,f;this.promise=new c(function(d,p){if(u!==void 0||f!==void 0)throw l("Bad Promise constructor");u=d,f=p}),this.resolve=o(u),this.reject=o(f)};i.exports.f=function(c){return new h(c)}},6277:(i,n,s)=>{var o=s(1340);i.exports=function(l,h){return l===void 0?arguments.length<2?"":h:o(l)}},3070:(i,n,s)=>{var o=s(9781),l=s(4664),h=s(3353),c=s(9670),u=s(4948),f=TypeError,d=Object.defineProperty,p=Object.getOwnPropertyDescriptor,m="enumerable",g="configurable",v="writable";n.f=o?h?function(E,b,T){if(c(E),b=u(b),c(T),typeof E=="function"&&b==="prototype"&&"value"in T&&v in T&&!T[v]){var y=p(E,b);y&&y[v]&&(E[b]=T.value,T={configurable:g in T?T[g]:y[g],enumerable:m in T?T[m]:y[m],writable:!1})}return d(E,b,T)}:d:function(E,b,T){if(c(E),b=u(b),c(T),l)try{return d(E,b,T)}catch{}if("get"in T||"set"in T)throw f("Accessors not supported");return"value"in T&&(E[b]=T.value),E}},1236:(i,n,s)=>{var o=s(9781),l=s(6916),h=s(5296),c=s(9114),u=s(5656),f=s(4948),d=s(2597),p=s(4664),m=Object.getOwnPropertyDescriptor;n.f=o?m:function(v,_){if(v=u(v),_=f(_),p)try{return m(v,_)}catch{}if(d(v,_))return c(!l(h.f,v,_),v[_])}},8006:(i,n,s)=>{var o=s(6324),l=s(748),h=l.concat("length","prototype");n.f=Object.getOwnPropertyNames||function(u){return o(u,h)}},5181:(i,n)=>{n.f=Object.getOwnPropertySymbols},7976:(i,n,s)=>{var o=s(1702);i.exports=o({}.isPrototypeOf)},6324:(i,n,s)=>{var o=s(1702),l=s(2597),h=s(5656),c=s(1318).indexOf,u=s(3501),f=o([].push);i.exports=function(d,p){var m=h(d),g=0,v=[],_;for(_ in m)!l(u,_)&&l(m,_)&&f(v,_);for(;p.length>g;)l(m,_=p[g++])&&(~c(v,_)||f(v,_));return v}},1956:(i,n,s)=>{var o=s(6324),l=s(748);i.exports=Object.keys||function(c){return o(c,l)}},5296:(i,n)=>{var s={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,l=o&&!s.call({1:2},1);n.f=l?function(c){var u=o(this,c);return!!u&&u.enumerable}:s},7674:(i,n,s)=>{var o=s(5668),l=s(9670),h=s(6077);i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c=!1,u={},f;try{f=o(Object.prototype,"__proto__","set"),f(u,[]),c=u instanceof Array}catch{}return function(p,m){return l(p),h(m),c?f(p,m):p.__proto__=m,p}}():void 0)},288:(i,n,s)=>{var o=s(1694),l=s(648);i.exports=o?{}.toString:function(){return"[object "+l(this)+"]"}},2140:(i,n,s)=>{var o=s(6916),l=s(614),h=s(111),c=TypeError;i.exports=function(u,f){var d,p;if(f==="string"&&l(d=u.toString)&&!h(p=o(d,u))||l(d=u.valueOf)&&!h(p=o(d,u))||f!=="string"&&l(d=u.toString)&&!h(p=o(d,u)))return p;throw c("Can't convert object to primitive value")}},3887:(i,n,s)=>{var o=s(5005),l=s(1702),h=s(8006),c=s(5181),u=s(9670),f=l([].concat);i.exports=o("Reflect","ownKeys")||function(p){var m=h.f(u(p)),g=c.f;return g?f(m,g(p)):m}},2534:i=>{i.exports=function(n){try{return{error:!1,value:n()}}catch(s){return{error:!0,value:s}}}},3702:(i,n,s)=>{var o=s(7854),l=s(2492),h=s(614),c=s(4705),u=s(2788),f=s(5112),d=s(7871),p=s(3823),m=s(1913),g=s(7392),v=l&&l.prototype,_=f("species"),E=!1,b=h(o.PromiseRejectionEvent),T=c("Promise",function(){var y=u(l),A=y!==String(l);if(!A&&g===66||m&&!(v.catch&&v.finally))return!0;if(!g||g<51||!/native code/.test(y)){var P=new l(function(x){x(1)}),w=function(x){x(function(){},function(){})},I=P.constructor={};if(I[_]=w,E=P.then(function(){})instanceof w,!E)return!0}return!A&&(d||p)&&!b});i.exports={CONSTRUCTOR:T,REJECTION_EVENT:b,SUBCLASSING:E}},2492:(i,n,s)=>{var o=s(7854);i.exports=o.Promise},9478:(i,n,s)=>{var o=s(9670),l=s(111),h=s(8523);i.exports=function(c,u){if(o(c),l(u)&&u.constructor===c)return u;var f=h.f(c),d=f.resolve;return d(u),f.promise}},612:(i,n,s)=>{var o=s(2492),l=s(7072),h=s(3702).CONSTRUCTOR;i.exports=h||!l(function(c){o.all(c).then(void 0,function(){})})},2626:(i,n,s)=>{var o=s(3070).f;i.exports=function(l,h,c){c in l||o(l,c,{configurable:!0,get:function(){return h[c]},set:function(u){h[c]=u}})}},8572:i=>{var n=function(){this.head=null,this.tail=null};n.prototype={add:function(s){var o={item:s,next:null},l=this.tail;l?l.next=o:this.head=o,this.tail=o},get:function(){var s=this.head;if(s){var o=this.head=s.next;return o===null&&(this.tail=null),s.item}}},i.exports=n},4488:(i,n,s)=>{var o=s(8554),l=TypeError;i.exports=function(h){if(o(h))throw l("Can't call method on "+h);return h}},6340:(i,n,s)=>{var o=s(5005),l=s(7045),h=s(5112),c=s(9781),u=h("species");i.exports=function(f){var d=o(f);c&&d&&!d[u]&&l(d,u,{configurable:!0,get:function(){return this}})}},8003:(i,n,s)=>{var o=s(3070).f,l=s(2597),h=s(5112),c=h("toStringTag");i.exports=function(u,f,d){u&&!d&&(u=u.prototype),u&&!l(u,c)&&o(u,c,{configurable:!0,value:f})}},6200:(i,n,s)=>{var o=s(2309),l=s(9711),h=o("keys");i.exports=function(c){return h[c]||(h[c]=l(c))}},5465:(i,n,s)=>{var o=s(7854),l=s(3072),h="__core-js_shared__",c=o[h]||l(h,{});i.exports=c},2309:(i,n,s)=>{var o=s(1913),l=s(5465);(i.exports=function(h,c){return l[h]||(l[h]=c!==void 0?c:{})})("versions",[]).push({version:"3.30.0",mode:o?"pure":"global",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.0/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:(i,n,s)=>{var o=s(9670),l=s(9483),h=s(8554),c=s(5112),u=c("species");i.exports=function(f,d){var p=o(f).constructor,m;return p===void 0||h(m=o(p)[u])?d:l(m)}},6293:(i,n,s)=>{var o=s(7392),l=s(7293);i.exports=!!Object.getOwnPropertySymbols&&!l(function(){var h=Symbol();return!String(h)||!(Object(h)instanceof Symbol)||!Symbol.sham&&o&&o<41})},261:(i,n,s)=>{var o=s(7854),l=s(2104),h=s(9974),c=s(614),u=s(2597),f=s(7293),d=s(490),p=s(206),m=s(317),g=s(8053),v=s(6833),_=s(5268),E=o.setImmediate,b=o.clearImmediate,T=o.process,y=o.Dispatch,A=o.Function,P=o.MessageChannel,w=o.String,I=0,x={},S="onreadystatechange",C,R,L,N;f(function(){C=o.location});var D=function(k){if(u(x,k)){var z=x[k];delete x[k],z()}},V=function(k){return function(){D(k)}},$=function(k){D(k.data)},W=function(k){o.postMessage(w(k),C.protocol+"//"+C.host)};(!E||!b)&&(E=function(z){g(arguments.length,1);var tt=c(z)?z:A(z),X=p(arguments,1);return x[++I]=function(){l(tt,void 0,X)},R(I),I},b=function(z){delete x[z]},_?R=function(k){T.nextTick(V(k))}:y&&y.now?R=function(k){y.now(V(k))}:P&&!v?(L=new P,N=L.port2,L.port1.onmessage=$,R=h(N.postMessage,N)):o.addEventListener&&c(o.postMessage)&&!o.importScripts&&C&&C.protocol!=="file:"&&!f(W)?(R=W,o.addEventListener("message",$,!1)):S in m("script")?R=function(k){d.appendChild(m("script"))[S]=function(){d.removeChild(this),D(k)}}:R=function(k){setTimeout(V(k),0)}),i.exports={set:E,clear:b}},1400:(i,n,s)=>{var o=s(9303),l=Math.max,h=Math.min;i.exports=function(c,u){var f=o(c);return f<0?l(f+u,0):h(f,u)}},5656:(i,n,s)=>{var o=s(8361),l=s(4488);i.exports=function(h){return o(l(h))}},9303:(i,n,s)=>{var o=s(4758);i.exports=function(l){var h=+l;return h!==h||h===0?0:o(h)}},7466:(i,n,s)=>{var o=s(9303),l=Math.min;i.exports=function(h){return h>0?l(o(h),9007199254740991):0}},7908:(i,n,s)=>{var o=s(4488),l=Object;i.exports=function(h){return l(o(h))}},7593:(i,n,s)=>{var o=s(6916),l=s(111),h=s(2190),c=s(8173),u=s(2140),f=s(5112),d=TypeError,p=f("toPrimitive");i.exports=function(m,g){if(!l(m)||h(m))return m;var v=c(m,p),_;if(v){if(g===void 0&&(g="default"),_=o(v,m,g),!l(_)||h(_))return _;throw d("Can't convert object to primitive value")}return g===void 0&&(g="number"),u(m,g)}},4948:(i,n,s)=>{var o=s(7593),l=s(2190);i.exports=function(h){var c=o(h,"string");return l(c)?c:c+""}},1694:(i,n,s)=>{var o=s(5112),l=o("toStringTag"),h={};h[l]="z",i.exports=String(h)==="[object z]"},1340:(i,n,s)=>{var o=s(648),l=String;i.exports=function(h){if(o(h)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return l(h)}},6330:i=>{var n=String;i.exports=function(s){try{return n(s)}catch{return"Object"}}},9711:(i,n,s)=>{var o=s(1702),l=0,h=Math.random(),c=o(1 .toString);i.exports=function(u){return"Symbol("+(u===void 0?"":u)+")_"+c(++l+h,36)}},3307:(i,n,s)=>{var o=s(6293);i.exports=o&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},3353:(i,n,s)=>{var o=s(9781),l=s(7293);i.exports=o&&l(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},8053:i=>{var n=TypeError;i.exports=function(s,o){if(s<o)throw n("Not enough arguments");return s}},4811:(i,n,s)=>{var o=s(7854),l=s(614),h=o.WeakMap;i.exports=l(h)&&/native code/.test(String(h))},5112:(i,n,s)=>{var o=s(7854),l=s(2309),h=s(2597),c=s(9711),u=s(6293),f=s(3307),d=o.Symbol,p=l("wks"),m=f?d.for||d:d&&d.withoutSetter||c;i.exports=function(g){return h(p,g)||(p[g]=u&&h(d,g)?d[g]:m("Symbol."+g)),p[g]}},9191:(i,n,s)=>{var o=s(5005),l=s(2597),h=s(8880),c=s(7976),u=s(7674),f=s(9920),d=s(2626),p=s(9587),m=s(6277),g=s(8340),v=s(5392),_=s(9781),E=s(1913);i.exports=function(b,T,y,A){var P="stackTraceLimit",w=A?2:1,I=b.split("."),x=I[I.length-1],S=o.apply(null,I);if(!!S){var C=S.prototype;if(!E&&l(C,"cause")&&delete C.cause,!y)return S;var R=o("Error"),L=T(function(N,D){var V=m(A?D:N,void 0),$=A?new S(N):new S;return V!==void 0&&h($,"message",V),v($,L,$.stack,2),this&&c(C,this)&&p($,this,L),arguments.length>w&&g($,arguments[w]),$});if(L.prototype=C,x!=="Error"?u?u(L,R):f(L,R,{name:!0}):_&&P in S&&(d(L,S,P),d(L,S,"prepareStackTrace")),f(L,S),!E)try{C.name!==x&&h(C,"name",x),C.constructor=L}catch{}return L}}},1703:(i,n,s)=>{var o=s(2109),l=s(7854),h=s(2104),c=s(9191),u="WebAssembly",f=l[u],d=Error("e",{cause:7}).cause!==7,p=function(g,v){var _={};_[g]=c(g,v,d),o({global:!0,constructor:!0,arity:1,forced:d},_)},m=function(g,v){if(f&&f[g]){var _={};_[g]=c(u+"."+g,v,d),o({target:u,stat:!0,constructor:!0,arity:1,forced:d},_)}};p("Error",function(g){return function(_){return h(g,this,arguments)}}),p("EvalError",function(g){return function(_){return h(g,this,arguments)}}),p("RangeError",function(g){return function(_){return h(g,this,arguments)}}),p("ReferenceError",function(g){return function(_){return h(g,this,arguments)}}),p("SyntaxError",function(g){return function(_){return h(g,this,arguments)}}),p("TypeError",function(g){return function(_){return h(g,this,arguments)}}),p("URIError",function(g){return function(_){return h(g,this,arguments)}}),m("CompileError",function(g){return function(_){return h(g,this,arguments)}}),m("LinkError",function(g){return function(_){return h(g,this,arguments)}}),m("RuntimeError",function(g){return function(_){return h(g,this,arguments)}})},8862:(i,n,s)=>{var o=s(2109),l=s(5005),h=s(2104),c=s(6916),u=s(1702),f=s(7293),d=s(614),p=s(2190),m=s(206),g=s(8044),v=s(6293),_=String,E=l("JSON","stringify"),b=u(/./.exec),T=u("".charAt),y=u("".charCodeAt),A=u("".replace),P=u(1 .toString),w=/[\uD800-\uDFFF]/g,I=/^[\uD800-\uDBFF]$/,x=/^[\uDC00-\uDFFF]$/,S=!v||f(function(){var N=l("Symbol")();return E([N])!="[null]"||E({a:N})!="{}"||E(Object(N))!="{}"}),C=f(function(){return E("\uDF06\uD834")!=='"\\udf06\\ud834"'||E("\uDEAD")!=='"\\udead"'}),R=function(N,D){var V=m(arguments),$=g(D);if(!(!d($)&&(N===void 0||p(N))))return V[1]=function(W,k){if(d($)&&(k=c($,this,_(W),k)),!p(k))return k},h(E,null,V)},L=function(N,D,V){var $=T(V,D-1),W=T(V,D+1);return b(I,N)&&!b(x,W)||b(x,N)&&!b(I,$)?"\\u"+P(y(N,0),16):N};E&&o({target:"JSON",stat:!0,arity:3,forced:S||C},{stringify:function(D,V,$){var W=m(arguments),k=h(S?R:E,null,W);return C&&typeof k=="string"?A(k,w,L):k}})},9070:(i,n,s)=>{var o=s(2109),l=s(9781),h=s(3070).f;o({target:"Object",stat:!0,forced:Object.defineProperty!==h,sham:!l},{defineProperty:h})},7941:(i,n,s)=>{var o=s(2109),l=s(7908),h=s(1956),c=s(7293),u=c(function(){h(1)});o({target:"Object",stat:!0,forced:u},{keys:function(d){return h(l(d))}})},1539:(i,n,s)=>{var o=s(1694),l=s(8052),h=s(288);o||l(Object.prototype,"toString",h,{unsafe:!0})},821:(i,n,s)=>{var o=s(2109),l=s(6916),h=s(9662),c=s(8523),u=s(2534),f=s(408),d=s(612);o({target:"Promise",stat:!0,forced:d},{all:function(m){var g=this,v=c.f(g),_=v.resolve,E=v.reject,b=u(function(){var T=h(g.resolve),y=[],A=0,P=1;f(m,function(w){var I=A++,x=!1;P++,l(T,g,w).then(function(S){x||(x=!0,y[I]=S,--P||_(y))},E)}),--P||_(y)});return b.error&&E(b.value),v.promise}})},4164:(i,n,s)=>{var o=s(2109),l=s(1913),h=s(3702).CONSTRUCTOR,c=s(2492),u=s(5005),f=s(614),d=s(8052),p=c&&c.prototype;if(o({target:"Promise",proto:!0,forced:h,real:!0},{catch:function(g){return this.then(void 0,g)}}),!l&&f(c)){var m=u("Promise").prototype.catch;p.catch!==m&&d(p,"catch",m,{unsafe:!0})}},3401:(i,n,s)=>{var o=s(2109),l=s(1913),h=s(5268),c=s(7854),u=s(6916),f=s(8052),d=s(7674),p=s(8003),m=s(6340),g=s(9662),v=s(614),_=s(111),E=s(5787),b=s(6707),T=s(261).set,y=s(5948),A=s(842),P=s(2534),w=s(8572),I=s(9909),x=s(2492),S=s(3702),C=s(8523),R="Promise",L=S.CONSTRUCTOR,N=S.REJECTION_EVENT,D=S.SUBCLASSING,V=I.getterFor(R),$=I.set,W=x&&x.prototype,k=x,z=W,tt=c.TypeError,X=c.document,J=c.process,et=C.f,Z=et,H=!!(X&&X.createEvent&&c.dispatchEvent),st="unhandledrejection",ft="rejectionhandled",nt=0,ht=1,K=2,B=1,it=2,rt,kt,fs,Me,xt=function(M){var j;return _(M)&&v(j=M.then)?j:!1},Wt=function(M,j){var G=j.value,Y=j.state==ht,Q=Y?M.ok:M.fail,Jt=M.resolve,ke=M.reject,qt=M.domain,te,ri,ni;try{Q?(Y||(j.rejection===it&&De(j),j.rejection=B),Q===!0?te=G:(qt&&qt.enter(),te=Q(G),qt&&(qt.exit(),ni=!0)),te===M.promise?ke(tt("Promise-chain cycle")):(ri=xt(te))?u(ri,te,Jt,ke):Jt(te)):ke(G)}catch(on){qt&&!ni&&qt.exit(),ke(on)}},_e=function(M,j){M.notified||(M.notified=!0,y(function(){for(var G=M.reactions,Y;Y=G.get();)Wt(Y,M);M.notified=!1,j&&!M.rejection&&be(M)}))},ye=function(M,j,G){var Y,Q;H?(Y=X.createEvent("Event"),Y.promise=j,Y.reason=G,Y.initEvent(M,!1,!0),c.dispatchEvent(Y)):Y={promise:j,reason:G},!N&&(Q=c["on"+M])?Q(Y):M===st&&A("Unhandled promise rejection",G)},be=function(M){u(T,c,function(){var j=M.facade,G=M.value,Y=Ee(M),Q;if(Y&&(Q=P(function(){h?J.emit("unhandledRejection",G,j):ye(st,j,G)}),M.rejection=h||Ee(M)?it:B,Q.error))throw Q.value})},Ee=function(M){return M.rejection!==B&&!M.parent},De=function(M){u(T,c,function(){var j=M.facade;h?J.emit("rejectionHandled",j):ye(ft,j,M.value)})},Ct=function(M,j,G){return function(Y){M(j,Y,G)}},Pt=function(M,j,G){M.done||(M.done=!0,G&&(M=G),M.value=j,M.state=K,_e(M,!0))},ps=function(M,j,G){if(!M.done){M.done=!0,G&&(M=G);try{if(M.facade===j)throw tt("Promise can't be resolved itself");var Y=xt(j);Y?y(function(){var Q={done:!1};try{u(Y,j,Ct(ps,Q,M),Ct(Pt,Q,M))}catch(Jt){Pt(Q,Jt,M)}}):(M.value=j,M.state=ht,_e(M,!1))}catch(Q){Pt({done:!1},Q,M)}}};if(L&&(k=function(j){E(this,z),g(j),u(rt,this);var G=V(this);try{j(Ct(ps,G),Ct(Pt,G))}catch(Y){Pt(G,Y)}},z=k.prototype,rt=function(j){$(this,{type:R,done:!1,notified:!1,parent:!1,reactions:new w,rejection:!1,state:nt,value:void 0})},rt.prototype=f(z,"then",function(j,G){var Y=V(this),Q=et(b(this,k));return Y.parent=!0,Q.ok=v(j)?j:!0,Q.fail=v(G)&&G,Q.domain=h?J.domain:void 0,Y.state==nt?Y.reactions.add(Q):y(function(){Wt(Q,Y)}),Q.promise}),kt=function(){var M=new rt,j=V(M);this.promise=M,this.resolve=Ct(ps,j),this.reject=Ct(Pt,j)},C.f=et=function(M){return M===k||M===fs?new kt(M):Z(M)},!l&&v(x)&&W!==Object.prototype)){Me=W.then,D||f(W,"then",function(j,G){var Y=this;return new k(function(Q,Jt){u(Me,Y,Q,Jt)}).then(j,G)},{unsafe:!0});try{delete W.constructor}catch{}d&&d(W,z)}o({global:!0,constructor:!0,wrap:!0,forced:L},{Promise:k}),p(k,R,!1,!0),m(R)},8674:(i,n,s)=>{s(3401),s(821),s(4164),s(6027),s(683),s(6294)},6027:(i,n,s)=>{var o=s(2109),l=s(6916),h=s(9662),c=s(8523),u=s(2534),f=s(408),d=s(612);o({target:"Promise",stat:!0,forced:d},{race:function(m){var g=this,v=c.f(g),_=v.reject,E=u(function(){var b=h(g.resolve);f(m,function(T){l(b,g,T).then(v.resolve,_)})});return E.error&&_(E.value),v.promise}})},683:(i,n,s)=>{var o=s(2109),l=s(6916),h=s(8523),c=s(3702).CONSTRUCTOR;o({target:"Promise",stat:!0,forced:c},{reject:function(f){var d=h.f(this);return l(d.reject,void 0,f),d.promise}})},6294:(i,n,s)=>{var o=s(2109),l=s(5005),h=s(1913),c=s(2492),u=s(3702).CONSTRUCTOR,f=s(9478),d=l("Promise"),p=h&&!u;o({target:"Promise",stat:!0,forced:h||u},{resolve:function(g){return f(p&&this===d?c:this,g)}})},4747:(i,n,s)=>{var o=s(7854),l=s(8324),h=s(8509),c=s(8533),u=s(8880),f=function(p){if(p&&p.forEach!==c)try{u(p,"forEach",c)}catch{p.forEach=c}};for(var d in l)l[d]&&f(o[d]&&o[d].prototype);f(h)}},t={};function e(i){var n=t[i];if(n!==void 0)return n.exports;var s=t[i]={exports:{}};return a[i](s,s.exports,e),s.exports}e.d=(i,n)=>{for(var s in n)e.o(n,s)&&!e.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:n[s]})},e.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),e.o=(i,n)=>Object.prototype.hasOwnProperty.call(i,n),e.r=i=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{e.r(r),e.d(r,{default:()=>m,init:()=>n,send:()=>f,sendForm:()=>p});var i={_origin:"https://api.emailjs.com"},n=function(v){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"https://api.emailjs.com";i._userID=v,i._origin=_};e(8862);var s=function(v,_,E){if(!v)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!_)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!E)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};e(1539),e(8674),e(4747),e(7941),e(1703),e(9070);function o(g,v){for(var _=0;_<v.length;_++){var E=v[_];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(g,E.key,E)}}function l(g,v,_){return v&&o(g.prototype,v),_&&o(g,_),g}function h(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}var c=l(function g(v){h(this,g),this.status=v?v.status:0,this.text=v?v.responseText:"Network Error"}),u=function(v,_){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise(function(b,T){var y=new XMLHttpRequest;y.addEventListener("load",function(A){var P=A.target,w=new c(P);w.status===200||w.text==="OK"?b(w):T(w)}),y.addEventListener("error",function(A){var P=A.target;T(new c(P))}),y.open("POST",i._origin+v,!0),Object.keys(E).forEach(function(A){y.setRequestHeader(A,E[A])}),y.send(_)})},f=function(v,_,E,b){var T=b||i._userID;s(T,v,_);var y={lib_version:"3.11.0",user_id:T,service_id:v,template_id:_,template_params:E};return u("/api/v1.0/email/send",JSON.stringify(y),{"Content-type":"application/json"})},d=function(v){var _;if(typeof v=="string"?_=document.querySelector(v):_=v,!_||_.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return _},p=function(v,_,E,b){var T=b||i._userID,y=d(E);s(T,v,_);var A=new FormData(y);return A.append("lib_version","3.11.0"),A.append("service_id",v),A.append("template_id",_),A.append("user_id",T),u("/api/v1.0/email/send-form",A)};const m={init:n,send:f,sendForm:p}})(),self.emailjs=r})();const sn=document.querySelector("#contact_form"),Ze=document.querySelector("#name"),Je=document.querySelector("#email"),qe=document.querySelector("#subject"),Ce=document.querySelector("#message"),rn=document.querySelector("#send"),ou=document.querySelector(".thanks"),Ji=document.querySelector(".spinner-border"),lu=document.querySelector(".valid-feedback"),nn=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,qi="is-invalid",Vs="is-valid";function us(a,t){const e=a.target;t?(e.classList.add(Vs),e.classList.remove(qi)):(e.classList.add(qi),e.classList.remove(Vs))}Ze.addEventListener("keyup",a=>{us(a,a.target.value.length>1),ds()});Je.addEventListener("keyup",a=>{us(a,!!a.target.value.match(nn)),ds()});qe.addEventListener("keyup",a=>{us(a,a.target.value.length>2),ds()});Ce.addEventListener("keyup",a=>{us(a,a.target.value.split(" ").length>5),ds(),lu.textContent=`${Ce.value.length} / 400`});function ds(){rn.disabled=!(Ze.value.length>1&&Je.value.match(nn)&&qe.value.length>2&&Ce.value.split(" ").length>5)}const hu={}.VITE_EMAILJS_ID,cu={}.VITE_CONTACT_SERVICE,uu={}.VITE_TEMPLATE_ID,du={}.VITE_IP_API_KEY,fu=`https://api.ipregistry.co/?key=${du}`,pu="https://api.emailjs.com/api/v1.0/email/send";async function gu(a){a.preventDefault(),rn.style.display="none",Ji.style.display="inline-block";let t;await fetch(fu).then(r=>r.json()).then(r=>t=`${r.location.country.flag.emoji} ${r.location.city}, ${r.location.latitude} ${r.location.longitude}`);var e={service_id:cu,template_id:uu,user_id:hu,template_params:{location:String(t),name:Ze.value,email:Je.value,subject:qe.value,message:Ce.value}};await fetch(pu,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(function(){Ji.style.display="none",ou.style.display="block",a.target.reset(),[Ze,Je,qe,Ce].forEach(r=>{r.classList.remove(Vs)})}).catch(function(r){alert("Something went wrong!! Please try again.")})}sn.addEventListener("submit",gu);sn.reset();var mu=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function vu(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var an={exports:{}};(function(a,t){(function(e,r){a.exports=r()})(mu,function(){return function(e){function r(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return e[n].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}var i={};return r.m=e,r.c=i,r.p="dist/",r(0)}([function(e,r,i){function n(R){return R&&R.__esModule?R:{default:R}}var s=Object.assign||function(R){for(var L=1;L<arguments.length;L++){var N=arguments[L];for(var D in N)Object.prototype.hasOwnProperty.call(N,D)&&(R[D]=N[D])}return R},o=i(1),l=(n(o),i(6)),h=n(l),c=i(7),u=n(c),f=i(8),d=n(f),p=i(9),m=n(p),g=i(10),v=n(g),_=i(11),E=n(_),b=i(14),T=n(b),y=[],A=!1,P={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},w=function(){var R=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(R&&(A=!0),A)return y=(0,E.default)(y,P),(0,v.default)(y,P.once),y},I=function(){y=(0,T.default)(),w()},x=function(){y.forEach(function(R,L){R.node.removeAttribute("data-aos"),R.node.removeAttribute("data-aos-easing"),R.node.removeAttribute("data-aos-duration"),R.node.removeAttribute("data-aos-delay")})},S=function(R){return R===!0||R==="mobile"&&m.default.mobile()||R==="phone"&&m.default.phone()||R==="tablet"&&m.default.tablet()||typeof R=="function"&&R()===!0},C=function(R){P=s(P,R),y=(0,T.default)();var L=document.all&&!window.atob;return S(P.disable)||L?x():(P.disableMutationObserver||d.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),P.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",P.easing),document.querySelector("body").setAttribute("data-aos-duration",P.duration),document.querySelector("body").setAttribute("data-aos-delay",P.delay),P.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?w(!0):P.startEvent==="load"?window.addEventListener(P.startEvent,function(){w(!0)}):document.addEventListener(P.startEvent,function(){w(!0)}),window.addEventListener("resize",(0,u.default)(w,P.debounceDelay,!0)),window.addEventListener("orientationchange",(0,u.default)(w,P.debounceDelay,!0)),window.addEventListener("scroll",(0,h.default)(function(){(0,v.default)(y,P.once)},P.throttleDelay)),P.disableMutationObserver||d.default.ready("[data-aos]",I),y)};e.exports={init:C,refresh:w,refreshHard:I}},function(e,r){},,,,,function(e,r){(function(i){function n(S,C,R){function L(B){var it=X,rt=J;return X=J=void 0,ft=B,Z=S.apply(rt,it)}function N(B){return ft=B,H=setTimeout($,C),nt?L(B):Z}function D(B){var it=B-st,rt=B-ft,kt=C-it;return ht?I(kt,et-rt):kt}function V(B){var it=B-st,rt=B-ft;return st===void 0||it>=C||it<0||ht&&rt>=et}function $(){var B=x();return V(B)?W(B):void(H=setTimeout($,D(B)))}function W(B){return H=void 0,K&&X?L(B):(X=J=void 0,Z)}function k(){H!==void 0&&clearTimeout(H),ft=0,X=st=J=H=void 0}function z(){return H===void 0?Z:W(x())}function tt(){var B=x(),it=V(B);if(X=arguments,J=this,st=B,it){if(H===void 0)return N(st);if(ht)return H=setTimeout($,C),L(st)}return H===void 0&&(H=setTimeout($,C)),Z}var X,J,et,Z,H,st,ft=0,nt=!1,ht=!1,K=!0;if(typeof S!="function")throw new TypeError(f);return C=c(C)||0,o(R)&&(nt=!!R.leading,ht="maxWait"in R,et=ht?w(c(R.maxWait)||0,C):et,K="trailing"in R?!!R.trailing:K),tt.cancel=k,tt.flush=z,tt}function s(S,C,R){var L=!0,N=!0;if(typeof S!="function")throw new TypeError(f);return o(R)&&(L="leading"in R?!!R.leading:L,N="trailing"in R?!!R.trailing:N),n(S,C,{leading:L,maxWait:C,trailing:N})}function o(S){var C=typeof S=="undefined"?"undefined":u(S);return!!S&&(C=="object"||C=="function")}function l(S){return!!S&&(typeof S=="undefined"?"undefined":u(S))=="object"}function h(S){return(typeof S=="undefined"?"undefined":u(S))=="symbol"||l(S)&&P.call(S)==p}function c(S){if(typeof S=="number")return S;if(h(S))return d;if(o(S)){var C=typeof S.valueOf=="function"?S.valueOf():S;S=o(C)?C+"":C}if(typeof S!="string")return S===0?S:+S;S=S.replace(m,"");var R=v.test(S);return R||_.test(S)?E(S.slice(2),R?2:8):g.test(S)?d:+S}var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},f="Expected a function",d=NaN,p="[object Symbol]",m=/^\s+|\s+$/g,g=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,_=/^0o[0-7]+$/i,E=parseInt,b=(typeof i=="undefined"?"undefined":u(i))=="object"&&i&&i.Object===Object&&i,T=(typeof self=="undefined"?"undefined":u(self))=="object"&&self&&self.Object===Object&&self,y=b||T||Function("return this")(),A=Object.prototype,P=A.toString,w=Math.max,I=Math.min,x=function(){return y.Date.now()};e.exports=s}).call(r,function(){return this}())},function(e,r){(function(i){function n(x,S,C){function R(K){var B=tt,it=X;return tt=X=void 0,st=K,et=x.apply(it,B)}function L(K){return st=K,Z=setTimeout(V,S),ft?R(K):et}function N(K){var B=K-H,it=K-st,rt=S-B;return nt?w(rt,J-it):rt}function D(K){var B=K-H,it=K-st;return H===void 0||B>=S||B<0||nt&&it>=J}function V(){var K=I();return D(K)?$(K):void(Z=setTimeout(V,N(K)))}function $(K){return Z=void 0,ht&&tt?R(K):(tt=X=void 0,et)}function W(){Z!==void 0&&clearTimeout(Z),st=0,tt=H=X=Z=void 0}function k(){return Z===void 0?et:$(I())}function z(){var K=I(),B=D(K);if(tt=arguments,X=this,H=K,B){if(Z===void 0)return L(H);if(nt)return Z=setTimeout(V,S),R(H)}return Z===void 0&&(Z=setTimeout(V,S)),et}var tt,X,J,et,Z,H,st=0,ft=!1,nt=!1,ht=!0;if(typeof x!="function")throw new TypeError(u);return S=h(S)||0,s(C)&&(ft=!!C.leading,nt="maxWait"in C,J=nt?P(h(C.maxWait)||0,S):J,ht="trailing"in C?!!C.trailing:ht),z.cancel=W,z.flush=k,z}function s(x){var S=typeof x=="undefined"?"undefined":c(x);return!!x&&(S=="object"||S=="function")}function o(x){return!!x&&(typeof x=="undefined"?"undefined":c(x))=="object"}function l(x){return(typeof x=="undefined"?"undefined":c(x))=="symbol"||o(x)&&A.call(x)==d}function h(x){if(typeof x=="number")return x;if(l(x))return f;if(s(x)){var S=typeof x.valueOf=="function"?x.valueOf():x;x=s(S)?S+"":S}if(typeof x!="string")return x===0?x:+x;x=x.replace(p,"");var C=g.test(x);return C||v.test(x)?_(x.slice(2),C?2:8):m.test(x)?f:+x}var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},u="Expected a function",f=NaN,d="[object Symbol]",p=/^\s+|\s+$/g,m=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,v=/^0o[0-7]+$/i,_=parseInt,E=(typeof i=="undefined"?"undefined":c(i))=="object"&&i&&i.Object===Object&&i,b=(typeof self=="undefined"?"undefined":c(self))=="object"&&self&&self.Object===Object&&self,T=E||b||Function("return this")(),y=Object.prototype,A=y.toString,P=Math.max,w=Math.min,I=function(){return T.Date.now()};e.exports=n}).call(r,function(){return this}())},function(e,r){function i(c){var u=void 0,f=void 0;for(u=0;u<c.length;u+=1)if(f=c[u],f.dataset&&f.dataset.aos||f.children&&i(f.children))return!0;return!1}function n(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function s(){return!!n()}function o(c,u){var f=window.document,d=n(),p=new d(l);h=u,p.observe(f.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function l(c){c&&c.forEach(function(u){var f=Array.prototype.slice.call(u.addedNodes),d=Array.prototype.slice.call(u.removedNodes),p=f.concat(d);if(i(p))return h()})}Object.defineProperty(r,"__esModule",{value:!0});var h=function(){};r.default={isSupported:s,ready:o}},function(e,r){function i(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function n(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function f(d,p){for(var m=0;m<p.length;m++){var g=p[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return function(d,p,m){return p&&f(d.prototype,p),m&&f(d,m),d}}(),o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,h=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,c=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,u=function(){function f(){i(this,f)}return s(f,[{key:"phone",value:function(){var d=n();return!(!o.test(d)&&!l.test(d.substr(0,4)))}},{key:"mobile",value:function(){var d=n();return!(!h.test(d)&&!c.test(d.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),f}();r.default=new u},function(e,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(s,o,l){var h=s.node.getAttribute("data-aos-once");o>s.position?s.node.classList.add("aos-animate"):typeof h!="undefined"&&(h==="false"||!l&&h!=="true")&&s.node.classList.remove("aos-animate")},n=function(s,o){var l=window.pageYOffset,h=window.innerHeight;s.forEach(function(c,u){i(c,h+l,o)})};r.default=n},function(e,r,i){function n(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),o=n(s),l=function(h,c){return h.forEach(function(u,f){u.node.classList.add("aos-init"),u.position=(0,o.default)(u.node,c.offset)}),h};r.default=l},function(e,r,i){function n(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(r,"__esModule",{value:!0});var s=i(13),o=n(s),l=function(h,c){var u=0,f=0,d=window.innerHeight,p={offset:h.getAttribute("data-aos-offset"),anchor:h.getAttribute("data-aos-anchor"),anchorPlacement:h.getAttribute("data-aos-anchor-placement")};switch(p.offset&&!isNaN(p.offset)&&(f=parseInt(p.offset)),p.anchor&&document.querySelectorAll(p.anchor)&&(h=document.querySelectorAll(p.anchor)[0]),u=(0,o.default)(h).top,p.anchorPlacement){case"top-bottom":break;case"center-bottom":u+=h.offsetHeight/2;break;case"bottom-bottom":u+=h.offsetHeight;break;case"top-center":u+=d/2;break;case"bottom-center":u+=d/2+h.offsetHeight;break;case"center-center":u+=d/2+h.offsetHeight/2;break;case"top-top":u+=d;break;case"bottom-top":u+=h.offsetHeight+d;break;case"center-top":u+=h.offsetHeight/2+d}return p.anchorPlacement||p.offset||isNaN(c)||(f=c),u+f};r.default=l},function(e,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(n){for(var s=0,o=0;n&&!isNaN(n.offsetLeft)&&!isNaN(n.offsetTop);)s+=n.offsetLeft-(n.tagName!="BODY"?n.scrollLeft:0),o+=n.offsetTop-(n.tagName!="BODY"?n.scrollTop:0),n=n.offsetParent;return{top:o,left:s}};r.default=i},function(e,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(n){return n=n||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(n,function(s){return{node:s}})};r.default=i}])})})(an);var _u=vu(an.exports);_u.init({once:!0});
